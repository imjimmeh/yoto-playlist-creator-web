import{r as e,a as t,b as n,u as a,N as r,O as l,c as i,R as o,B as s,d as c,e as u}from"./vendor-DSy2PgXy.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var d,f,p={exports:{}},h={};var m,g,y,v,b=(f||(f=1,p.exports=function(){if(d)return h;d=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==n.key&&(r=""+n.key),"key"in n)for(var l in a={},n)"key"!==l&&(a[l]=n[l]);else a=n;return n=a.ref,{$$typeof:e,type:t,key:r,ref:void 0!==n?n:null,props:a}}return h.Fragment=t,h.jsx=n,h.jsxs=n,h}()),p.exports),k={exports:{}},w={},x={exports:{}},S={};function C(){return g||(g=1,x.exports=(m||(m=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,l=e[a];if(!(0<r(l,t)))break e;e[a]=t,e[n]=l,n=a}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,l=e.length,i=l>>>1;a<i;){var o=2*(a+1)-1,s=e[o],c=o+1,u=e[c];if(0>r(s,n))c<l&&0>r(u,s)?(e[a]=u,e[c]=n,a=c):(e[a]=s,e[o]=n,a=o);else{if(!(c<l&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var s=[],c=[],u=1,d=null,f=3,p=!1,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function k(e){for(var r=n(c);null!==r;){if(null===r.callback)a(c);else{if(!(r.startTime<=e))break;a(c),r.sortIndex=r.expirationTime,t(s,r)}r=n(c)}}function w(e){if(m=!1,k(e),!h)if(null!==n(s))h=!0,S||(S=!0,x());else{var t=n(c);null!==t&&A(w,t.startTime-e)}}var x,S=!1,C=-1,j=5,N=-1;function E(){return!(!g&&e.unstable_now()-N<j)}function I(){if(g=!1,S){var t=e.unstable_now();N=t;var r=!0;try{e:{h=!1,m&&(m=!1,v(C),C=-1),p=!0;var l=f;try{t:{for(k(t),d=n(s);null!==d&&!(d.expirationTime>t&&E());){var i=d.callback;if("function"==typeof i){d.callback=null,f=d.priorityLevel;var o=i(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,k(t),r=!0;break t}d===n(s)&&a(s),k(t)}else a(s);d=n(s)}if(null!==d)r=!0;else{var u=n(c);null!==u&&A(w,u.startTime-t),r=!1}}break e}finally{d=null,f=l,p=!1}r=void 0}}finally{r?x():S=!1}}}if("function"==typeof b)x=function(){b(I)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=I,x=function(){T.postMessage(null)}}else x=function(){y(I,0)};function A(t,n){C=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(a,r,l){var i=e.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?i+l:i,a){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return a={id:u++,callback:r,priorityLevel:a,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>i?(a.sortIndex=l,t(c,a),null===n(s)&&a===n(c)&&(m?(v(C),C=-1):m=!0,A(w,l-i))):(a.sortIndex=o,t(s,a),h||p||(h=!0,S||(S=!0,x()))),a},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(S)),S)),x.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function j(){if(y)return w;y=1;var n=C(),a=e(),r=t();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(o(e)!==e)throw Error(l(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case P:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case x:return(e.displayName||"Context")+".Provider";case k:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var F=Array.isArray,$=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_={pending:!1,data:null,method:null,action:null},R=[],U=-1;function O(e){return{current:e}}function q(e){0>U||(e.current=R[U],R[U]=null,U--)}function H(e,t){U++,R[U]=e.current,e.current=t}var J=O(null),B=O(null),V=O(null),Q=O(null);function Y(e,t){switch(H(V,t),H(B,e),H(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(J),H(J,e)}function W(){q(J),q(B),q(V)}function K(e){null!==e.memoizedState&&H(Q,e);var t=J.current,n=sd(t,e.type);t!==n&&(H(B,e),H(J,n))}function G(e){B.current===e&&(q(J),q(B)),Q.current===e&&(q(Q),Gd._currentValue=_)}var X=Object.prototype.hasOwnProperty,Z=n.unstable_scheduleCallback,te=n.unstable_cancelCallback,ne=n.unstable_shouldYield,ae=n.unstable_requestPaint,re=n.unstable_now,le=n.unstable_getCurrentPriorityLevel,ie=n.unstable_ImmediatePriority,oe=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ce=n.unstable_LowPriority,ue=n.unstable_IdlePriority,de=n.log,fe=n.unstable_setDisableYieldValue,pe=null,he=null;function me(e){if("function"==typeof de&&fe(e),he&&"function"==typeof he.setStrictMode)try{he.setStrictMode(pe,e)}catch(t){}}var ge=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ye(e)/ve|0)|0},ye=Math.log,ve=Math.LN2;var be=256,ke=4194304;function we(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~l)?r=we(a):0!==(i&=o)?r=we(i):n||0!==(n=o&~e)&&(r=we(n)):0!==(o=a&~l)?r=we(o):0!==i?r=we(i):n||0!==(n=a&~e)&&(r=we(n)),0===r?0:0!==t&&t!==r&&0===(t&l)&&((l=r&-r)>=(n=t&-t)||32===l&&4194048&n)?t:r}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=be;return!(4194048&(be<<=1))&&(be=256),e}function Ne(){var e=ke;return!(62914560&(ke<<=1))&&(ke=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ge(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ge(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Le(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:pf(e.type)}var De=Math.random().toString(36).slice(2),Fe="__reactFiber$"+De,$e="__reactProps$"+De,Me="__reactContainer$"+De,_e="__reactEvents$"+De,Re="__reactListeners$"+De,Ue="__reactHandles$"+De,Oe="__reactResources$"+De,qe="__reactMarker$"+De;function He(e){delete e[Fe],delete e[$e],delete e[_e],delete e[Re],delete e[Ue]}function Je(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Fe])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Fe]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Qe(e){var t=e[Oe];return t||(t=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[qe]=!0}var We=new Set,Ke={};function Ge(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ze,et,tt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nt={},at={};function rt(e,t,n){if(r=t,X.call(at,r)||!X.call(nt,r)&&(tt.test(r)?at[r]=!0:(nt[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function ot(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",et=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+et}var st=!1;function ct(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){a=l}e.call(n.prototype)}}else{try{throw Error()}catch(i){a=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&a&&"string"==typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),i=l[0],o=l[1];if(i&&o){var s=i.split("\n"),c=o.split("\n");for(r=a=0;a<s.length&&!s[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===s.length||r===c.length)for(a=s.length-1,r=c.length-1;1<=a&&0<=r&&s[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(s[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||s[a]!==c[r]){var u="\n"+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=r);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function ut(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return ct(e.type,!1);case 11:return ct(e.type.render,!1);case 1:return ct(e.type,!0);case 31:return ot("Activity");default:return""}}function dt(e){try{var t="";do{t+=ut(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=pt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=pt(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function gt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ee){return e.body}}var yt=/[\n"\\]/g;function vt(e){return e.replace(yt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,a,r,l,i,o){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?wt(e,i,ft(t)):null!=n?wt(e,i,ft(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=l&&(e.defaultChecked=!!l),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+ft(o):e.removeAttribute("name")}function kt(e,t,n,a,r,l,i,o){if(null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.type=l),null!=t||null!=n){if(("submit"===l||"reset"===l)&&null==t)return;n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:r)&&"symbol"!=typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i)}function wt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(l(92));if(F(a)){if(1<a.length)throw Error(l(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!=typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&Et(e,r,a)}else for(var i in t)t.hasOwnProperty(i)&&Et(e,i,t[i])}function Pt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ft=null,$t=null;function Mt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[$e]||null;if(!r)throw Error(l(90));bt(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&mt(a)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var _t=!1;function Rt(e,t,n){if(_t)return e(t,n);_t=!0;try{return e(t)}finally{if(_t=!1,(null!==Ft||null!==$t)&&(Jc(),Ft&&(t=Ft,e=$t,$t=Ft=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var a=n[$e]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(l(231,t,typeof n));return n}var Ot=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),qt=!1;if(Ot)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(ee){qt=!1}var Jt=null,Bt=null,Vt=null;function Qt(){if(Vt)return Vt;var e,t,n=Bt,a=n.length,r="value"in Jt?Jt.value:Jt.textContent,l=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[l-t];t++);return Vt=r.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,a,r,l){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Gt(tn),an=d({},tn,{view:0,detail:0}),rn=Gt(an),ln=d({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Gt(ln),sn=Gt(d({},ln,{dataTransfer:0})),cn=Gt(d({},an,{relatedTarget:0})),un=Gt(d({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Gt(d({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Gt(d({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Gt(d({},an,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Gt(d({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=Gt(d({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),wn=Gt(d({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Gt(d({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Gt(d({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],jn=Ot&&"CompositionEvent"in window,Nn=null;Ot&&"documentMode"in document&&(Nn=document.documentMode);var En=Ot&&"TextEvent"in window&&!Nn,In=Ot&&(!jn||Nn&&8<Nn&&11>=Nn),Pn=String.fromCharCode(32),Tn=!1;function An(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function $n(e,t,n,a){Ft?$t?$t.push(a):$t=[a]:Ft=a,0<(t=Qu(t,"onChange")).length&&(n=new nn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Mn=null,_n=null;function Rn(e){Ru(e,0)}function Un(e){if(mt(Ve(e)))return e}function On(e,t){if("change"===e)return t}var qn=!1;if(Ot){var Hn;if(Ot){var Jn="oninput"in document;if(!Jn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Jn="function"==typeof Bn.oninput}Hn=Jn}else Hn=!1;qn=Hn&&(!document.documentMode||9<document.documentMode)}function Vn(){Mn&&(Mn.detachEvent("onpropertychange",Qn),_n=Mn=null)}function Qn(e){if("value"===e.propertyName&&Un(_n)){var t=[];$n(t,_n,e,Dt(e)),Rt(Rn,t)}}function Yn(e,t,n){"focusin"===e?(Vn(),_n=n,(Mn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Vn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(_n)}function Kn(e,t){if("click"===e)return Un(t)}function Gn(e,t){if("input"===e||"change"===e)return Un(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!X.call(t,r)||!Xn(e[r],t[r]))return!1}return!0}function ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,t){var n,a=ea(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ea(a)}}function na(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?na(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function aa(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var la=Ot&&"documentMode"in document&&11>=document.documentMode,ia=null,oa=null,sa=null,ca=!1;function ua(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ca||null==ia||ia!==gt(a)||("selectionStart"in(a=ia)&&ra(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},sa&&Zn(sa,a)||(sa=a,0<(a=Qu(oa,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ia)))}function da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fa={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},pa={},ha={};function ma(e){if(pa[e])return pa[e];if(!fa[e])return e;var t,n=fa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ha)return pa[e]=n[t];return e}Ot&&(ha=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);var ga=ma("animationend"),ya=ma("animationiteration"),va=ma("animationstart"),ba=ma("transitionrun"),ka=ma("transitionstart"),wa=ma("transitioncancel"),xa=ma("transitionend"),Sa=new Map,Ca="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(e,t){Sa.set(e,t),Ge(t,[e])}Ca.push("scrollEnd");var Na=new WeakMap;function Ea(e,t){if("object"==typeof e&&null!==e){var n=Na.get(e);return void 0!==n?n:(t={value:e,source:t,stack:dt(t)},Na.set(e,t),t)}return{value:e,source:t,stack:dt(t)}}var Ia=[],Pa=0,Ta=0;function Aa(){for(var e=Pa,t=Ta=Pa=0;t<e;){var n=Ia[t];Ia[t++]=null;var a=Ia[t];Ia[t++]=null;var r=Ia[t];Ia[t++]=null;var l=Ia[t];if(Ia[t++]=null,null!==a&&null!==r){var i=a.pending;null===i?r.next=r:(r.next=i.next,i.next=r),a.pending=r}0!==l&&Fa(n,r,l)}}function za(e,t,n,a){Ia[Pa++]=e,Ia[Pa++]=t,Ia[Pa++]=n,Ia[Pa++]=a,Ta|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function La(e,t,n,a){return za(e,t,n,a),$a(e)}function Da(e,t){return za(e,null,null,t),$a(e)}function Fa(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(a=l.alternate)&&(a.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(r=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,r&&null!==t&&(r=31-ge(n),null===(a=(e=l.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),l):null}function $a(e){if(50<Fc)throw Fc=0,$c=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ma={};function _a(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(e,t,n,a){return new _a(e,t,n,a)}function Ua(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oa(e,t){var n=e.alternate;return null===n?((n=Ra(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qa(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ha(e,t,n,a,r,i){var o=0;if(a=e,"function"==typeof e)Ua(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,J.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Ra(31,n,t,r)).elementType=P,e.lanes=i,e;case m:return Ja(n.children,r,i,t);case g:o=8,r|=24;break;case v:return(e=Ra(12,n,t,2|r)).elementType=v,e.lanes=i,e;case j:return(e=Ra(13,n,t,r)).elementType=j,e.lanes=i,e;case N:return(e=Ra(19,n,t,r)).elementType=N,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:case x:o=10;break e;case k:o=9;break e;case S:o=11;break e;case E:o=14;break e;case I:o=16,a=null;break e}o=29,n=Error(l(130,null===e?"null":typeof e,"")),a=null}return(t=Ra(o,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function Ja(e,t,n,a){return(e=Ra(7,e,a,t)).lanes=n,e}function Ba(e,t,n){return(e=Ra(6,e,null,t)).lanes=n,e}function Va(e,t,n){return(t=Ra(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qa=[],Ya=0,Wa=null,Ka=0,Ga=[],Xa=0,Za=null,er=1,tr="";function nr(e,t){Qa[Ya++]=Ka,Qa[Ya++]=Wa,Wa=e,Ka=t}function ar(e,t,n){Ga[Xa++]=er,Ga[Xa++]=tr,Ga[Xa++]=Za,Za=e;var a=er;e=tr;var r=32-ge(a)-1;a&=~(1<<r),n+=1;var l=32-ge(t)+r;if(30<l){var i=r-r%5;l=(a&(1<<i)-1).toString(32),a>>=i,r-=i,er=1<<32-ge(t)+r|n<<r|a,tr=l+e}else er=1<<l|n<<r|a,tr=e}function rr(e){null!==e.return&&(nr(e,1),ar(e,1,0))}function lr(e){for(;e===Wa;)Wa=Qa[--Ya],Qa[Ya]=null,Ka=Qa[--Ya],Qa[Ya]=null;for(;e===Za;)Za=Ga[--Xa],Ga[Xa]=null,tr=Ga[--Xa],Ga[Xa]=null,er=Ga[--Xa],Ga[Xa]=null}var ir=null,or=null,sr=!1,cr=null,ur=!1,dr=Error(l(519));function fr(e){throw vr(Ea(Error(l(418,"")),e)),dr}function pr(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Fe]=e,t[$e]=a,n){case"dialog":Uu("cancel",t),Uu("close",t);break;case"iframe":case"object":case"embed":Uu("load",t);break;case"video":case"audio":for(n=0;n<Mu.length;n++)Uu(Mu[n],t);break;case"source":Uu("error",t);break;case"img":case"image":case"link":Uu("error",t),Uu("load",t);break;case"details":Uu("toggle",t);break;case"input":Uu("invalid",t),kt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ht(t);break;case"select":Uu("invalid",t);break;case"textarea":Uu("invalid",t),Ct(t,a.value,a.defaultValue,a.children),ht(t)}"string"!=typeof(n=a.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Zu(t.textContent,n)?(null!=a.popover&&(Uu("beforetoggle",t),Uu("toggle",t)),null!=a.onScroll&&Uu("scroll",t),null!=a.onScrollEnd&&Uu("scrollend",t),null!=a.onClick&&(t.onclick=ed),t=!0):t=!1,t||fr(e)}function hr(e){for(ir=e.return;ir;)switch(ir.tag){case 5:case 13:return void(ur=!1);case 27:case 3:return void(ur=!0);default:ir=ir.return}}function mr(e){if(e!==ir)return!1;if(!sr)return hr(e),sr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||cd(e.type,e.memoizedProps)),t=!t),t&&or&&fr(e),hr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){or=kd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}or=null}}else 27===n?(n=or,gd(e.type)?(e=wd,wd=null,or=e):or=n):or=ir?kd(e.stateNode.nextSibling):null;return!0}function gr(){or=ir=null,sr=!1}function yr(){var e=cr;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),cr=null),e}function vr(e){null===cr?cr=[e]:cr.push(e)}var br=O(null),kr=null,wr=null;function xr(e,t,n){H(br,t._currentValue),t._currentValue=n}function Sr(e){e._currentValue=br.current,q(br)}function Cr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function jr(e,t,n,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=r.dependencies;if(null!==i){var o=r.child;i=i.firstContext;e:for(;null!==i;){var s=i;i=r;for(var c=0;c<t.length;c++)if(s.context===t[c]){i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),Cr(i.return,n,e),a||(o=null);break e}i=s.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(l(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Cr(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function Nr(e,t,n,a){e=null;for(var r=t,i=!1;null!==r;){if(!i)if(524288&r.flags)i=!0;else if(262144&r.flags)break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(l(387));if(null!==(o=o.memoizedProps)){var s=r.type;Xn(r.pendingProps.value,o.value)||(null!==e?e.push(s):e=[s])}}else if(r===Q.current){if(null===(o=r.alternate))throw Error(l(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}r=r.return}null!==e&&jr(t,e,n,a),t.flags|=262144}function Er(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){kr=e,wr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pr(e){return Ar(kr,e)}function Tr(e,t){return null===kr&&Ir(e),Ar(e,t)}function Ar(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wr){if(null===e)throw Error(l(308));wr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wr=wr.next=t;return n}var zr="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lr=n.unstable_scheduleCallback,Dr=n.unstable_NormalPriority,Fr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $r(){return{controller:new zr,data:new Map,refCount:0}}function Mr(e){e.refCount--,0===e.refCount&&Lr(Dr,function(){e.controller.abort()})}var _r=null,Rr=0,Ur=0,Or=null;function qr(){if(0===--Rr&&null!==_r){null!==Or&&(Or.status="fulfilled");var e=_r;_r=null,Ur=0,Or=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Hr=$.S;$.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===_r){var n=_r=[];Rr=0,Ur=zu(),Or={status:"pending",value:void 0,then:function(e){n.push(e)}}}Rr++,t.then(qr,qr)}(0,t),null!==Hr&&Hr(e,t)};var Jr=O(null);function Br(){var e=Jr.current;return null!==e?e:ic.pooledCache}function Vr(e,t){H(Jr,null===t?Jr.current:t.pool)}function Qr(){var e=Br();return null===e?null:{parent:Fr._currentValue,pool:e}}var Yr=Error(l(460)),Wr=Error(l(474)),Kr=Error(l(542)),Gr={then:function(){}};function Xr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zr(){}function el(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zr,Zr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw al(e=t.reason),e;default:if("string"==typeof t.status)t.then(Zr,Zr);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw al(e=t.reason),e}throw tl=t,Yr}}var tl=null;function nl(){if(null===tl)throw Error(l(459));var e=tl;return tl=null,e}function al(e){if(e===Yr||e===Kr)throw Error(l(483))}var rl=!1;function ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function il(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ol(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sl(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&lc){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=$a(e),Fa(e,null,n),t}return za(e,a,t,n),$a(e)}function cl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Te(e,n)}}function ul(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?r=l=i:l=l.next=i,n=n.next}while(null!==n);null===l?r=l=t:l=l.next=t}else r=l=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var dl=!1;function fl(){if(dl){if(null!==Or)throw Or}}function pl(e,t,n,a){dl=!1;var r=e.updateQueue;rl=!1;var l=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var s=o,c=s.next;s.next=null,null===i?l=c:i.next=c,i=s;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=s))}if(null!==l){var f=r.baseState;for(i=0,u=c=s=null,o=l;;){var p=-536870913&o.lane,h=p!==o.lane;if(h?(sc&p)===p:(a&p)===p){0!==p&&p===Ur&&(dl=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){f=m.call(y,f,p);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(y,f,p):m))break e;f=d({},f,p);break e;case 2:rl=!0}}null!==(p=o.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[p]:h.push(p))}else h={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=h,s=f):u=u.next=h,i|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===u&&(s=f),r.baseState=s,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===l&&(r.shared.lanes=0),gc|=i,e.lanes=i,e.memoizedState=f}}function hl(e,t){if("function"!=typeof e)throw Error(l(191,e));e.call(t)}function ml(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hl(n[e],t)}var gl=O(null),yl=O(0);function vl(e,t){H(yl,e=hc),H(gl,t),hc=e|t.baseLanes}function bl(){H(yl,hc),H(gl,gl.current)}function kl(){hc=yl.current,q(gl),q(yl)}var wl=0,xl=null,Sl=null,Cl=null,jl=!1,Nl=!1,El=!1,Il=0,Pl=0,Tl=null,Al=0;function zl(){throw Error(l(321))}function Ll(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Dl(e,t,n,a,r,l){return wl=l,xl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=null===e||null===e.memoizedState?Yi:Wi,El=!1,l=n(a,r),El=!1,Nl&&(l=$l(t,n,a,r)),Fl(e),l}function Fl(e){$.H=Qi;var t=null!==Sl&&null!==Sl.next;if(wl=0,Cl=Sl=xl=null,jl=!1,Pl=0,Tl=null,t)throw Error(l(300));null===e||To||null!==(e=e.dependencies)&&Er(e)&&(To=!0)}function $l(e,t,n,a){xl=e;var r=0;do{if(Nl&&(Tl=null),Pl=0,Nl=!1,25<=r)throw Error(l(301));if(r+=1,Cl=Sl=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}$.H=Ki,i=t(n,a)}while(Nl);return i}function Ml(){var e=$.H,t=e.useState()[0];return t="function"==typeof t.then?Hl(t):t,e=e.useState()[0],(null!==Sl?Sl.memoizedState:null)!==e&&(xl.flags|=1024),t}function _l(){var e=0!==Il;return Il=0,e}function Rl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ul(e){if(jl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}jl=!1}wl=0,Cl=Sl=xl=null,Nl=!1,Pl=Il=0,Tl=null}function Ol(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Cl?xl.memoizedState=Cl=e:Cl=Cl.next=e,Cl}function ql(){if(null===Sl){var e=xl.alternate;e=null!==e?e.memoizedState:null}else e=Sl.next;var t=null===Cl?xl.memoizedState:Cl.next;if(null!==t)Cl=t,Sl=e;else{if(null===e){if(null===xl.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Sl=e).memoizedState,baseState:Sl.baseState,baseQueue:Sl.baseQueue,queue:Sl.queue,next:null},null===Cl?xl.memoizedState=Cl=e:Cl=Cl.next=e}return Cl}function Hl(e){var t=Pl;return Pl+=1,null===Tl&&(Tl=[]),e=el(Tl,e,t),t=xl,null===(null===Cl?t.memoizedState:Cl.next)&&(t=t.alternate,$.H=null===t||null===t.memoizedState?Yi:Wi),e}function Jl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Hl(e);if(e.$$typeof===x)return Pr(e)}throw Error(l(438,String(e)))}function Bl(e){var t=null,n=xl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=xl.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=T;return t.index++,n}function Vl(e,t){return"function"==typeof t?t(e):t}function Ql(e){return Yl(ql(),Sl,e)}function Yl(e,t,n){var a=e.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=n;var r=e.baseQueue,i=a.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}t.baseQueue=r=i,a.pending=null}if(i=e.baseState,null===r)e.memoizedState=i;else{var s=o=null,c=null,u=t=r.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(sc&f)===f:(wl&f)===f){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Ur&&(d=!0);else{if((wl&p)===p){u=u.next,p===Ur&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=f,o=i):c=c.next=f,xl.lanes|=p,gc|=p}f=u.action,El&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else p={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=p,o=i):c=c.next=p,xl.lanes|=f,gc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=s,!Xn(i,e.memoizedState)&&(To=!0,d&&null!==(n=Or)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,a.lastRenderedState=i}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Wl(e){var t=ql(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);Xn(i,t.memoizedState)||(To=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Kl(e,t,n){var a=xl,r=ql(),i=sr;if(i){if(void 0===n)throw Error(l(407));n=n()}else n=t();var o=!Xn((Sl||r).memoizedState,n);if(o&&(r.memoizedState=n,To=!0),r=r.queue,bi(2048,8,Zl.bind(null,a,r,e),[e]),r.getSnapshot!==t||o||null!==Cl&&1&Cl.memoizedState.tag){if(a.flags|=2048,gi(9,{destroy:void 0,resource:void 0},Xl.bind(null,a,r,n,t),null),null===ic)throw Error(l(349));i||124&wl||Gl(a,t,n)}return n}function Gl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xl(e,t,n,a){t.value=n,t.getSnapshot=a,ei(t)&&ti(e)}function Zl(e,t,n){return n(function(){ei(t)&&ti(e)})}function ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(a){return!0}}function ti(e){var t=Da(e,2);null!==t&&Rc(t,e,2)}function ni(e){var t=Ol();if("function"==typeof e){var n=e;if(e=n(),El){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:e},t}function ai(e,t,n,a){return e.baseState=n,Yl(e,Sl,"function"==typeof a?a:Vl)}function ri(e,t,n,a,r){if(Ji(e))throw Error(l(485));if(null!==(e=t.action)){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==$.T?n(!0):i.isTransition=!1,a(i),null===(n=t.pending)?(i.next=t.pending=i,li(t,i)):(i.next=n.next,t.pending=n.next=i)}}function li(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var l=$.T,i={};$.T=i;try{var o=n(r,a),s=$.S;null!==s&&s(i,o),ii(e,t,o)}catch(c){si(e,t,c)}finally{$.T=l}}else try{ii(e,t,l=n(r,a))}catch(u){si(e,t,u)}}function ii(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){oi(e,t,n)},function(n){return si(e,t,n)}):oi(e,t,n)}function oi(e,t,n){t.status="fulfilled",t.value=n,ci(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,li(e,n)))}function si(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,ci(t),t=t.next}while(t!==a)}e.action=null}function ci(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ui(e,t){return t}function di(e,t){if(sr){var n=ic.formState;if(null!==n){e:{var a=xl;if(sr){if(or){t:{for(var r=or,l=ur;8!==r.nodeType;){if(!l){r=null;break t}if(null===(r=kd(r.nextSibling))){r=null;break t}}r="F!"===(l=r.data)||"F"===l?r:null}if(r){or=kd(r.nextSibling),a="F!"===r.data;break e}}fr(a)}a=!1}a&&(t=n[0])}}return(n=Ol()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},n.queue=a,n=Oi.bind(null,xl,a),a.dispatch=n,a=ni(!1),l=Hi.bind(null,xl,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=Ol()).queue=r,n=ri.bind(null,xl,r,l,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function fi(e){return pi(ql(),Sl,e)}function pi(e,t,n){if(t=Yl(e,t,ui)[0],e=Ql(Vl)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=Hl(t)}catch(i){if(i===Yr)throw Kr;throw i}else a=t;var r=(t=ql()).queue,l=r.dispatch;return n!==t.memoizedState&&(xl.flags|=2048,gi(9,{destroy:void 0,resource:void 0},hi.bind(null,r,n),null)),[a,l,e]}function hi(e,t){e.action=t}function mi(e){var t=ql(),n=Sl;if(null!==n)return pi(t,n,e);ql(),t=t.memoizedState;var a=(n=ql()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function gi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=xl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function yi(){return ql().memoizedState}function vi(e,t,n,a){var r=Ol();a=void 0===a?null:a,xl.flags|=e,r.memoizedState=gi(1|t,{destroy:void 0,resource:void 0},n,a)}function bi(e,t,n,a){var r=ql();a=void 0===a?null:a;var l=r.memoizedState.inst;null!==Sl&&null!==a&&Ll(a,Sl.memoizedState.deps)?r.memoizedState=gi(t,l,n,a):(xl.flags|=e,r.memoizedState=gi(1|t,l,n,a))}function ki(e,t){vi(8390656,8,e,t)}function wi(e,t){bi(2048,8,e,t)}function xi(e,t){return bi(4,2,e,t)}function Si(e,t){return bi(4,4,e,t)}function Ci(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ji(e,t,n){n=null!=n?n.concat([e]):null,bi(4,4,Ci.bind(null,t,e),n)}function Ni(){}function Ei(e,t){var n=ql();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Ll(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ii(e,t){var n=ql();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Ll(t,a[1]))return a[0];if(a=e(),El){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[a,t],a}function Pi(e,t,n){return void 0===n||1073741824&wl?e.memoizedState=t:(e.memoizedState=n,e=_c(),xl.lanes|=e,gc|=e,n)}function Ti(e,t,n,a){return Xn(n,t)?n:null!==gl.current?(e=Pi(e,n,a),Xn(e,t)||(To=!0),e):42&wl?(e=_c(),xl.lanes|=e,gc|=e,t):(To=!0,e.memoizedState=n)}function Ai(e,t,n,a,r){var l=M.p;M.p=0!==l&&8>l?l:8;var i,o,s,c=$.T,u={};$.T=u,Hi(e,!1,t,n);try{var d=r(),f=$.S;if(null!==f&&f(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)qi(e,t,(i=a,o=[],s={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){s.status="fulfilled",s.value=i;for(var e=0;e<o.length;e++)(0,o[e])(i)},function(e){for(s.status="rejected",s.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),s),Mc());else qi(e,t,a,Mc())}catch(p){qi(e,t,{then:function(){},status:"rejected",reason:p},Mc())}finally{M.p=l,$.T=c}}function zi(){}function Li(e,t,n,a){if(5!==e.tag)throw Error(l(476));var r=Di(e).queue;Ai(e,r,t,_,null===n?zi:function(){return Fi(e),n(a)})}function Di(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:_},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Fi(e){qi(e,Di(e).next.queue,{},Mc())}function $i(){return Pr(Gd)}function Mi(){return ql().memoizedState}function _i(){return ql().memoizedState}function Ri(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),a=sl(t,e=ol(n),n);return null!==a&&(Rc(a,t,n),cl(a,t,n)),t={cache:$r()},void(e.payload=t)}t=t.return}}function Ui(e,t,n){var a=Mc();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e)?Bi(t,n):null!==(n=La(e,t,n,a))&&(Rc(n,e,a),Vi(n,t,a))}function Oi(e,t,n){qi(e,t,n,Mc())}function qi(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Bi(t,r);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=l(i,n);if(r.hasEagerState=!0,r.eagerState=o,Xn(o,i))return za(e,t,r,0),null===ic&&Aa(),!1}catch(s){}if(null!==(n=La(e,t,r,a)))return Rc(n,e,a),Vi(n,t,a),!0}return!1}function Hi(e,t,n,a){if(a={lane:2,revertLane:zu(),action:a,hasEagerState:!1,eagerState:null,next:null},Ji(e)){if(t)throw Error(l(479))}else null!==(t=La(e,n,a,2))&&Rc(t,e,2)}function Ji(e){var t=e.alternate;return e===xl||null!==t&&t===xl}function Bi(e,t){Nl=jl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vi(e,t,n){if(4194048&n){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Qi={readContext:Pr,use:Jl,useCallback:zl,useContext:zl,useEffect:zl,useImperativeHandle:zl,useLayoutEffect:zl,useInsertionEffect:zl,useMemo:zl,useReducer:zl,useRef:zl,useState:zl,useDebugValue:zl,useDeferredValue:zl,useTransition:zl,useSyncExternalStore:zl,useId:zl,useHostTransitionStatus:zl,useFormState:zl,useActionState:zl,useOptimistic:zl,useMemoCache:zl,useCacheRefresh:zl},Yi={readContext:Pr,use:Jl,useCallback:function(e,t){return Ol().memoizedState=[e,void 0===t?null:t],e},useContext:Pr,useEffect:ki,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,vi(4194308,4,Ci.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){vi(4,2,e,t)},useMemo:function(e,t){var n=Ol();t=void 0===t?null:t;var a=e();if(El){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Ol();if(void 0!==n){var r=n(t);if(El){me(!0);try{n(t)}finally{me(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Ui.bind(null,xl,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Ol().memoizedState=e},useState:function(e){var t=(e=ni(e)).queue,n=Oi.bind(null,xl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ni,useDeferredValue:function(e,t){return Pi(Ol(),e,t)},useTransition:function(){var e=ni(!1);return e=Ai.bind(null,xl,e.queue,!0,!1),Ol().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=xl,r=Ol();if(sr){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===ic)throw Error(l(349));124&sc||Gl(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,ki(Zl.bind(null,a,i,e),[e]),a.flags|=2048,gi(9,{destroy:void 0,resource:void 0},Xl.bind(null,a,i,n,t),null),n},useId:function(){var e=Ol(),t=ic.identifierPrefix;if(sr){var n=tr;t=""+t+"R"+(n=(er&~(1<<32-ge(er)-1)).toString(32)+n),0<(n=Il++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Al++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:$i,useFormState:di,useActionState:di,useOptimistic:function(e){var t=Ol();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hi.bind(null,xl,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bl,useCacheRefresh:function(){return Ol().memoizedState=Ri.bind(null,xl)}},Wi={readContext:Pr,use:Jl,useCallback:Ei,useContext:Pr,useEffect:wi,useImperativeHandle:ji,useInsertionEffect:xi,useLayoutEffect:Si,useMemo:Ii,useReducer:Ql,useRef:yi,useState:function(){return Ql(Vl)},useDebugValue:Ni,useDeferredValue:function(e,t){return Ti(ql(),Sl.memoizedState,e,t)},useTransition:function(){var e=Ql(Vl)[0],t=ql().memoizedState;return["boolean"==typeof e?e:Hl(e),t]},useSyncExternalStore:Kl,useId:Mi,useHostTransitionStatus:$i,useFormState:fi,useActionState:fi,useOptimistic:function(e,t){return ai(ql(),0,e,t)},useMemoCache:Bl,useCacheRefresh:_i},Ki={readContext:Pr,use:Jl,useCallback:Ei,useContext:Pr,useEffect:wi,useImperativeHandle:ji,useInsertionEffect:xi,useLayoutEffect:Si,useMemo:Ii,useReducer:Wl,useRef:yi,useState:function(){return Wl(Vl)},useDebugValue:Ni,useDeferredValue:function(e,t){var n=ql();return null===Sl?Pi(n,e,t):Ti(n,Sl.memoizedState,e,t)},useTransition:function(){var e=Wl(Vl)[0],t=ql().memoizedState;return["boolean"==typeof e?e:Hl(e),t]},useSyncExternalStore:Kl,useId:Mi,useHostTransitionStatus:$i,useFormState:mi,useActionState:mi,useOptimistic:function(e,t){var n=ql();return null!==Sl?ai(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bl,useCacheRefresh:_i},Gi=null,Xi=0;function Zi(e){var t=Xi;return Xi+=1,null===Gi&&(Gi=[]),el(Gi,e,t)}function eo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function to(e,t){if(t.$$typeof===f)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function no(e){return(0,e._init)(e._payload)}function ao(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Oa(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,a){return null===t||6!==t.tag?((t=Ba(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var l=n.type;return l===m?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===I&&no(l)===t.type)?(eo(t=r(t,n.props),n),t.return=e,t):(eo(t=Ha(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Va(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,l){return null===t||7!==t.tag?((t=Ja(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Ba(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return eo(n=Ha(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Va(t,e.mode,n)).return=e,t;case I:return f(e,t=(0,t._init)(t._payload),n)}if(F(t)||z(t))return(t=Ja(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,Zi(t),n);if(t.$$typeof===x)return f(e,Tr(e,t),n);to(e,t)}return null}function g(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:s(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?c(e,t,n,a):null;case h:return n.key===r?u(e,t,n,a):null;case I:return g(e,t,n=(r=n._init)(n._payload),a)}if(F(n)||z(n))return null!==r?null:d(e,t,n,a,null);if("function"==typeof n.then)return g(e,t,Zi(n),a);if(n.$$typeof===x)return g(e,t,Tr(e,n),a);to(e,n)}return null}function y(e,t,n,a,r){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return s(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case p:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case h:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case I:return y(e,t,n,a=(0,a._init)(a._payload),r)}if(F(a)||z(a))return d(t,e=e.get(n)||null,a,r,null);if("function"==typeof a.then)return y(e,t,n,Zi(a),r);if(a.$$typeof===x)return y(e,t,n,Tr(t,a),r);to(t,a)}return null}function v(s,c,u,d){if("object"==typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(s,c.sibling),(d=r(c,u.props.children)).return=s,s=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===I&&no(b)===c.type){n(s,c.sibling),eo(d=r(c,u.props),u),d.return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}u.type===m?((d=Ja(u.props.children,s.mode,d,u.key)).return=s,s=d):(eo(d=Ha(u.type,u.key,u.props,null,s.mode,d),u),d.return=s,s=d)}return o(s);case h:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(s,c.sibling),(d=r(c,u.children||[])).return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}(d=Va(u,s.mode,d)).return=s,s=d}return o(s);case I:return v(s,c,u=(b=u._init)(u._payload),d)}if(F(u))return function(r,l,o,s){for(var c=null,u=null,d=l,p=l=0,h=null;null!==d&&p<o.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var m=g(r,d,o[p],s);if(null===m){null===d&&(d=h);break}e&&d&&null===m.alternate&&t(r,d),l=i(m,l,p),null===u?c=m:u.sibling=m,u=m,d=h}if(p===o.length)return n(r,d),sr&&nr(r,p),c;if(null===d){for(;p<o.length;p++)null!==(d=f(r,o[p],s))&&(l=i(d,l,p),null===u?c=d:u.sibling=d,u=d);return sr&&nr(r,p),c}for(d=a(d);p<o.length;p++)null!==(h=y(d,r,p,o[p],s))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),l=i(h,l,p),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach(function(e){return t(r,e)}),sr&&nr(r,p),c}(s,c,u,d);if(z(u)){if("function"!=typeof(b=z(u)))throw Error(l(150));return function(r,o,s,c){if(null==s)throw Error(l(151));for(var u=null,d=null,p=o,h=o=0,m=null,v=s.next();null!==p&&!v.done;h++,v=s.next()){p.index>h?(m=p,p=null):m=p.sibling;var b=g(r,p,v.value,c);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(r,p),o=i(b,o,h),null===d?u=b:d.sibling=b,d=b,p=m}if(v.done)return n(r,p),sr&&nr(r,h),u;if(null===p){for(;!v.done;h++,v=s.next())null!==(v=f(r,v.value,c))&&(o=i(v,o,h),null===d?u=v:d.sibling=v,d=v);return sr&&nr(r,h),u}for(p=a(p);!v.done;h++,v=s.next())null!==(v=y(p,r,h,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?h:v.key),o=i(v,o,h),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(r,e)}),sr&&nr(r,h),u}(s,c,u=b.call(u),d)}if("function"==typeof u.then)return v(s,c,Zi(u),d);if(u.$$typeof===x)return v(s,c,Tr(s,u),d);to(s,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(s,c.sibling),(d=r(c,u)).return=s,s=d):(n(s,c),(d=Ba(u,s.mode,d)).return=s,s=d),o(s)):n(s,c)}return function(e,t,n,a){try{Xi=0;var r=v(e,t,n,a);return Gi=null,r}catch(i){if(i===Yr||i===Kr)throw i;var l=Ra(29,i,null,e.mode);return l.lanes=a,l.return=e,l}}}var ro=ao(!0),lo=ao(!1),io=O(null),oo=null;function so(e){var t=e.alternate;H(po,1&po.current),H(io,e),null===oo&&(null===t||null!==gl.current||null!==t.memoizedState)&&(oo=e)}function co(e){if(22===e.tag){if(H(po,po.current),H(io,e),null===oo){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oo=e)}}else uo()}function uo(){H(po,po.current),H(io,io.current)}function fo(e){q(io),oo===e&&(oo=null),q(po)}var po=O(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||bd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mo(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Mc(),r=ol(a);r.payload=t,null!=n&&(r.callback=n),null!==(t=sl(e,r,a))&&(Rc(t,e,a),cl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Mc(),r=ol(a);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=sl(e,r,a))&&(Rc(t,e,a),cl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),a=ol(n);a.tag=2,null!=t&&(a.callback=t),null!==(t=sl(e,a,n))&&(Rc(t,e,n),cl(t,e,n))}};function yo(e,t,n,a,r,l,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,a)||!Zn(r,l))}function vo(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function bo(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=d({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var ko="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function wo(e){ko(e)}function xo(e){console.error(e)}function So(e){ko(e)}function Co(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function No(e,t,n){return(n=ol(n)).tag=3,n.payload={element:null},n.callback=function(){Co(e,t)},n}function Eo(e){return(e=ol(e)).tag=3,e}function Io(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var l=a.value;e.payload=function(){return r(l)},e.callback=function(){jo(t,n,a)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){jo(t,n,a),"function"!=typeof r&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Po=Error(l(461)),To=!1;function Ao(e,t,n,a){t.child=null===e?lo(t,null,n,a):ro(t,e.child,n,a)}function zo(e,t,n,a,r){n=n.render;var l=t.ref;if("ref"in a){var i={};for(var o in a)"ref"!==o&&(i[o]=a[o])}else i=a;return Ir(t),a=Dl(e,t,n,i,l,r),o=_l(),null===e||To?(sr&&o&&rr(t),t.flags|=1,Ao(e,t,a,r),t.child):(Rl(e,t,r),Xo(e,t,r))}function Lo(e,t,n,a,r){if(null===e){var l=n.type;return"function"!=typeof l||Ua(l)||void 0!==l.defaultProps||null!==n.compare?((e=Ha(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Do(e,t,l,a,r))}if(l=e.child,!Zo(e,r)){var i=l.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(i,a)&&e.ref===t.ref)return Xo(e,t,r)}return t.flags|=1,(e=Oa(l,a)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,a,r){if(null!==e){var l=e.memoizedProps;if(Zn(l,a)&&e.ref===t.ref){if(To=!1,t.pendingProps=a=l,!Zo(e,r))return t.lanes=e.lanes,Xo(e,t,r);131072&e.flags&&(To=!0)}}return _o(e,t,n,a,r)}function Fo(e,t,n){var a=t.pendingProps,r=a.children,l=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(128&t.flags){if(a=null!==l?l.baseLanes|n:n,null!==e){for(r=t.child=e.child,l=0;null!==r;)l=l|r.lanes|r.childLanes,r=r.sibling;t.childLanes=l&~a}else t.childLanes=0,t.child=null;return $o(e,t,a,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,$o(e,t,null!==l?l.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vr(0,null!==l?l.cachePool:null),null!==l?vl(t,l):bl(),co(t)}else null!==l?(Vr(0,l.cachePool),vl(t,l),uo(),t.memoizedState=null):(null!==e&&Vr(0,null),bl(),uo());return Ao(e,t,r,n),t.child}function $o(e,t,n,a){var r=Br();return r=null===r?null:{parent:Fr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Vr(0,null),bl(),co(t),null!==e&&Nr(e,t,a,!0),null}function Mo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function _o(e,t,n,a,r){return Ir(t),n=Dl(e,t,n,a,void 0,r),a=_l(),null===e||To?(sr&&a&&rr(t),t.flags|=1,Ao(e,t,n,r),t.child):(Rl(e,t,r),Xo(e,t,r))}function Ro(e,t,n,a,r,l){return Ir(t),t.updateQueue=null,n=$l(t,a,n,r),Fl(e),a=_l(),null===e||To?(sr&&a&&rr(t),t.flags|=1,Ao(e,t,n,l),t.child):(Rl(e,t,l),Xo(e,t,l))}function Uo(e,t,n,a,r){if(Ir(t),null===t.stateNode){var l=Ma,i=n.contextType;"object"==typeof i&&null!==i&&(l=Pr(i)),l=new n(a,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=go,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=a,l.state=t.memoizedState,l.refs={},ll(t),i=n.contextType,l.context="object"==typeof i&&null!==i?Pr(i):Ma,l.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(mo(t,n,i,a),l.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(i=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),i!==l.state&&go.enqueueReplaceState(l,l.state,null),pl(t,a,l,r),fl(),l.state=t.memoizedState),"function"==typeof l.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){l=t.stateNode;var o=t.memoizedProps,s=bo(n,o);l.props=s;var c=l.context,u=n.contextType;i=Ma,"object"==typeof u&&null!==u&&(i=Pr(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof l.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o||c!==i)&&vo(t,l,a,i),rl=!1;var f=t.memoizedState;l.state=f,pl(t,a,l,r),fl(),c=t.memoizedState,o||f!==c||rl?("function"==typeof d&&(mo(t,n,d,a),c=t.memoizedState),(s=rl||yo(t,n,s,a,f,c,i))?(u||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=i,a=s):("function"==typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,il(e,t),u=bo(n,i=t.memoizedProps),l.props=u,d=t.pendingProps,f=l.context,c=n.contextType,s=Ma,"object"==typeof c&&null!==c&&(s=Pr(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(i!==d||f!==s)&&vo(t,l,a,s),rl=!1,f=t.memoizedState,l.state=f,pl(t,a,l,r),fl();var p=t.memoizedState;i!==d||f!==p||rl||null!==e&&null!==e.dependencies&&Er(e.dependencies)?("function"==typeof o&&(mo(t,n,o,a),p=t.memoizedState),(u=rl||yo(t,n,u,a,f,p,s)||null!==e&&null!==e.dependencies&&Er(e.dependencies))?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(a,p,s),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,p,s)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),l.props=a,l.state=p,l.context=s,a=u):("function"!=typeof l.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,Mo(e,t),a=!!(128&t.flags),l||a?(l=t.stateNode,n=a&&"function"!=typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&a?(t.child=ro(t,e.child,null,r),t.child=ro(t,null,n,r)):Ao(e,t,n,r),t.memoizedState=l.state,e=t.child):e=Xo(e,t,r),e}function Oo(e,t,n,a){return gr(),t.flags|=256,Ao(e,t,n,a),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:Qr()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=bc),e}function Bo(e,t,n){var a,r=t.pendingProps,i=!1,o=!!(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&po.current)),a&&(i=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(sr){if(i?so(t):uo(),sr){var s,c=or;if(s=c){e:{for(s=c,c=ur;8!==s.nodeType;){if(!c){c=null;break e}if(null===(s=kd(s.nextSibling))){c=null;break e}}c=s}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Za?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},(s=Ra(18,null,null,0)).stateNode=c,s.return=t,t.child=s,ir=t,or=null,s=!0):s=!1}s||fr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return bd(c)?t.lanes=32:t.lanes=536870912,null;fo(t)}return c=r.children,r=r.fallback,i?(uo(),c=Qo({mode:"hidden",children:c},i=t.mode),r=Ja(r,i,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(i=t.child).memoizedState=Ho(n),i.childLanes=Jo(e,a,n),t.memoizedState=qo,r):(so(t),Vo(t,c))}if(null!==(s=e.memoizedState)&&null!==(c=s.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Yo(e,t,n)):null!==t.memoizedState?(uo(),t.child=e.child,t.flags|=128,t=null):(uo(),i=r.fallback,c=t.mode,r=Qo({mode:"visible",children:r.children},c),(i=Ja(i,c,n,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,ro(t,e.child,null,n),(r=t.child).memoizedState=Ho(n),r.childLanes=Jo(e,a,n),t.memoizedState=qo,t=i);else if(so(t),bd(c)){if(a=c.nextSibling&&c.nextSibling.dataset)var u=a.dgst;a=u,(r=Error(l(419))).stack="",r.digest=a,vr({value:r,source:null,stack:null}),t=Yo(e,t,n)}else if(To||Nr(e,t,n,!1),a=0!==(n&e.childLanes),To||a){if(null!==(a=ic)&&(0!==(r=0!==((r=42&(r=n&-n)?1:Ae(r))&(a.suspendedLanes|n))?0:r)&&r!==s.retryLane))throw s.retryLane=r,Da(e,r),Rc(a,e,r),Po;"$?"===c.data||Kc(),t=Yo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,or=kd(c.nextSibling),ir=t,sr=!0,cr=null,ur=!1,null!==e&&(Ga[Xa++]=er,Ga[Xa++]=tr,Ga[Xa++]=Za,er=e.id,tr=e.overflow,Za=t),(t=Vo(t,r.children)).flags|=4096);return t}return i?(uo(),i=r.fallback,c=t.mode,u=(s=e.child).sibling,(r=Oa(s,{mode:"hidden",children:r.children})).subtreeFlags=65011712&s.subtreeFlags,null!==u?i=Oa(u,i):(i=Ja(i,c,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,null===(c=e.child.memoizedState)?c=Ho(n):(null!==(s=c.cachePool)?(u=Fr._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=Qr(),c={baseLanes:c.baseLanes|n,cachePool:s}),i.memoizedState=c,i.childLanes=Jo(e,a,n),t.memoizedState=qo,r):(so(t),e=(n=e.child).sibling,(n=Oa(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Vo(e,t){return(t=Qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Qo(e,t){return(e=Ra(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Yo(e,t,n){return ro(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Cr(e.return,t,n)}function Ko(e,t,n,a,r){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=r)}function Go(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;if(Ao(e,t,a.children,n),2&(a=po.current))a=1&a|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(H(po,a),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ho(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ko(t,!1,r,n,l);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ho(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ko(t,!0,n,null,l);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),gc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Nr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Oa(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oa(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Er(e))}function es(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!(Zo(e,n)||128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),xr(0,Fr,e.memoizedState.cache),gr();break;case 27:case 5:K(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:xr(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(so(t),null!==(e=Xo(e,t,n))?e.sibling:null);so(t);break;case 19:var r=!!(128&e.flags);if((a=0!==(n&t.childLanes))||(Nr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return Go(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),H(po,po.current),a)break;return null;case 22:case 23:return t.lanes=0,Fo(e,t,n);case 24:xr(0,Fr,e.memoizedState.cache)}return Xo(e,t,n)}(e,t,n);To=!!(131072&e.flags)}else To=!1,sr&&1048576&t.flags&&ar(t,Ka,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,r=a._init;if(a=r(a._payload),t.type=a,"function"!=typeof a){if(null!=a){if((r=a.$$typeof)===S){t.tag=11,t=zo(null,t,a,e,n);break e}if(r===E){t.tag=14,t=Lo(null,t,a,e,n);break e}}throw t=D(a)||a,Error(l(306,t,""))}Ua(a)?(e=bo(a,e),t.tag=1,t=Uo(null,t,a,e,n)):(t.tag=0,t=_o(null,t,a,e,n))}return t;case 0:return _o(e,t,t.type,t.pendingProps,n);case 1:return Uo(e,t,a=t.type,r=bo(a,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(l(387));a=t.pendingProps;var i=t.memoizedState;r=i.element,il(e,t),pl(t,a,null,n);var o=t.memoizedState;if(a=o.cache,xr(0,Fr,a),a!==i.cache&&jr(t,[Fr],n,!0),fl(),a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Oo(e,t,a,n);break e}if(a!==r){vr(r=Ea(Error(l(424)),t)),t=Oo(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(or=kd(e.firstChild),ir=t,sr=!0,cr=null,ur=!0,n=lo(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(gr(),a===r){t=Xo(e,t,n);break e}Ao(e,t,a,n)}t=t.child}return t;case 26:return Mo(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:sr||(n=t.type,e=t.pendingProps,(a=id(V.current).createElement(n))[Fe]=t,a[$e]=e,ad(a,n,e),Ye(a),t.stateNode=a):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&sr&&(a=t.stateNode=Sd(t.type,t.pendingProps,V.current),ir=t,ur=!0,r=or,gd(t.type)?(wd=r,or=kd(a.firstChild)):or=r),Ao(e,t,t.pendingProps.children,n),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sr&&((r=a=or)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===l)return e}if(null===(e=kd(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,ur))?(t.stateNode=a,ir=t,or=kd(a.firstChild),ur=!1,r=!0):r=!1),r||fr(t)),K(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,cd(r,i)?a=null:null!==o&&cd(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=Dl(e,t,Ml,null,null,n),Gd._currentValue=r),Mo(e,t),Ao(e,t,a,n),t.child;case 6:return null===e&&sr&&((e=n=or)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=kd(e.nextSibling)))return null}return e}(n,t.pendingProps,ur))?(t.stateNode=n,ir=t,or=null,e=!0):e=!1),e||fr(t)),null;case 13:return Bo(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ro(t,null,a,n):Ao(e,t,a,n),t.child;case 11:return zo(e,t,t.type,t.pendingProps,n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,xr(0,t.type,a.value),Ao(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Ir(t),a=a(r=Pr(r)),t.flags|=1,Ao(e,t,a,n),t.child;case 14:return Lo(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},null===e?((n=Qo(a,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Oa(e.child,a)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Fo(e,t,n);case 24:return Ir(t),a=Pr(Fr),null===e?(null===(r=Br())&&(r=ic,i=$r(),r.pooledCache=i,i.refCount++,null!==i&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:a,cache:r},ll(t),xr(0,Fr,r)):(0!==(e.lanes&n)&&(il(e,t),pl(t,null,null,n),fl()),r=e.memoizedState,i=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),xr(0,Fr,a)):(a=i.cache,xr(0,Fr,a),a!==r.cache&&jr(t,[Fr],n,!0))),Ao(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ts(e){e.flags|=4}function ns(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Jd(t)){if(null!==(t=io.current)&&((4194048&sc)===sc?null!==oo:(62914560&sc)!==sc&&!(536870912&sc)||t!==oo))throw tl=Gr,Wr;e.flags|=8192}}function as(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,kc|=t)}function rs(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ls(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function is(e,t,n){var a=t.pendingProps;switch(lr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ls(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sr(Fr),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mr(t)?ts(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,yr())),ls(t),null;case 26:return n=t.memoizedState,null===e?(ts(t),null!==n?(ls(t),ns(t,n)):(ls(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ts(t),ls(t),ns(t,n)):(ls(t),t.flags&=-16777217):(e.memoizedProps!==a&&ts(t),ls(t),t.flags&=-16777217),null;case 27:G(t),n=V.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&ts(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return ls(t),null}e=J.current,mr(t)?pr(t):(e=Sd(r,a,n),t.stateNode=e,ts(t))}return ls(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&ts(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return ls(t),null}if(e=J.current,mr(t))pr(t);else{switch(r=id(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof a.is?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"==typeof a.is?r.createElement(n,{is:a.is}):r.createElement(n)}}e[Fe]=t,e[$e]=a;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ad(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ts(t)}}return ls(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&ts(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(l(166));if(e=V.current,mr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(r=ir))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||Zu(e.nodeValue,n)))||fr(t)}else(e=id(e).createTextNode(a))[Fe]=t,t.stateNode=e}return ls(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=mr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(l(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(l(317));r[Fe]=t}else gr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ls(t),r=!1}else r=yr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(fo(t),t):(fo(t),null)}if(fo(t),128&t.flags)return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool);var i=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(i=a.memoizedState.cachePool.pool),i!==r&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),as(t,t.updateQueue),ls(t),null;case 4:return W(),null===e&&Hu(t.stateNode.containerInfo),ls(t),null;case 10:return Sr(t.type),ls(t),null;case 19:if(q(po),null===(r=t.memoizedState))return ls(t),null;if(a=!!(128&t.flags),null===(i=r.rendering))if(a)rs(r,!1);else{if(0!==mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=ho(e))){for(t.flags|=128,rs(r,!1),e=i.updateQueue,t.updateQueue=e,as(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qa(n,e),n=n.sibling;return H(po,1&po.current|2),t.child}e=e.sibling}null!==r.tail&&re()>jc&&(t.flags|=128,a=!0,rs(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ho(i))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,as(t,e),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!sr)return ls(t),null}else 2*re()-r.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,a=!0,rs(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=re(),t.sibling=null,e=po.current,H(po,a?1&e|2:1&e),t):(ls(t),null);case 22:case 23:return fo(t),kl(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(ls(t),6&t.subtreeFlags&&(t.flags|=8192)):ls(t),null!==(n=t.updateQueue)&&as(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&q(Jr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sr(Fr),ls(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function os(e,t){switch(lr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Sr(Fr),W(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(fo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));gr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(po),null;case 4:return W(),null;case 10:return Sr(t.type),null;case 22:case 23:return fo(t),kl(),null!==e&&q(Jr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Sr(Fr),null;default:return null}}function ss(e,t){switch(lr(t),t.tag){case 3:Sr(Fr),W();break;case 26:case 27:case 5:G(t);break;case 4:W();break;case 13:fo(t);break;case 19:q(po);break;case 10:Sr(t.type);break;case 22:case 23:fo(t),kl(),null!==e&&q(Jr);break;case 24:Sr(Fr)}}function cs(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var l=n.create,i=n.inst;a=l(),i.destroy=a}n=n.next}while(n!==r)}}catch(o){pu(t,t.return,o)}}function us(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var l=r.next;a=l;do{if((a.tag&e)===e){var i=a.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,r=t;var s=n,c=o;try{c()}catch(u){pu(r,s,u)}}}a=a.next}while(a!==l)}}catch(u){pu(t,t.return,u)}}function ds(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ml(t,n)}catch(a){pu(e,e.return,a)}}}function fs(e,t,n){n.props=bo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){pu(e,t,a)}}function ps(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof n?e.refCleanup=n(a):n.current=a}}catch(r){pu(e,t,r)}}function hs(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"==typeof a)try{a()}catch(r){pu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(l){pu(e,t,l)}else n.current=null}function ms(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){pu(e,e.return,r)}}function gs(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,o=null,s=null,c=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&null!=f)switch(h){case"checked":case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(h)||td(e,t,h,null,a,f)}}for(var p in a){var h=a[p];if(f=n[p],a.hasOwnProperty(p)&&(null!=h||null!=f))switch(p){case"type":i=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":o=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:h!==f&&td(e,t,p,h,a,f)}}return void bt(e,o,s,c,u,d,i,r);case"select":for(i in h=o=s=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":h=c;default:a.hasOwnProperty(i)||td(e,t,i,null,a,c)}for(r in a)if(i=a[r],c=n[r],a.hasOwnProperty(r)&&(null!=i||null!=c))switch(r){case"value":p=i;break;case"defaultValue":s=i;break;case"multiple":o=i;default:i!==c&&td(e,t,r,i,a,c)}return t=s,n=o,a=h,void(null!=p?xt(e,!!n,p,!1):!!a!=!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=p=null,n)if(r=n[s],n.hasOwnProperty(s)&&null!=r&&!a.hasOwnProperty(s))switch(s){case"value":case"children":break;default:td(e,t,s,null,a,r)}for(o in a)if(r=a[o],i=n[o],a.hasOwnProperty(o)&&(null!=r||null!=i))switch(o){case"value":p=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(l(91));break;default:r!==i&&td(e,t,o,r,a,i)}return void St(e,p,h);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!a.hasOwnProperty(m))if("selected"===m)e.selected=!1;else td(e,t,m,null,a,p);for(c in a)if(p=a[c],h=n[c],a.hasOwnProperty(c)&&p!==h&&(null!=p||null!=h))if("selected"===c)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else td(e,t,c,p,a,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!a.hasOwnProperty(g)&&td(e,t,g,null,a,p);for(u in a)if(p=a[u],h=n[u],a.hasOwnProperty(u)&&p!==h&&(null!=p||null!=h))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:td(e,t,u,p,a,h)}return;default:if(Pt(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!a.hasOwnProperty(y)&&nd(e,t,y,void 0,a,p);for(d in a)p=a[d],h=n[d],!a.hasOwnProperty(d)||p===h||void 0===p&&void 0===h||nd(e,t,d,p,a,h);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!a.hasOwnProperty(v)&&td(e,t,v,null,a,p);for(f in a)p=a[f],h=n[f],!a.hasOwnProperty(f)||p===h||null==p&&null==h||td(e,t,f,p,a,h)}(a,e.type,n,t),a[$e]=t}catch(r){pu(e,e.return,r)}}function ys(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&gd(e.type)||4===e.tag}function vs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ys(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&gd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bs(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ed));else if(4!==a&&(27===a&&gd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function ks(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&gd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function ws(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ad(t,a,n),t[Fe]=e,t[$e]=n}catch(l){pu(e,e.return,l)}}var xs=!1,Ss=!1,Cs=!1,js="function"==typeof WeakSet?WeakSet:Set,Ns=null;function Es(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Us(e,n),4&a&&cs(5,n);break;case 1:if(Us(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){pu(n,n.return,i)}else{var r=bo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){pu(n,n.return,o)}}64&a&&ds(n),512&a&&ps(n,n.return);break;case 3:if(Us(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ml(e,t)}catch(i){pu(n,n.return,i)}}break;case 27:null===t&&4&a&&ws(n);case 26:case 5:Us(e,n),null===t&&4&a&&ms(n),512&a&&ps(n,n.return);break;case 12:Us(e,n);break;case 13:Us(e,n),4&a&&Ls(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=yu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||xs)){t=null!==t&&null!==t.memoizedState||Ss,r=xs;var l=Ss;xs=a,(Ss=t)&&!l?qs(e,n,!!(8772&n.subtreeFlags)):Us(e,n),xs=r,Ss=l}break;case 30:break;default:Us(e,n)}}function Is(e){var t=e.alternate;null!==t&&(e.alternate=null,Is(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&He(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ps=null,Ts=!1;function As(e,t,n){for(n=n.child;null!==n;)zs(e,t,n),n=n.sibling}function zs(e,t,n){if(he&&"function"==typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(pe,n)}catch(l){}switch(n.tag){case 26:Ss||hs(n,t),As(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ss||hs(n,t);var a=Ps,r=Ts;gd(n.type)&&(Ps=n.stateNode,Ts=!1),As(e,t,n),Cd(n.stateNode),Ps=a,Ts=r;break;case 5:Ss||hs(n,t);case 6:if(a=Ps,r=Ts,Ps=null,As(e,t,n),Ts=r,null!==(Ps=a))if(Ts)try{(9===Ps.nodeType?Ps.body:"HTML"===Ps.nodeName?Ps.ownerDocument.body:Ps).removeChild(n.stateNode)}catch(i){pu(n,t,i)}else try{Ps.removeChild(n.stateNode)}catch(i){pu(n,t,i)}break;case 18:null!==Ps&&(Ts?(yd(9===(e=Ps).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Af(e)):yd(Ps,n.stateNode));break;case 4:a=Ps,r=Ts,Ps=n.stateNode.containerInfo,Ts=!0,As(e,t,n),Ps=a,Ts=r;break;case 0:case 11:case 14:case 15:Ss||us(2,n,t),Ss||us(4,n,t),As(e,t,n);break;case 1:Ss||(hs(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount&&fs(n,t,a)),As(e,t,n);break;case 21:As(e,t,n);break;case 22:Ss=(a=Ss)||null!==n.memoizedState,As(e,t,n),Ss=a;break;default:As(e,t,n)}}function Ls(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Af(e)}catch(n){pu(t,t.return,n)}}function Ds(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new js),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new js),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){var a=vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function Fs(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a],i=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 27:if(gd(s.type)){Ps=s.stateNode,Ts=!1;break e}break;case 5:Ps=s.stateNode,Ts=!1;break e;case 3:case 4:Ps=s.stateNode.containerInfo,Ts=!0;break e}s=s.return}if(null===Ps)throw Error(l(160));zs(i,o,r),Ps=null,Ts=!1,null!==(i=r.alternate)&&(i.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ms(t,e),t=t.sibling}var $s=null;function Ms(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Fs(t,e),_s(e),4&a&&(us(3,e,e.return),cs(3,e),us(5,e,e.return));break;case 1:Fs(t,e),_s(e),512&a&&(Ss||null===n||hs(n,n.return)),64&a&&xs&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var r=$s;if(Fs(t,e),_s(e),512&a&&(Ss||null===n||hs(n,n.return)),4&a){var i=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(i=r.getElementsByTagName("title")[0])||i[qe]||i[Fe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=r.createElement(a),r.head.insertBefore(i,r.querySelector("head > title"))),ad(i,a,n),i[Fe]=e,Ye(i),a=i;break e;case"link":var o=qd("link","href",r).get(a+(n.href||""));if(o)for(var s=0;s<o.length;s++)if((i=o[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(s,1);break t}ad(i=r.createElement(a),a,n),r.head.appendChild(i);break;case"meta":if(o=qd("meta","content",r).get(a+(n.content||"")))for(s=0;s<o.length;s++)if((i=o[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(s,1);break t}ad(i=r.createElement(a),a,n),r.head.appendChild(i);break;default:throw Error(l(468,a))}i[Fe]=e,Ye(i),a=i}e.stateNode=a}else Hd(r,e.type,e.stateNode);else e.stateNode=Md(r,a,e.memoizedProps);else i!==a?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===a?Hd(r,e.type,e.stateNode):Md(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&gs(e,e.memoizedProps,n.memoizedProps)}break;case 27:Fs(t,e),_s(e),512&a&&(Ss||null===n||hs(n,n.return)),null!==n&&4&a&&gs(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Fs(t,e),_s(e),512&a&&(Ss||null===n||hs(n,n.return)),32&e.flags){r=e.stateNode;try{jt(r,"")}catch(h){pu(e,e.return,h)}}4&a&&null!=e.stateNode&&gs(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&a&&(Cs=!0);break;case 6:if(Fs(t,e),_s(e),4&a){if(null===e.stateNode)throw Error(l(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){pu(e,e.return,h)}}break;case 3:if(Od=null,r=$s,$s=Ed(t.containerInfo),Fs(t,e),$s=r,_s(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Af(t.containerInfo)}catch(h){pu(e,e.return,h)}Cs&&(Cs=!1,Rs(e));break;case 4:a=$s,$s=Ed(e.stateNode.containerInfo),Fs(t,e),_s(e),$s=a;break;case 12:default:Fs(t,e),_s(e);break;case 13:Fs(t,e),_s(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Cc=re()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ds(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xs,d=Ss;if(xs=u||r,Ss=d||c,Fs(t,e),Ss=d,xs=u,_s(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||xs||Ss||Os(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,r)"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,p=null!=f&&f.hasOwnProperty("display")?f.display:null;s.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(h){pu(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){pu(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Ds(e,n))));break;case 19:Fs(t,e),_s(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ds(e,a)));case 30:case 21:}}function _s(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(ys(a)){n=a;break}a=a.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var r=n.stateNode;ks(e,vs(e),r);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),ks(e,vs(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;bs(e,vs(e),o);break;default:throw Error(l(161))}}catch(s){pu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rs(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rs(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Us(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Es(e,t.alternate,t),t=t.sibling}function Os(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:us(4,t,t.return),Os(t);break;case 1:hs(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&fs(t,t.return,n),Os(t);break;case 27:Cd(t.stateNode);case 26:case 5:hs(t,t.return),Os(t);break;case 22:null===t.memoizedState&&Os(t);break;default:Os(t)}e=e.sibling}}function qs(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,l=t,i=l.flags;switch(l.tag){case 0:case 11:case 15:qs(r,l,n),cs(4,l);break;case 1:if(qs(r,l,n),"function"==typeof(r=(a=l).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){pu(a,a.return,c)}if(null!==(r=(a=l).updateQueue)){var o=a.stateNode;try{var s=r.shared.hiddenCallbacks;if(null!==s)for(r.shared.hiddenCallbacks=null,r=0;r<s.length;r++)hl(s[r],o)}catch(c){pu(a,a.return,c)}}n&&64&i&&ds(l),ps(l,l.return);break;case 27:ws(l);case 26:case 5:qs(r,l,n),n&&null===a&&4&i&&ms(l),ps(l,l.return);break;case 12:qs(r,l,n);break;case 13:qs(r,l,n),n&&4&i&&Ls(r,l);break;case 22:null===l.memoizedState&&qs(r,l,n),ps(l,l.return);break;case 30:break;default:qs(r,l,n)}t=t.sibling}}function Hs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mr(n))}function Js(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e))}function Bs(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vs(e,t,n,a),t=t.sibling}function Vs(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Bs(e,t,n,a),2048&r&&cs(9,t);break;case 1:case 13:default:Bs(e,t,n,a);break;case 3:Bs(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mr(e)));break;case 12:if(2048&r){Bs(e,t,n,a),e=t.stateNode;try{var l=t.memoizedProps,i=l.id,o=l.onPostCommit;"function"==typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){pu(t,t.return,s)}}else Bs(e,t,n,a);break;case 23:break;case 22:l=t.stateNode,i=t.alternate,null!==t.memoizedState?2&l._visibility?Bs(e,t,n,a):Ys(e,t):2&l._visibility?Bs(e,t,n,a):(l._visibility|=2,Qs(e,t,n,a,!!(10256&t.subtreeFlags))),2048&r&&Hs(i,t);break;case 24:Bs(e,t,n,a),2048&r&&Js(t.alternate,t)}}function Qs(e,t,n,a,r){for(r=r&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var l=e,i=t,o=n,s=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:Qs(l,i,o,s,r),cs(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Qs(l,i,o,s,r):Ys(l,i):(u._visibility|=2,Qs(l,i,o,s,r)),r&&2048&c&&Hs(i.alternate,i);break;case 24:Qs(l,i,o,s,r),r&&2048&c&&Js(i.alternate,i);break;default:Qs(l,i,o,s,r)}t=t.sibling}}function Ys(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Ys(n,a),2048&r&&Hs(a.alternate,a);break;case 24:Ys(n,a),2048&r&&Js(a.alternate,a);break;default:Ys(n,a)}t=t.sibling}}var Ws=8192;function Ks(e){if(e.subtreeFlags&Ws)for(e=e.child;null!==e;)Gs(e),e=e.sibling}function Gs(e){switch(e.tag){case 26:Ks(e),e.flags&Ws&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(l(475));var a=Bd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var r=zd(n.href),i=e.querySelector(Ld(r));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(a.count++,a=Qd.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,void Ye(i);i=e.ownerDocument||e,n=Dd(n),(r=jd.get(r))&&Rd(n,r),Ye(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ad(i,"link",n),t.instance=i}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(a.count++,t=Qd.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}($s,e.memoizedState,e.memoizedProps);break;case 5:default:Ks(e);break;case 3:case 4:var t=$s;$s=Ed(e.stateNode.containerInfo),Ks(e),$s=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ws,Ws=16777216,Ks(e),Ws=t):Ks(e))}}function Xs(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zs(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Ns=a,nc(a,e)}Xs(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ec(e),e=e.sibling}function ec(e){switch(e.tag){case 0:case 11:case 15:Zs(e),2048&e.flags&&us(9,e,e.return);break;case 3:case 12:default:Zs(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,tc(e)):Zs(e)}}function tc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Ns=a,nc(a,e)}Xs(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:us(8,t,t.return),tc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,tc(t));break;default:tc(t)}e=e.sibling}}function nc(e,t){for(;null!==Ns;){var n=Ns;switch(n.tag){case 0:case 11:case 15:us(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Mr(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,Ns=a;else e:for(n=e;null!==Ns;){var r=(a=Ns).sibling,l=a.return;if(Is(a),a===n){Ns=null;break e}if(null!==r){r.return=l,Ns=r;break e}Ns=l}}}var ac={getCacheForType:function(e){var t=Pr(Fr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,lc=0,ic=null,oc=null,sc=0,cc=0,uc=null,dc=!1,fc=!1,pc=!1,hc=0,mc=0,gc=0,yc=0,vc=0,bc=0,kc=0,wc=null,xc=null,Sc=!1,Cc=0,jc=1/0,Nc=null,Ec=null,Ic=0,Pc=null,Tc=null,Ac=0,zc=0,Lc=null,Dc=null,Fc=0,$c=null;function Mc(){if(2&lc&&0!==sc)return sc&-sc;if(null!==$.T){return 0!==Ur?Ur:zu()}return Le()}function _c(){0===bc&&(bc=536870912&sc&&!sr?536870912:je());var e=io.current;return null!==e&&(e.flags|=32),bc}function Rc(e,t,n){(e!==ic||2!==cc&&9!==cc)&&null===e.cancelPendingCommit||(Vc(e,0),Hc(e,sc,bc,!1)),Ie(e,n),2&lc&&e===ic||(e===ic&&(!(2&lc)&&(yc|=n),4===mc&&Hc(e,sc,bc,!1)),ju(e))}function Uc(e,t,n){if(6&lc)throw Error(l(327));for(var a=!n&&!(124&t)&&0===(t&e.expiredLanes)||Se(e,t),r=a?function(e,t){var n=lc;lc|=2;var a=Yc(),r=Wc();ic!==e||sc!==t?(Nc=null,jc=re()+500,Vc(e,t)):fc=Se(e,t);e:for(;;)try{if(0!==cc&&null!==oc){t=oc;var i=uc;t:switch(cc){case 1:cc=0,uc=null,nu(e,t,i,1);break;case 2:case 9:if(Xr(i)){cc=0,uc=null,tu(t);break}t=function(){2!==cc&&9!==cc||ic!==e||(cc=7),ju(e)},i.then(t,t);break e;case 3:cc=7;break e;case 4:cc=5;break e;case 7:Xr(i)?(cc=0,uc=null,tu(t)):(cc=0,uc=null,nu(e,t,i,7));break;case 5:var o=null;switch(oc.tag){case 26:o=oc.memoizedState;case 5:case 27:var s=oc;if(!o||Jd(o)){cc=0,uc=null;var c=s.sibling;if(null!==c)oc=c;else{var u=s.return;null!==u?(oc=u,au(u)):oc=null}break t}}cc=0,uc=null,nu(e,t,i,5);break;case 6:cc=0,uc=null,nu(e,t,i,6);break;case 8:Bc(),mc=6;break e;default:throw Error(l(462))}}Zc();break}catch(d){Qc(e,d)}return wr=kr=null,$.H=a,$.A=r,lc=n,null!==oc?0:(ic=null,sc=0,Aa(),mc)}(e,t):Gc(e,t,!0),i=a;;){if(0===r){fc&&!a&&Hc(e,t,0,!1);break}if(n=e.current.alternate,!i||qc(n)){if(2===r){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var s=e;r=wc;var c=s.current.memoizedState.isDehydrated;if(c&&(Vc(s,o).flags|=256),2!==(o=Gc(s,o,!1))){if(pc&&!c){s.errorRecoveryDisabledLanes|=i,yc|=i,r=4;break e}i=xc,xc=r,null!==i&&(null===xc?xc=i:xc.push.apply(xc,i))}r=o}if(i=!1,2!==r)continue}}if(1===r){Vc(e,0),Hc(e,t,0,!0);break}e:{switch(a=e,i=r){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Hc(a,t,bc,!dc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(r=Cc+300-re())){if(Hc(a,t,bc,!dc),0!==xe(a,0,!0))break e;a.timeoutHandle=dd(Oc.bind(null,a,n,xc,Nc,Sc,t,bc,yc,kc,dc,i,2,-0,0),r)}else Oc(a,n,xc,Nc,Sc,t,bc,yc,kc,dc,i,0,-0,0)}break}r=Gc(e,t,!1),i=!1}ju(e)}function Oc(e,t,n,a,r,i,o,s,c,u,d,f,p,h){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||!(16785408&~f))&&(Bd={stylesheets:null,count:0,unsuspend:Vd},Gs(t),null!==(f=function(){if(null===Bd)throw Error(l(475));var e=Bd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(lu.bind(null,e,t,i,n,a,r,o,s,c,d,1,p,h)),void Hc(e,i,o,!u);lu(e,t,i,n,a,r,o,s,c)}function qc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],l=r.getSnapshot;r=r.value;try{if(!Xn(l(),r))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hc(e,t,n,a){t&=~vc,t&=~yc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var l=31-ge(r),i=1<<l;a[l]=-1,r&=~i}0!==n&&Pe(e,n,t)}function Jc(){return!!(6&lc)||(Nu(0),!1)}function Bc(){if(null!==oc){if(0===cc)var e=oc.return;else wr=kr=null,Ul(e=oc),Gi=null,Xi=0,e=oc;for(;null!==e;)ss(e.alternate,e),e=e.return;oc=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,fd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),ic=e,oc=n=Oa(e.current,null),sc=t,cc=0,uc=null,dc=!1,fc=Se(e,t),pc=!1,kc=bc=vc=yc=gc=mc=0,xc=wc=null,Sc=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-ge(a),l=1<<r;t|=e[r],a&=~l}return hc=t,Aa(),n}function Qc(e,t){xl=null,$.H=Qi,t===Yr||t===Kr?(t=nl(),cc=3):t===Wr?(t=nl(),cc=4):cc=t===Po?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,uc=t,null===oc&&(mc=1,Co(e,Ea(t,e.current)))}function Yc(){var e=$.H;return $.H=Qi,null===e?Qi:e}function Wc(){var e=$.A;return $.A=ac,e}function Kc(){mc=4,dc||(4194048&sc)!==sc&&null!==io.current||(fc=!0),!(134217727&gc)&&!(134217727&yc)||null===ic||Hc(ic,sc,bc,!1)}function Gc(e,t,n){var a=lc;lc|=2;var r=Yc(),l=Wc();ic===e&&sc===t||(Nc=null,Vc(e,t)),t=!1;var i=mc;e:for(;;)try{if(0!==cc&&null!==oc){var o=oc,s=uc;switch(cc){case 8:Bc(),i=6;break e;case 3:case 2:case 9:case 6:null===io.current&&(t=!0);var c=cc;if(cc=0,uc=null,nu(e,o,s,c),n&&fc){i=0;break e}break;default:c=cc,cc=0,uc=null,nu(e,o,s,c)}}Xc(),i=mc;break}catch(u){Qc(e,u)}return t&&e.shellSuspendCounter++,wr=kr=null,lc=a,$.H=r,$.A=l,null===oc&&(ic=null,sc=0,Aa()),i}function Xc(){for(;null!==oc;)eu(oc)}function Zc(){for(;null!==oc&&!ne();)eu(oc)}function eu(e){var t=es(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?au(e):oc=t}function tu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ro(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Ro(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ul(t);default:ss(n,t),t=es(n,t=oc=qa(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?au(e):oc=t}function nu(e,t,n,a){wr=kr=null,Ul(t),Gi=null,Xi=0;var r=t.return;try{if(function(e,t,n,a,r){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&Nr(t,n,r,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===oo?Kc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===Gr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),hu(e,a,r)),!1;case 22:return n.flags|=65536,a===Gr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),hu(e,a,r)),!1}throw Error(l(435,n.tag))}return hu(e,a,r),Kc(),!1}if(sr)return null!==(t=io.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==dr&&vr(Ea(e=Error(l(422),{cause:a}),n))):(a!==dr&&vr(Ea(t=Error(l(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=Ea(a,n),ul(e,r=No(e.stateNode,a,r)),4!==mc&&(mc=2)),!1;var i=Error(l(520),{cause:a});if(i=Ea(i,n),null===wc?wc=[i]:wc.push(i),4!==mc&&(mc=2),null===t)return!0;a=Ea(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,ul(n,e=No(n.stateNode,a,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Ec&&Ec.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,Io(r=Eo(r),e,n,a),ul(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,sc))return mc=1,Co(e,Ea(n,e.current)),void(oc=null)}catch(i){if(null!==r)throw oc=r,i;return mc=1,Co(e,Ea(n,e.current)),void(oc=null)}32768&t.flags?(sr||1===a?e=!0:fc||536870912&sc?e=!1:(dc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=io.current)&&13===a.tag&&(a.flags|=16384))),ru(t,e)):au(t)}function au(e){var t=e;do{if(32768&t.flags)return void ru(t,dc);e=t.return;var n=is(t.alternate,t,hc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===mc&&(mc=5)}function ru(e,t){do{var n=os(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);mc=6,oc=null}function lu(e,t,n,a,r,i,o,s,c){e.cancelPendingCommit=null;do{uu()}while(0!==Ic);if(6&lc)throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(i=t.lanes|t.childLanes,function(e,t,n,a,r,l){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-ge(n),d=1<<u;o[u]=0,s[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var p=f[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==a&&Pe(e,a,0),0!==l&&0===r&&0!==e.tag&&(e.suspendedLanes|=l&~(i&~t))}(e,n,i|=Ta,o,s,c),e===ic&&(oc=ic=null,sc=0),Tc=t,Pc=e,Ac=n,zc=i,Lc=r,Dc=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(se,function(){return du(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=$.T,$.T=null,r=M.p,M.p=2,o=lc,lc|=4;try{!function(e,t){if(e=e.containerInfo,rd=lf,ra(e=aa(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==r&&3!==f.nodeType||(s=o+r),f!==i||0!==a&&3!==f.nodeType||(c=o+a),3===f.nodeType&&(o+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===r&&(s=o),p===i&&++d===a&&(c=o),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ld={focusedElem:e,selectionRange:n},lf=!1,Ns=t;null!==Ns;)if(e=(t=Ns).child,1024&t.subtreeFlags&&null!==e)e.return=t,Ns=e;else for(;null!==Ns;){switch(i=(t=Ns).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var m=bo(n.type,r,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(m,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){pu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))vd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Ns=e;break}Ns=t.return}}(e,t)}finally{lc=o,M.p=r,$.T=a}}Ic=1,iu(),ou(),su()}}function iu(){if(1===Ic){Ic=0;var e=Pc,t=Tc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=$.T,$.T=null;var a=M.p;M.p=2;var r=lc;lc|=4;try{Ms(t,e);var l=ld,i=aa(e.containerInfo),o=l.focusedElem,s=l.selectionRange;if(i!==o&&o&&o.ownerDocument&&na(o.ownerDocument.documentElement,o)){if(null!==s&&ra(o)){var c=s.start,u=s.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),h=o.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!p.extend&&m>g&&(i=g,g=m,m=i);var y=ta(o,m),v=ta(o,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var k=d[o];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}lf=!!rd,ld=rd=null}finally{lc=r,M.p=a,$.T=n}}e.current=t,Ic=2}}function ou(){if(2===Ic){Ic=0;var e=Pc,t=Tc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=$.T,$.T=null;var a=M.p;M.p=2;var r=lc;lc|=4;try{Es(e,t.alternate,t)}finally{lc=r,M.p=a,$.T=n}}Ic=3}}function su(){if(4===Ic||3===Ic){Ic=0,ae();var e=Pc,t=Tc,n=Ac,a=Dc;10256&t.subtreeFlags||10256&t.flags?Ic=5:(Ic=0,Tc=Pc=null,cu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Ec=null),ze(n),t=t.stateNode,he&&"function"==typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(pe,t,void 0,!(128&~t.current.flags))}catch(s){}if(null!==a){t=$.T,r=M.p,M.p=2,$.T=null;try{for(var l=e.onRecoverableError,i=0;i<a.length;i++){var o=a[i];l(o.value,{componentStack:o.stack})}}finally{$.T=t,M.p=r}}3&Ac&&uu(),ju(e),r=e.pendingLanes,4194090&n&&42&r?e===$c?Fc++:(Fc=0,$c=e):Fc=0,Nu(0)}}function cu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mr(t)))}function uu(e){return iu(),ou(),su(),du()}function du(){if(5!==Ic)return!1;var e=Pc,t=zc;zc=0;var n=ze(Ac),a=$.T,r=M.p;try{M.p=32>n?32:n,$.T=null,n=Lc,Lc=null;var i=Pc,o=Ac;if(Ic=0,Tc=Pc=null,Ac=0,6&lc)throw Error(l(331));var s=lc;if(lc|=4,ec(i.current),Vs(i,i.current,o,n),lc=s,Nu(0,!1),he&&"function"==typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(pe,i)}catch(c){}return!0}finally{M.p=r,$.T=a,cu(e,t)}}function fu(e,t,n){t=Ea(n,t),null!==(e=sl(e,t=No(e.stateNode,t,2),2))&&(Ie(e,2),ju(e))}function pu(e,t,n){if(3===e.tag)fu(e,e,n);else for(;null!==t;){if(3===t.tag){fu(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Ec||!Ec.has(a))){e=Ea(n,e),null!==(a=sl(t,n=Eo(2),2))&&(Io(n,a,t,e),Ie(a,2),ju(a));break}}t=t.return}}function hu(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new rc;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(pc=!0,r.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(sc&n)===n&&(4===mc||3===mc&&(62914560&sc)===sc&&300>re()-Cc?!(2&lc)&&Vc(e,0):vc|=n,kc===sc&&(kc=0)),ju(e)}function gu(e,t){0===t&&(t=Ne()),null!==(e=Da(e,t))&&(Ie(e,t),ju(e))}function yu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gu(e,n)}function vu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==a&&a.delete(t),gu(e,n)}var bu=null,ku=null,wu=!1,xu=!1,Su=!1,Cu=0;function ju(e){e!==ku&&null===e.next&&(null===ku?bu=ku=e:ku=ku.next=e),xu=!0,wu||(wu=!0,hd(function(){6&lc?Z(ie,Eu):Iu()}))}function Nu(e,t){if(!Su&&xu){Su=!0;do{for(var n=!1,a=bu;null!==a;){if(0!==e){var r=a.pendingLanes;if(0===r)var l=0;else{var i=a.suspendedLanes,o=a.pingedLanes;l=(1<<31-ge(42|e)+1)-1,l=201326741&(l&=r&~(i&~o))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,Au(a,l))}else l=sc,!(3&(l=xe(a,a===ic?l:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Se(a,l)||(n=!0,Au(a,l));a=a.next}}while(n);Su=!1}}function Eu(){Iu()}function Iu(){xu=wu=!1;var e=0;0!==Cu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ud&&(ud=e,!0);return ud=null,!1}()&&(e=Cu),Cu=0);for(var t=re(),n=null,a=bu;null!==a;){var r=a.next,l=Pu(a,t);0===l?(a.next=null,null===n?bu=r:n.next=r,null===r&&(ku=n)):(n=a,(0!==e||3&l)&&(xu=!0)),a=r}Nu(e)}function Pu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var i=31-ge(l),o=1<<i,s=r[i];-1===s?0!==(o&n)&&0===(o&a)||(r[i]=Ce(o,t)):s<=t&&(e.expiredLanes|=o),l&=~o}if(n=sc,n=xe(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===cc||9===cc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&te(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&te(a),ze(n)){case 2:case 8:n=oe;break;case 32:default:n=se;break;case 268435456:n=ue}return a=Tu.bind(null,e),n=Z(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&te(a),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Ic&&5!==Ic)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(uu()&&e.callbackNode!==n)return null;var a=sc;return 0===(a=xe(e,e===ic?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Uc(e,a,t),Pu(e,re()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Au(e,t){if(uu())return null;Uc(e,t,!0)}function zu(){return 0===Cu&&(Cu=je()),Cu}function Lu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:zt(""+e)}function Du(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Fu=0;Fu<Ca.length;Fu++){var $u=Ca[Fu];ja($u.toLowerCase(),"on"+($u[0].toUpperCase()+$u.slice(1)))}ja(ga,"onAnimationEnd"),ja(ya,"onAnimationIteration"),ja(va,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(ba,"onTransitionRun"),ja(ka,"onTransitionStart"),ja(wa,"onTransitionCancel"),ja(xa,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_u=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Ru(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==l&&r.isPropagationStopped())break e;l=o,r.currentTarget=c;try{l(r)}catch(u){ko(u)}r.currentTarget=null,l=s}else for(i=0;i<a.length;i++){if(s=(o=a[i]).instance,c=o.currentTarget,o=o.listener,s!==l&&r.isPropagationStopped())break e;l=o,r.currentTarget=c;try{l(r)}catch(u){ko(u)}r.currentTarget=null,l=s}}}}function Uu(e,t){var n=t[_e];void 0===n&&(n=t[_e]=new Set);var a=e+"__bubble";n.has(a)||(Ju(t,e,2,!1),n.add(a))}function Ou(e,t,n){var a=0;t&&(a|=4),Ju(n,e,a,t)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[qu]){e[qu]=!0,We.forEach(function(t){"selectionchange"!==t&&(_u.has(t)||Ou(t,!1,e),Ou(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qu]||(t[qu]=!0,Ou("selectionchange",!1,t))}}function Ju(e,t,n,a){switch(pf(t)){case 2:var r=of;break;case 8:r=sf;break;default:r=cf}n=r.bind(null,t,n,e),r=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Bu(e,t,n,a,r){var l=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var s=a.stateNode.containerInfo;if(s===r)break;if(4===i)for(i=a.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===r)return;i=i.return}for(;null!==s;){if(null===(i=Je(s)))return;if(5===(c=i.tag)||6===c||26===c||27===c){a=l=i;continue e}s=s.parentNode}}a=a.return}Rt(function(){var a=l,r=Dt(n),i=[];e:{var s=Sa.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case ga:case ya:case va:c=un;break;case xa:c=wn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),p=d?null!==s?s+"Capture":null:s;d=[];for(var h,m=a;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===p||null!=(g=Ut(m,p))&&d.push(Vu(m,g,h)),f)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,r),i.push({event:s,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!Je(u)&&!u[Me])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Je(u):null)&&(f=o(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=on,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",p="onPointerEnter",m="pointer"),f=null==c?s:Ve(c),h=null==u?s:Ve(u),(s=new d(g,m+"leave",c,n,r)).target=f,s.relatedTarget=h,g=null,Je(r)===a&&((d=new d(p,m+"enter",u,n,r)).target=h,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(p=u,m=0,h=d=c;h;h=Yu(h))m++;for(h=0,g=p;g;g=Yu(g))h++;for(;0<m-h;)d=Yu(d),m--;for(;0<h-m;)p=Yu(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Yu(d),p=Yu(p)}d=null}else d=null;null!==c&&Wu(i,s,c,d,!1),null!==u&&null!==f&&Wu(i,f,u,d,!0)}if("select"===(c=(s=a?Ve(a):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=On;else if(Fn(s))if(qn)y=Gn;else{y=Wn;var v=Yn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?a&&Pt(a.elementType)&&(y=On):y=Kn;switch(y&&(y=y(e,a))?$n(i,y,n,r):(v&&v(e,s,a),"focusout"===e&&a&&"number"===s.type&&null!=a.memoizedProps.value&&wt(s,"number",s.value)),v=a?Ve(a):window,e){case"focusin":(Fn(v)||"true"===v.contentEditable)&&(ia=v,oa=a,sa=null);break;case"focusout":sa=oa=ia=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,ua(i,n,r);break;case"selectionchange":if(la)break;case"keydown":case"keyup":ua(i,n,r)}var b;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ln?An(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(In&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==k?"onCompositionEnd"===k&&Ln&&(b=Qt()):(Bt="value"in(Jt=r)?Jt.value:Jt.textContent,Ln=!0)),0<(v=Qu(a,k)).length&&(k=new fn(k,e,null,n,r),i.push({event:k,listeners:v}),b?k.data=b:null!==(b=zn(n))&&(k.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Tn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!jn&&An(e,t)?(e=Qt(),Vt=Bt=Jt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=Qu(a,"onBeforeInput")).length&&(v=new fn("onBeforeInput","beforeinput",null,n,r),i.push({event:v,listeners:k}),v.data=b)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var l=Lu((r[$e]||null).action),i=a.submitter;i&&null!==(t=(t=i[$e]||null)?Lu(t.formAction):i.getAttribute("formAction"))&&(l=t,i=null);var o=new nn("action","action",null,a,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Cu){var e=i?Du(r,i):new FormData(r);Li(n,{pending:!0,data:e,method:r.method,action:l},null,e)}}else"function"==typeof l&&(o.preventDefault(),e=i?Du(r,i):new FormData(r),Li(n,{pending:!0,data:e,method:r.method,action:l},l,e))},currentTarget:r}]})}}(i,e,a,n,r)}Ru(i,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qu(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,l=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===l||(null!=(r=Ut(e,n))&&a.unshift(Vu(e,r,l)),null!=(r=Ut(e,t))&&a.push(Vu(e,r,l))),3===e.tag)return a;e=e.return}return[]}function Yu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,a,r){for(var l=t._reactName,i=[];null!==n&&n!==a;){var o=n,s=o.alternate,c=o.stateNode;if(o=o.tag,null!==s&&s===a)break;5!==o&&26!==o&&27!==o||null===c||(s=c,r?null!=(c=Ut(n,l))&&i.unshift(Vu(n,c,s)):r||null!=(c=Ut(n,l))&&i.push(Vu(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Xu(e){return("string"==typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Zu(e,t){return t=Xu(t),Xu(e)===t}function ed(){}function td(e,t,n,a,r,i){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||jt(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&jt(e,""+a);break;case"className":lt(e,"class",a);break;case"tabIndex":lt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,a);break;case"style":It(e,a,i);break;case"data":if("object"!==t){lt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=zt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&td(e,t,"name",r.name,r,null),td(e,t,"formEncType",r.formEncType,r,null),td(e,t,"formMethod",r.formMethod,r,null),td(e,t,"formTarget",r.formTarget,r,null)):(td(e,t,"encType",r.encType,r,null),td(e,t,"method",r.method,r,null),td(e,t,"target",r.target,r,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=zt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=ed);break;case"onScroll":null!=a&&Uu("scroll",e);break;case"onScrollEnd":null!=a&&Uu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(l(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=zt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Uu("beforetoggle",e),Uu("toggle",e),rt(e,"popover",a);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":rt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Tt.get(n)||n,a)}}function nd(e,t,n,a,r,i){switch(n){case"style":It(e,a,i);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(l(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"==typeof a?jt(e,a):("number"==typeof a||"bigint"==typeof a)&&jt(e,""+a);break;case"onScroll":null!=a&&Uu("scroll",e);break;case"onScrollEnd":null!=a&&Uu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(i=null!=(i=e[$e]||null)?i[n]:null)&&e.removeEventListener(t,i,r),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):rt(e,n,a):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r)))}}function ad(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Uu("error",e),Uu("load",e);var a,r=!1,i=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:td(e,t,a,o,n,null)}}return i&&td(e,t,"srcSet",n.srcSet,n,null),void(r&&td(e,t,"src",n.src,n,null));case"input":Uu("invalid",e);var s=a=o=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:td(e,t,r,d,n,null)}}return kt(e,a,s,c,u,o,i,!1),void ht(e);case"select":for(i in Uu("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:td(e,t,i,s,n,null)}return t=a,n=o,e.multiple=!!r,void(null!=t?xt(e,!!r,t,!1):null!=n&&xt(e,!!r,n,!0));case"textarea":for(o in Uu("invalid",e),a=i=r=null,n)if(n.hasOwnProperty(o)&&null!=(s=n[o]))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:td(e,t,o,s,n,null)}return Ct(e,r,i,a),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r;else td(e,t,c,r,n,null);return;case"dialog":Uu("beforetoggle",e),Uu("toggle",e),Uu("cancel",e),Uu("close",e);break;case"iframe":case"object":Uu("load",e);break;case"video":case"audio":for(r=0;r<Mu.length;r++)Uu(Mu[r],e);break;case"image":Uu("error",e),Uu("load",e);break;case"details":Uu("toggle",e);break;case"embed":case"source":case"link":Uu("error",e),Uu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:td(e,t,u,r,n,null)}return;default:if(Pt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&nd(e,t,d,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(r=n[s])&&td(e,t,s,r,n,null))}var rd=null,ld=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function cd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ud=null;var dd="function"==typeof setTimeout?setTimeout:void 0,fd="function"==typeof clearTimeout?clearTimeout:void 0,pd="function"==typeof Promise?Promise:void 0,hd="function"==typeof queueMicrotask?queueMicrotask:void 0!==pd?function(e){return pd.resolve(null).then(e).catch(md)}:dd;function md(e){setTimeout(function(){throw e})}function gd(e){return"head"===e}function yd(e,t){var n=t,a=0,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&8===l.nodeType)if("/$"===(n=l.data)){if(0<a&&8>a){n=a;var i=e.ownerDocument;if(1&n&&Cd(i.documentElement),2&n&&Cd(i.body),4&n)for(Cd(n=i.head),i=n.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[qe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}if(0===r)return e.removeChild(l),void Af(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:a=n.charCodeAt(0)-48;else a=0;n=l}while(n);Af(t)}function vd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vd(n),He(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function bd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function kd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var wd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Cd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);He(e)}var jd=new Map,Nd=new Set;function Ed(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Id=M.d;M.d={f:function(){var e=Id.f(),t=Jc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Fi(t):Id.r(e)},D:function(e){Id.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Id.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Id.L(e,t,n);var a=Pd;if(a&&e&&t){var r='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+vt(n.imageSizes)+'"]')):r+='[href="'+vt(e)+'"]';var l=r;switch(t){case"style":l=zd(e);break;case"script":l=Fd(e)}jd.has(l)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(l,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(Ld(l))||"script"===t&&a.querySelector($d(l))||(ad(t=a.createElement("link"),"link",e),Ye(t),a.head.appendChild(t)))}},m:function(e,t){Id.m(e,t);var n=Pd;if(n&&e){var a=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',l=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Fd(e)}if(!jd.has(l)&&(e=d({rel:"modulepreload",href:e},t),jd.set(l,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($d(l)))return}ad(a=n.createElement("link"),"link",e),Ye(a),n.head.appendChild(a)}}},X:function(e,t){Id.X(e,t);var n=Pd;if(n&&e){var a=Qe(n).hoistableScripts,r=Fd(e),l=a.get(r);l||((l=n.querySelector($d(r)))||(e=d({src:e,async:!0},t),(t=jd.get(r))&&Ud(e,t),Ye(l=n.createElement("script")),ad(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}},S:function(e,t,n){Id.S(e,t,n);var a=Pd;if(a&&e){var r=Qe(a).hoistableStyles,l=zd(e);t=t||"default";var i=r.get(l);if(!i){var o={loading:0,preload:null};if(i=a.querySelector(Ld(l)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(l))&&Rd(e,n);var s=i=a.createElement("link");Ye(s),ad(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){o.loading|=1}),s.addEventListener("error",function(){o.loading|=2}),o.loading|=4,_d(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:o},r.set(l,i)}}},M:function(e,t){Id.M(e,t);var n=Pd;if(n&&e){var a=Qe(n).hoistableScripts,r=Fd(e),l=a.get(r);l||((l=n.querySelector($d(r)))||(e=d({src:e,async:!0,type:"module"},t),(t=jd.get(r))&&Ud(e,t),Ye(l=n.createElement("script")),ad(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(r,l))}}};var Pd="undefined"==typeof document?null:document;function Td(e,t,n){var a=Pd;if(a&&"string"==typeof t&&t){var r=vt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),Nd.has(r)||(Nd.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(ad(t=a.createElement("link"),"link",e),Ye(t),a.head.appendChild(t)))}}function Ad(e,t,n,a){var r,i,o,s,c=(c=V.current)?Ed(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=zd(n.href),(a=(n=Qe(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=zd(n.href);var u=Qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ld(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(r=c,i=e,o=n,s=d.state,r.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=r.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),ad(i,"link",o),Ye(i),r.head.appendChild(i))))),t&&null===a)throw Error(l(528,""));return d}if(t&&null!==a)throw Error(l(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Fd(n),(a=(n=Qe(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function zd(e){return'href="'+vt(e)+'"'}function Ld(e){return'link[rel="stylesheet"]['+e+"]"}function Dd(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Fd(e){return'[src="'+vt(e)+'"]'}function $d(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(a)return t.instance=a,Ye(a),a;var r=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ye(a=(e.ownerDocument||e).createElement("style")),ad(a,"style",r),_d(a,n.precedence,e),t.instance=a;case"stylesheet":r=zd(n.href);var i=e.querySelector(Ld(r));if(i)return t.state.loading|=4,t.instance=i,Ye(i),i;a=Dd(n),(r=jd.get(r))&&Rd(a,r),Ye(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ad(i,"link",a),t.state.loading|=4,_d(i,n.precedence,e),t.instance=i;case"script":return i=Fd(n.src),(r=e.querySelector($d(i)))?(t.instance=r,Ye(r),r):(a=n,(r=jd.get(i))&&Ud(a=d({},n),r),Ye(r=(e=e.ownerDocument||e).createElement("script")),ad(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,_d(a,n.precedence,e));return t.instance}function _d(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,l=r,i=0;i<a.length;i++){var o=a[i];if(o.dataset.precedence===t)l=o;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ud(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Od=null;function qd(e,t,n){if(null===Od){var a=new Map,r=Od=new Map;r.set(n,a)}else(a=(r=Od).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var l=n[r];if(!(l[qe]||l[Fe]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var i=l.getAttribute(t)||"";i=e+i;var o=a.get(i);o?o.push(l):a.set(i,[l])}}return a}function Hd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Jd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Bd=null;function Vd(){}function Qd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Yd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Yd=new Map,t.forEach(Kd,e),Yd=null,Qd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=Yd.get(e);if(n)var a=n.get(null);else{n=new Map,Yd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var i=r[l];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),a=i)}a&&n.set(null,a)}i=(r=t.instance).getAttribute("data-precedence"),(l=n.get(i)||a)===a&&n.set(null,r),n.set(i,r),this.count++,a=Qd.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),l?l.parentNode.insertBefore(r,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:x,Provider:null,Consumer:null,_currentValue:_,_currentValue2:_,_threadCount:0};function Xd(e,t,n,a,r,l,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Zd(e,t,n,a,r,l,i,o,s,c,u,d){return e=new Xd(e,t,n,i,o,s,c,d),t=1,!0===l&&(t|=24),l=Ra(3,null,null,t),e.current=l,l.stateNode=e,(t=$r()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:t},ll(l),e}function ef(e){return e?e=Ma:Ma}function tf(e,t,n,a,r,l){r=ef(r),null===a.context?a.context=r:a.pendingContext=r,(a=ol(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(a.callback=l),null!==(n=sl(e,a,t))&&(Rc(n,0,t),cl(n,e,t))}function nf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function af(e,t){nf(e,t),(e=e.alternate)&&nf(e,t)}function rf(e){if(13===e.tag){var t=Da(e,67108864);null!==t&&Rc(t,0,67108864),af(e,67108864)}}var lf=!0;function of(e,t,n,a){var r=$.T;$.T=null;var l=M.p;try{M.p=2,cf(e,t,n,a)}finally{M.p=l,$.T=r}}function sf(e,t,n,a){var r=$.T;$.T=null;var l=M.p;try{M.p=8,cf(e,t,n,a)}finally{M.p=l,$.T=r}}function cf(e,t,n,a){if(lf){var r=uf(a);if(null===r)Bu(e,t,a,df,n),xf(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return mf=Sf(mf,e,t,n,a,r),!0;case"dragenter":return gf=Sf(gf,e,t,n,a,r),!0;case"mouseover":return yf=Sf(yf,e,t,n,a,r),!0;case"pointerover":var l=r.pointerId;return vf.set(l,Sf(vf.get(l)||null,e,t,n,a,r)),!0;case"gotpointercapture":return l=r.pointerId,bf.set(l,Sf(bf.get(l)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(xf(e,a),4&t&&-1<wf.indexOf(e)){for(;null!==r;){var l=Be(r);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var i=we(l.pendingLanes);if(0!==i){var o=l;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var s=1<<31-ge(i);o.entanglements[1]|=s,i&=~s}ju(l),!(6&lc)&&(jc=re()+500,Nu(0))}}break;case 13:null!==(o=Da(l,2))&&Rc(o,0,2),Jc(),af(l,2)}if(null===(l=uf(a))&&Bu(e,t,a,df,n),l===r)break;r=l}null!==r&&a.stopPropagation()}else Bu(e,t,a,null,n)}}function uf(e){return ff(e=Dt(e))}var df=null;function ff(e){if(df=null,null!==(e=Je(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return df=e,null}function pf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ie:return 2;case oe:return 8;case se:case ce:return 32;case ue:return 268435456;default:return 32}default:return 32}}var hf=!1,mf=null,gf=null,yf=null,vf=new Map,bf=new Map,kf=[],wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xf(e,t){switch(e){case"focusin":case"focusout":mf=null;break;case"dragenter":case"dragleave":gf=null;break;case"mouseover":case"mouseout":yf=null;break;case"pointerover":case"pointerout":vf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(t.pointerId)}}function Sf(e,t,n,a,r,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[r]},null!==t&&(null!==(t=Be(t))&&rf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Cf(e){var t=Je(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Mc();e=Ae(e);var t=Da(n,e);null!==t&&Rc(t,0,e),af(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=uf(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&rf(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Lt=a,n.target.dispatchEvent(a),Lt=null,t.shift()}return!0}function Nf(e,t,n){jf(e)&&n.delete(t)}function Ef(){hf=!1,null!==mf&&jf(mf)&&(mf=null),null!==gf&&jf(gf)&&(gf=null),null!==yf&&jf(yf)&&(yf=null),vf.forEach(Nf),bf.forEach(Nf)}function If(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ef)))}var Pf=null;function Tf(e){Pf!==e&&(Pf=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pf===e&&(Pf=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if("function"!=typeof a){if(null===ff(a||n))continue;break}var l=Be(n);null!==l&&(e.splice(t,3),t-=3,Li(l,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Af(e){function t(t){return If(t,e)}null!==mf&&If(mf,e),null!==gf&&If(gf,e),null!==yf&&If(yf,e),vf.forEach(t),bf.forEach(t);for(var n=0;n<kf.length;n++){var a=kf[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<kf.length&&null===(n=kf[0]).blockedOn;)Cf(n),null===n.blockedOn&&kf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],l=n[a+1],i=r[$e]||null;if("function"==typeof l)i||Tf(n);else if(i){var o=null;if(l&&l.hasAttribute("formAction")){if(r=l,i=l[$e]||null)o=i.formAction;else if(null!==ff(r))continue}else o=i.action;"function"==typeof o?n[a+1]=o:(n.splice(a,3),a-=3),Tf(n)}}}function zf(e){this._internalRoot=e}function Lf(e){this._internalRoot=e}Lf.prototype.render=zf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));tf(t.current,Mc(),e,t,null,null)},Lf.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;tf(e.current,2,null,e,null,null),Jc(),t[Me]=null}},Lf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kf.length&&0!==t&&t<kf[n].priority;n++);kf.splice(n,0,e),0===n&&Cf(e)}};var Df=a.version;if("19.1.1"!==Df)throw Error(l(527,Df,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return c(r),e;if(i===a)return c(r),t;i=i.sibling}throw Error(l(188))}if(n.return!==a.return)n=r,a=i;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,a=i;break}if(u===a){s=!0,a=r,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,a=r;break}if(u===a){s=!0,a=i,n=r;break}u=u.sibling}if(!s)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Ff={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{pe=$f.inject(Ff),he=$f}catch(Mf){}}return w.createRoot=function(e,t){if(!i(e))throw Error(l(299));var n=!1,a="",r=wo,o=xo,s=So;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,a,r,o,s,0,null),e[Me]=t.current,Hu(e),new zf(t)},w.hydrateRoot=function(e,t,n){if(!i(e))throw Error(l(299));var a=!1,r="",o=wo,s=xo,c=So,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Zd(e,1,!0,t,0,a,r,o,s,c,0,u)).context=ef(null),n=t.current,(r=ol(a=Ae(a=Mc()))).callback=null,sl(n,r,a),n=a,t.current.lanes=n,Ie(t,n),ju(t),e[Me]=t.current,Hu(e),new Lf(t)},w.version="19.1.1",w}var N=(v||(v=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),k.exports=j()),k.exports);let E,I,P,T={data:""},A=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,z=/\/\*[^]*?\*\/|  +/g,L=/\n+/g,D=(e,t)=>{let n="",a="",r="";for(let l in e){let i=e[l];"@"==l[0]?"i"==l[1]?n=l+" "+i+";":a+="f"==l[1]?D(i,l):l+"{"+D(i,"k"==l[1]?"":t)+"}":"object"==typeof i?a+=D(i,t?t.replace(/([^,])+/g,e=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):l):null!=i&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=D.p?D.p(l,i):l+":"+i+";")}return n+(t&&r?t+"{"+r+"}":r)+a},F={},$=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+$(e[n]);return t}return e};function M(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,a,r)=>{let l=$(e),i=F[l]||(F[l]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(l));if(!F[i]){let t=l!==e?e:(e=>{let t,n,a=[{}];for(;t=A.exec(e.replace(z,""));)t[4]?a.shift():t[3]?(n=t[3].replace(L," ").trim(),a.unshift(a[0][n]=a[0][n]||{})):a[0][t[1]]=t[2].replace(L," ").trim();return a[0]})(e);F[i]=D(r?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&F.g?F.g:null;return n&&(F.g=F[i]),s=F[i],c=t,u=a,(d=o)?c.data=c.data.replace(d,s):-1===c.data.indexOf(s)&&(c.data=u?s+c.data:c.data+s),i;var s,c,u,d})(n.unshift?n.raw?((e,t,n)=>e.reduce((e,a,r)=>{let l=t[r];if(l&&l.call){let e=l(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;l=t?"."+t:e&&"object"==typeof e?e.props?"":D(e,""):!1===e?"":e}return e+a+(null==l?"":l)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,(a=t.target,"object"==typeof window?((a?a.querySelector("#_goober"):window._goober)||Object.assign((a||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:a||T),t.g,t.o,t.k);var a}M.bind({g:1});let _=M.bind({k:1});function R(e,t){let n=this||{};return function(){let t=arguments;return function a(r,l){let i=Object.assign({},r),o=i.className||a.className;n.p=Object.assign({theme:I&&I()},i),n.o=/ *go\d+/.test(o),i.className=M.apply(n,t)+(o?" "+o:"");let s=e;return e[0]&&(s=i.as||e,delete i.as),P&&s[0]&&P(i),E(s,i)}}}var U=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,O=(()=>{let e=0;return()=>(++e).toString()})(),q=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),H="default",J=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:a}=t;return J(e,{type:e.toasts.find(e=>e.id===a.id)?1:0,toast:a});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+l}))}}},B=[],V={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Q={},Y=(e,t=H)=>{Q[t]=J(Q[t]||V,e),B.forEach(([e,n])=>{e===t&&n(Q[t])})},W=e=>Object.keys(Q).forEach(t=>Y(e,t)),K=(e=H)=>t=>{Y(t,e)},G={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},X=e=>(t,n)=>{let a=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||O()}))(t,e,n);return K(a.toasterId||(e=>Object.keys(Q).find(t=>Q[t].toasts.some(t=>t.id===e)))(a.id))({type:2,toast:a}),a.id},Z=(e,t)=>X("blank")(e,t);Z.error=X("error"),Z.success=X("success"),Z.loading=X("loading"),Z.custom=X("custom"),Z.dismiss=(e,t)=>{let n={type:3,toastId:e};t?K(t)(n):W(n)},Z.dismissAll=e=>Z.dismiss(void 0,e),Z.remove=(e,t)=>{let n={type:4,toastId:e};t?K(t)(n):W(n)},Z.removeAll=e=>Z.remove(void 0,e),Z.promise=(e,t,n)=>{let a=Z.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let r=t.success?U(t.success,e):void 0;return r?Z.success(r,{id:a,...n,...null==n?void 0:n.success}):Z.dismiss(a),e}).catch(e=>{let r=t.error?U(t.error,e):void 0;r?Z.error(r,{id:a,...n,...null==n?void 0:n.error}):Z.dismiss(a)}),e};var ee,te,ne,ae,re=(e,t="default")=>{let{toasts:a,pausedAt:r}=((e={},t=H)=>{let[a,r]=n.useState(Q[t]||V),l=n.useRef(Q[t]);n.useEffect(()=>(l.current!==Q[t]&&r(Q[t]),B.push([t,r]),()=>{let e=B.findIndex(([e])=>e===t);e>-1&&B.splice(e,1)}),[t]);let i=a.toasts.map(t=>{var n,a,r;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(a=e[t.type])?void 0:a.duration)||(null==e?void 0:e.duration)||G[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}});return{...a,toasts:i}})(e,t),l=n.useRef(new Map).current,i=n.useCallback((e,t=1e3)=>{if(l.has(e))return;let n=setTimeout(()=>{l.delete(e),o({type:4,toastId:e})},t);l.set(e,n)},[]);n.useEffect(()=>{if(r)return;let e=Date.now(),n=a.map(n=>{if(n.duration===1/0)return;let a=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(a<0))return setTimeout(()=>Z.dismiss(n.id,t),a);n.visible&&Z.dismiss(n.id)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[a,r,t]);let o=n.useCallback(K(t),[t]),s=n.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=n.useCallback((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),u=n.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=n.useCallback((e,t)=>{let{reverseOrder:n=!1,gutter:r=8,defaultPosition:l}=t||{},i=a.filter(t=>(t.position||l)===(e.position||l)&&t.height),o=i.findIndex(t=>t.id===e.id),s=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...n?[s+1]:[0,s]).reduce((e,t)=>e+(t.height||0)+r,0)},[a]);return n.useEffect(()=>{a.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=l.get(e.id);t&&(clearTimeout(t),l.delete(e.id))}})},[a,i]),{toasts:a,handlers:{updateHeight:c,startPause:s,endPause:u,calculateOffset:d}}},le=_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ie=_`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oe=_`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,se=R("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${le} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ie} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ce=_`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ue=R("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ce} 1s linear infinite;
`,de=_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fe=_`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,pe=R("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,he=R("div")`
  position: absolute;
`,me=R("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ge=_`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ye=R("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ge} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ve=({toast:e})=>{let{icon:t,type:a,iconTheme:r}=e;return void 0!==t?"string"==typeof t?n.createElement(ye,null,t):t:"blank"===a?null:n.createElement(me,null,n.createElement(ue,{...r}),"loading"!==a&&n.createElement(he,null,"error"===a?n.createElement(se,{...r}):n.createElement(pe,{...r})))},be=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ke=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,we=R("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xe=R("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Se=n.memo(({toast:e,position:t,style:a,children:r})=>{let l=e.height?((e,t)=>{let n=e.includes("top")?1:-1,[a,r]=q()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[be(n),ke(n)];return{animation:t?`${_(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},i=n.createElement(ve,{toast:e}),o=n.createElement(xe,{...e.ariaProps},U(e.message,e));return n.createElement(we,{className:e.className,style:{...l,...a,...e.style}},"function"==typeof r?r({icon:i,message:o}):n.createElement(n.Fragment,null,i,o))});ee=n.createElement,D.p=te,E=ee,I=ne,P=ae;var Ce=({id:e,className:t,style:a,onHeightUpdate:r,children:l})=>{let i=n.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;r(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return n.createElement("div",{ref:i,className:t,style:a},l)},je=M`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ne=({reverseOrder:e,position:t="top-center",toastOptions:a,gutter:r,children:l,toasterId:i,containerStyle:o,containerClassName:s})=>{let{toasts:c,handlers:u}=re(a,i);return n.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(a=>{let i=a.position||t,o=((e,t)=>{let n=e.includes("top"),a=n?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:q()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...a,...r}})(i,u.calculateOffset(a,{reverseOrder:e,gutter:r,defaultPosition:t}));return n.createElement(Ce,{id:a.id,key:a.id,onHeightUpdate:u.updateHeight,className:a.visible?je:"",style:o},"custom"===a.type?U(a.message,a):l?l(a):n.createElement(Se,{toast:a,position:i}))}))};const Ee=n.createContext(null),Ie=()=>{const e=n.useContext(Ee);if(!e)throw new Error("useWebAPI must be used within a WebAPIProvider");return e},Pe=(e,...t)=>{console.debug(`[MAIN] ${e}`,...t)},Te=(e,...t)=>{console.info(`[MAIN] ${e}`,...t)},Ae=(e,...t)=>{console.warn(`[MAIN] ${e}`,...t)},ze=(e,...t)=>{console.error(`[MAIN] ${e}`,...t)},Le=n.createContext(void 0),De=({children:e})=>{const[t,r]=n.useState({isAuthenticated:!1}),[l,i]=n.useState(!0),o=Ie(),s=a();n.useEffect(()=>{(async()=>{try{i(!0);const[e,t,n,a]=await Promise.all([Promise.resolve(o.appStorage.get("yoto-access-token")),Promise.resolve(o.appStorage.get("yoto-refresh-token")),Promise.resolve((()=>{const e=o.appStorage.get("yoto-token-expires-at");return e?parseInt(e,10):void 0})()),Promise.resolve(o.appStorage.get("yoto-user-info"))]);if(e){const l=!!n&&Date.now()>=n;r({isAuthenticated:!l,accessToken:l?void 0:e,refreshToken:t,expiresAt:n,userInfo:a}),Te("Auth state loaded from storage",{hasAccessToken:!!e,isExpired:l,expiresAt:n?new Date(n).toISOString():void 0})}}catch(e){ze("Failed to load auth state",e)}finally{i(!1)}})()},[]);const c=n.useCallback(async(e,t,n)=>{const a=n?Date.now()+1e3*n:void 0,l={isAuthenticated:!0,accessToken:e,refreshToken:t,expiresAt:a};o.appStorage.set("yoto-access-token",e),o.appStorage.set("yoto-refresh-token",t||""),o.appStorage.set("yoto-token-expires-at",String(a||0)),r(l),Te("User logged in successfully",{hasRefreshToken:!!t,expiresAt:a?new Date(a).toISOString():void 0})},[o.appStorage]),u=n.useCallback(async()=>{o.appStorage.delete("yoto-access-token"),o.appStorage.delete("yoto-refresh-token"),o.appStorage.delete("yoto-token-expires-at"),o.appStorage.delete("yoto-user-info"),o.appStorage.delete("yoto-auth-token"),r({isAuthenticated:!1}),Te("User logged out")},[o.appStorage]),d=n.useCallback(async()=>{t.refreshToken?(Ae("Token refresh not implemented in web version yet"),await u()):Ae("No refresh token available")},[t.refreshToken,u]),f=n.useCallback(()=>!!t.expiresAt&&Date.now()>=t.expiresAt,[t.expiresAt]),p=n.useCallback(()=>{Ae("Auth failure detected, clearing tokens and redirecting to login"),o.appStorage.delete("yoto-access-token"),o.appStorage.delete("yoto-refresh-token"),o.appStorage.delete("yoto-token-expires-at"),o.appStorage.delete("yoto-user-info"),o.appStorage.delete("yoto-auth-token"),r({isAuthenticated:!1}),s("/login",{replace:!0})},[o.appStorage,s]);n.useEffect(()=>{if(!t.isAuthenticated||!t.expiresAt)return;const e=t.expiresAt-Date.now(),n=3e5;e<=n&&e>0&&d();const a=setTimeout(()=>{t.isAuthenticated&&!f()&&d()},Math.max(e-n,0));return()=>clearTimeout(a)},[t.isAuthenticated,t.expiresAt]);const h=n.useMemo(()=>({authState:t,isLoading:l,login:c,logout:u,refreshAuth:d,isTokenExpired:f,handleAuthFailure:p}),[t,l,c,u,d,f,p]);return b.jsx(Le.Provider,{value:h,children:e})},Fe=()=>{const e=n.useContext(Le);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},$e=()=>{const{authState:e,logout:t}=Fe();return b.jsxs("nav",{className:"navbar",children:[b.jsx("div",{className:"navbar-brand",children:b.jsx("h1",{children:"Yoto Playlist Creator"})}),b.jsx("div",{className:"navbar-links",children:e.isAuthenticated?b.jsxs(b.Fragment,{children:[b.jsxs(r,{to:"/",className:({isActive:e})=>e?"nav-link active":"nav-link",children:[b.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),b.jsxs(r,{to:"/playlist/create",className:({isActive:e})=>e?"nav-link active":"nav-link",children:[b.jsx("span",{className:"nav-icon",children:""}),"Create New"]}),b.jsxs(r,{to:"/job-queue",className:({isActive:e})=>e?"nav-link active":"nav-link",children:[b.jsx("span",{className:"nav-icon",children:""}),"Job Queue"]}),b.jsxs(r,{to:"/custom-icons",className:({isActive:e})=>e?"nav-link active":"nav-link",children:[b.jsx("span",{className:"nav-icon",children:""}),"Custom Icons"]}),b.jsxs(r,{to:"/settings",className:({isActive:e})=>e?"nav-link active":"nav-link",children:[b.jsx("span",{className:"nav-icon",children:""}),"Settings"]}),b.jsxs(r,{to:"/help",className:({isActive:e})=>e?"nav-link active":"nav-link",children:[b.jsx("span",{className:"nav-icon",children:""}),"Help"]}),b.jsxs("button",{type:"button",onClick:async()=>{window.confirm("Are you sure you want to log out?")&&await t()},className:"nav-link logout-btn",title:"Logout",children:[b.jsx("span",{className:"nav-icon",children:""}),"Logout"]})]}):b.jsxs(b.Fragment,{children:[b.jsxs(r,{to:"/help",className:({isActive:e})=>e?"nav-link active":"nav-link",children:[b.jsx("span",{className:"nav-icon",children:""}),"Help"]}),b.jsxs(r,{to:"/login",className:({isActive:e})=>e?"nav-link active":"nav-link",children:[b.jsx("span",{className:"nav-icon",children:""}),"Login"]})]})})]})},Me=({children:e,fallback:t})=>{const n=a(),{authState:r,isLoading:l,isTokenExpired:i}=Fe();if(l)return b.jsx("div",{className:"protected-route-loading",children:b.jsx("div",{className:"loading-container",children:b.jsx("p",{children:"Checking authentication..."})})});return r.isAuthenticated&&!i()?b.jsx(b.Fragment,{children:e}):t?b.jsx(b.Fragment,{children:t}):b.jsx("div",{className:"protected-route-unauthorized",children:b.jsxs("div",{className:"unauthorized-container",children:[b.jsx("h2",{children:"Authentication Required"}),b.jsx("p",{children:"You need to be logged in to access this page."}),b.jsx("div",{className:"unauthorized-actions",children:b.jsx("button",{type:"button",onClick:()=>n("/login"),className:"btn btn-primary",children:"Go to Login"})})]})})},_e=()=>b.jsx(Me,{children:b.jsx(l,{})}),Re=({title:e,description:t,children:n})=>b.jsx("div",{className:"page-hero",children:b.jsxs("div",{className:"hero-content",children:[b.jsx("h1",{children:e}),b.jsx("p",{children:t}),n&&b.jsx("div",{className:"hero-actions",children:n})]})}),Ue=({icon:e,title:t,description:n,children:a,className:r=""})=>b.jsxs("div",{className:`settings-section ${r}`,children:[b.jsxs("div",{className:"section-header",children:[b.jsxs("div",{className:"section-title",children:[b.jsx("span",{className:"section-icon",children:e}),b.jsx("h2",{children:t})]}),b.jsx("div",{className:"section-description",children:n})]}),a]}),Oe=({id:e,label:t,badge:n,helpText:a,children:r,className:l=""})=>b.jsxs("div",{className:`form-group ${l}`,children:[t&&b.jsxs("label",{htmlFor:e,children:[b.jsx("span",{className:"label-text",children:t}),n&&b.jsx("span",{className:`label-badge ${(e=>{switch(e){case"required":return"required";case"optional":return"optional";case"advanced":return"advanced";default:return""}})(n)}`,children:n.charAt(0).toUpperCase()+n.slice(1)})]}),b.jsxs("div",{className:"input-wrapper",children:[r,a&&b.jsx("div",{className:"input-help",children:b.jsx("span",{className:"help-text",children:a})})]})]}),qe=({children:e,loadingChildren:t,loading:n=!1,disabled:a=!1,variant:r="primary",size:l="md",className:i="",onClick:o,type:s="button"})=>b.jsxs("button",{type:s,className:(()=>{const e=["loading-btn",`btn-${r}`,`btn-${l}`,i];return n&&e.push("btn-loading"),e.filter(Boolean).join(" ")})(),onClick:o,disabled:a||n,children:[n&&b.jsx("span",{className:"spinner"}),b.jsx("span",{className:"btn-content",children:n&&t?t:e})]}),He=n.createContext(void 0),Je=()=>{const e=n.useContext(He);if(!e)throw new Error("useSettings must be used within a SettingsProvider");const{settings:t,isLoading:a,saveSettings:r,refreshSettings:l}=e;return{settings:t,isLoading:a,saveSettings:r,refreshSettings:l}},Be=n.createContext(void 0),Ve=({children:e})=>b.jsx(Be.Provider,{value:{showError:(e,t)=>{Z.error(e,{duration:4e3,position:"top-right",...t})},showSuccess:(e,t)=>{Z.success(e,{duration:3e3,position:"top-right",...t})},showWarning:(e,t)=>{Z(e,{duration:4e3,position:"top-right",icon:"",...t})},showInfo:(e,t)=>{Z(e,{duration:3e3,position:"top-right",icon:"",...t})}},children:e}),Qe=()=>{const e=n.useContext(Be);if(void 0===e)throw new Error("useError must be used within an ErrorProvider");return e},Ye=()=>{const{settings:e,saveSettings:t,isLoading:a}=Je(),{showSuccess:r,showError:l}=Qe(),[i,o]=n.useState(e),[s,c]=n.useState(!1);n.useEffect(()=>{o(e)},[e]);const u=e=>{const{id:t,value:n}=e.target;"ai-api-key"===t?o({...i,aiConfig:{...i.aiConfig,apiKey:n}}):"ai-base-url"===t?o({...i,aiConfig:{...i.aiConfig,baseUrl:n}}):"embedding-model"===t?o({...i,aiConfig:{...i.aiConfig,embeddingModel:n}}):"chat-model"===t&&o({...i,aiConfig:{...i.aiConfig,chatModel:n}})};return a?b.jsx("div",{children:"Loading..."}):b.jsxs("div",{className:"settings-page",children:[b.jsx(Re,{title:"Settings",description:"Configure your settings"}),b.jsx("div",{className:"settings-content",children:b.jsxs(Ue,{icon:"",title:"AI Configuration",description:"Configure AI settings for generating playlist icons",children:[b.jsx(Oe,{id:"ai-api-key",label:"AI API Key",badge:"optional",helpText:"OpenAI-compatible API key for AI features",className:"token-input-wrapper",children:b.jsx("input",{id:"ai-api-key",type:"password",className:"form-input",value:i.aiConfig.apiKey,onChange:u,placeholder:"sk-..."})}),b.jsx(Oe,{id:"ai-base-url",label:"AI Base URL",badge:"optional",helpText:"Custom endpoint for local or alternative AI services",children:b.jsx("input",{id:"ai-base-url",type:"text",className:"form-input",value:i.aiConfig.baseUrl,onChange:u,placeholder:"http://localhost:8080/v1"})}),b.jsxs("div",{className:"advanced-section",children:[b.jsxs("div",{className:"advanced-header",children:[b.jsx("h3",{children:"Advanced AI Settings"}),b.jsx("span",{className:"advanced-badge",children:"Advanced"})]}),b.jsx(Oe,{id:"embedding-model",label:"Embedding Model",badge:"optional",helpText:"Model for semantic understanding of audio content",children:b.jsx("input",{id:"embedding-model",type:"text",className:"form-input",value:i.aiConfig.embeddingModel,onChange:u,placeholder:"mixedbread-ai/mxbai-embed-xsmall-v1"})}),b.jsx(Oe,{id:"chat-model",label:"Chat Model",badge:"optional",helpText:"Model for generating descriptions and analyzing content",children:b.jsx("input",{id:"chat-model",type:"text",className:"form-input",value:i.aiConfig.chatModel,onChange:u,placeholder:"openai/gpt-oss-20b"})})]})]})}),b.jsx("div",{className:"settings-actions",children:b.jsxs(qe,{variant:"primary",size:"lg",onClick:async()=>{c(!0);try{await t(i),r("Settings saved successfully! Your configuration is now active.")}catch(e){l("Failed to save settings. Please try again."),ze("Error saving settings:",e)}finally{c(!1)}},loading:s,loadingChildren:"Saving Settings...",className:"save-button",children:[b.jsx("span",{children:""}),"Save Settings"]})})]})},We=({icon:e,title:t,description:n,action:a,variant:r="default"})=>b.jsxs("div",{className:"setup"===r?"setup-required":"empty-state",children:[b.jsx("div",{className:"setup"===r?"setup-icon":"empty-state-icon",children:e}),b.jsx("h2",{children:t}),b.jsx("p",{children:n}),a]}),Ke=e=>{const[t,a]=n.useState(null),[r,l]=n.useState(!1),[i,o]=n.useState(null);return n.useEffect(()=>{if(!e)return a(null),l(!1),void o(null);if(!e.includes("media-secure-v2.api.yotoplay.com"))return a(e),l(!1),void o(null);l(!0),o(null),setTimeout(()=>{a(e),l(!1)},100)},[e]),{authenticatedImageUrl:t,loading:r,error:i}},Ge=({playlist:e,viewMode:t,onClick:n,onDelete:a})=>{const{authenticatedImageUrl:r,loading:l}=Ke(e.metadata?.cover?.imageL);return b.jsxs("div",{className:"playlist-card "+("list"===t?"list-mode":"grid-mode"),onClick:()=>(async()=>{await n(e.cardId)})(),children:[b.jsxs("div",{className:"playlist-cover",children:[(r||e.metadata?.cover?.imageL)&&!l&&b.jsx("img",{src:r||e.metadata?.cover?.imageL,alt:e.title}),l&&b.jsx("div",{className:"loading-placeholder",children:"Loading..."}),"grid"===t&&b.jsx("div",{className:"playlist-overlay"})]}),b.jsx("div",{className:"playlist-info",children:b.jsx("h3",{children:e.title})}),a&&b.jsx("button",{className:"delete-button",onClick:async t=>{t.stopPropagation(),a&&await a(e.cardId)},title:"Delete playlist","aria-label":"Delete playlist",children:""})]})},Xe=({viewMode:e,onViewModeChange:t})=>b.jsxs("div",{className:"view-controls",children:[b.jsx("button",{className:"view-toggle "+("grid"===e?"active":""),onClick:()=>t("grid"),title:"Grid view",children:""}),b.jsx("button",{className:"view-toggle "+("list"===e?"active":""),onClick:()=>t("list"),title:"List view",children:""})]}),Ze=({playlists:e,allPlaylists:t,viewMode:n,setViewMode:a,navigate:r,searchQuery:l,setSearchQuery:i,sortConfig:o,onSortChange:s,onDeletePlaylist:c})=>{const u=async e=>{await r(`/playlists/${e}`)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"section-header",children:[b.jsxs("h2",{children:["Your Playlists (",e.length,e.length!==t.length&&` of ${t.length}`,")"]}),b.jsx(Xe,{viewMode:n,onViewModeChange:a})]}),b.jsxs("div",{className:"playlist-controls",children:[b.jsxs("div",{className:"search-control",children:[b.jsx("input",{type:"text",placeholder:"Search playlists...",value:l,onChange:e=>i(e.target.value),className:"search-input"}),l&&b.jsx("button",{onClick:()=>i(""),className:"clear-search-btn","aria-label":"Clear search",children:""})]}),b.jsxs("div",{className:"sort-control",children:[b.jsx("label",{htmlFor:"sort-select",children:"Sort by:"}),b.jsxs("select",{id:"sort-select",value:o.key,onChange:e=>s(e.target.value),className:"sort-select",children:[b.jsx("option",{value:"title",children:"Title"}),b.jsx("option",{value:"duration",children:"Duration"}),b.jsx("option",{value:"size",children:"Size"}),b.jsx("option",{value:"dateCreated",children:"Date Created"})]}),b.jsx("button",{onClick:()=>s(o.key),className:"sort-direction-btn","aria-label":"Sort "+("asc"===o.direction?"descending":"ascending"),children:"asc"===o.direction?"":""})]})]}),0===e.length&&l?b.jsxs("div",{className:"no-results",children:[b.jsxs("p",{children:['No playlists found matching "',l,'"']}),b.jsx("button",{onClick:()=>i(""),className:"clear-search-link",children:"Show all playlists"})]}):b.jsx("div",{className:"playlists-container "+("list"===n?"list-view":"grid-view"),children:e.map(e=>b.jsx(Ge,{playlist:e,viewMode:n,onClick:u,onDelete:c},e.cardId))})]})},et=n.createContext(void 0),tt=()=>{const e=n.useContext(et);if(void 0===e)throw new Error("useServices must be used within a ServicesProvider");return e},nt=e=>0==e.length?void 0:e[Math.floor(Math.random()*e.length)],at=["apple","bee","book","cactus","cat-keytar","cherries","cloud","diamond","drum","fish","flower","ghost","ice-cream","lolly","microphone","radio","rocket","skull","star","strawberry","sun","unicorn"],rt=["blue","grapefruit","green","lilac","mint","orange","red","yellow"],lt=()=>`https://cdn.yoto.io/myo-cover/${nt(at)}_${nt(rt)}.gif`,it=()=>{const e=a(),[t,r]=n.useState([]),[l,i]=n.useState(!1),{settings:o,isLoading:s}=Je(),{showError:c}=Qe(),[u,d]=n.useState("grid"),[f,p]=n.useState(""),{yotoPlaylistService:h,yotoDataSyncService:m,isReady:g}=tt(),{sortConfig:y,handleSortChange:v,filteredAndSortedPlaylists:k}=((e,t)=>{const[a,r]=n.useState({key:"dateCreated",direction:"desc"}),l=n.useMemo(()=>{let n=e;if(t.trim()){const e=t.toLowerCase().trim();n=n.filter(t=>t.title.toLowerCase().includes(e))}return[...n].sort((e,t)=>{let n=0;switch(a.key){case"title":n=e.title.localeCompare(t.title);break;case"duration":n=(e.metadata?.media?.duration||0)-(t.metadata?.media?.duration||0);break;case"size":n=(e.metadata?.media?.fileSize||0)-(t.metadata?.media?.fileSize||0);break;case"dateCreated":n=new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}return"desc"===a.direction?-n:n})},[e,t,a]);return{sortConfig:a,handleSortChange:e=>{r(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"}))},filteredAndSortedPlaylists:l}})(t,f),{createRandomPlaylist:w,loading:x}=(()=>{const e=a(),[t,r]=n.useState(!1),{settings:l}=Je(),{showError:i}=Qe(),{yotoPlaylistService:o,yotoDataSyncService:s}=tt();return{createRandomPlaylist:async()=>{if(!l.yotoAuthToken)return void i("Authorization token not found.");const t=await s.getAllPlaylistDetails();if(0===t.length)return void i("No existing playlists found to create a random playlist from.");const n=[];if(t.forEach(e=>{e.content?.chapters&&e.content.chapters.forEach(t=>{t.tracks&&t.tracks.length>0&&n.push({...t,sourcePlaylist:e.title})})}),0===n.length)return void i("No tracks found in existing playlists.");const a=[...n].sort(()=>Math.random()-.5),c=Math.min(30,a.length),u=Math.min(10,a.length),d=Math.floor(Math.random()*(c-u+1))+u,f=a.slice(0,d),p={cardId:"",title:`Random Mix ${(new Date).toLocaleDateString()}`,content:{chapters:f.map((e,t)=>({...e,key:String(t+1).padStart(2,"0")})),activity:"yoto_Player",restricted:!0,config:{onlineOnly:!1},version:"1"},metadata:{cover:{imageL:lt()},media:{duration:f.reduce((e,t)=>e+(t.tracks?.[0]?.duration||0),0),fileSize:f.reduce((e,t)=>e+(t.tracks?.[0]?.fileSize||0),0)}}};try{r(!0);const t={card:p},n=await o.savePlaylist(t);if(n&&"object"==typeof n&&"data"in n){const t=n.data?.cardId;t&&e(`/playlists/${t}`)}}catch(h){h instanceof Error?i(`Failed to create random playlist: ${h.message}`):i("Failed to create random playlist due to an unknown error.")}finally{r(!1)}},loading:t}})(),S=async(e=!1)=>{if(o.yotoAuthToken){if(g){e&&i(!0);try{m.syncPlaylists()}catch(t){t instanceof Error?c(t.message):c("An unknown error occurred.")}finally{e&&i(!1)}}}else c("Authorization token not found. Please set it in the Settings page.")};n.useEffect(()=>{if(!s&&g&&o.yotoAuthToken){(async()=>{try{const e=await m.getAllPlaylistDetails();r(e)}catch(e){console.warn("Failed to load cached playlists:",e)}})(),S(!1);const e=m.on("sync-complete",e=>{r(e),i(!1)}),n=m.on("sync-error",e=>{c(`Sync failed: ${e.message}`),i(!1)}),a=m.on("sync-started",()=>{0===t.length&&i(!0)});return()=>{e(),n(),a()}}},[o.yotoAuthToken,s,g]);return b.jsxs("div",{className:"playlists-page",children:[b.jsx(Re,{title:"Your Yoto Playlists",description:"Manage and create beautiful audio playlists for your Yoto player",children:b.jsxs("div",{className:"hero-actions",children:[b.jsxs(qe,{variant:"secondary",className:"refresh-btn",onClick:()=>S(!0),loading:l,loadingChildren:"Refreshing...",children:[b.jsx("span",{className:"btn-icon",children:""}),"Refresh"]}),t.length>0&&b.jsxs(qe,{variant:"primary",className:"random-playlist-btn",onClick:async()=>{await w(),await S(!0)},loading:x||l,loadingChildren:"Creating...",children:[b.jsx("span",{className:"btn-icon",children:""}),"Random Mix"]})]})}),b.jsx("div",{className:"playlists-section",children:o.yotoAuthToken?0!==t.length||l?b.jsx(Ze,{playlists:k,allPlaylists:t,viewMode:u,setViewMode:d,navigate:e,searchQuery:f,setSearchQuery:p,sortConfig:y,onSortChange:v,onDeletePlaylist:async e=>{if(!o.yotoAuthToken)return void c("Authorization token not found.");const n=t.find(t=>t.cardId===e);if(window.confirm(`Are you sure you want to delete "${n?.title||"this playlist"}"? This action cannot be undone.`))try{await h.deletePlaylist(e),r(t=>t.filter(t=>t.cardId!==e))}catch(a){a instanceof Error?c(`Failed to delete playlist: ${a.message}`):c("Failed to delete playlist due to an unknown error.")}}}):b.jsx(We,{icon:"",title:"No Playlists Yet",description:"Create your first Yoto playlist to get started!",action:b.jsxs(qe,{variant:"primary",size:"lg",onClick:()=>e("/create"),children:[b.jsx("span",{children:""}),"Create Your First Playlist"]})}):b.jsx(We,{icon:"",title:"Setup Required",description:"Configure your Yoto authentication token to get started.",variant:"setup",action:b.jsxs(qe,{variant:"secondary",size:"lg",onClick:()=>e("/settings"),children:[b.jsx("span",{children:""}),"Go to Settings"]})})})]})},ot=e=>{const t=e.tracks?.[0],n=t?.events?.onEnd?.cmd;switch(n){case"stop":return"stop";case"repeat":return"repeat";default:return"continue"}},st=e=>{const t=a(),{yotoPlaylistService:r,yotoCoverImageService:l,jobQueueService:i,isReady:o}=tt(),{settings:s,isLoading:c}=Je(),[u,d]=n.useState(null),[f,p]=n.useState(null),[h,m]=n.useState(!0),[g,y]=n.useState(!1),[v,b]=n.useState(!1),[k,w]=n.useState(!1),[x,S]=n.useState(null),C=n.useCallback(e=>{d(t=>{if(!t)return null;const n=t.content?.chapters||[];if(n.some(t=>t.tracks?.[0]?.trackUrl===e.tracks?.[0]?.trackUrl||t.title===e.title))return console.log("Debug - preventing duplicate chapter:",e.title),t;const a=n.length,r=String(a).padStart(2,"0"),l={...e,key:r};return console.log("Debug - adding new chapter to playlist:",l.key,l.title),{...t,content:{...t.content,chapters:[...n,l]}}})},[]),{tracks:j,uploadFiles:N,removeTrack:E,isUploading:I}=((e,t)=>{const[a,r]=n.useState([]),{yotoSongUploadService:l}=tt(),i=n.useMemo(()=>a.some(e=>"uploading"===e.uploadStatus||"transcoding"===e.uploadStatus),[a]),o=n.useCallback((e,t)=>{r(n=>n.map(n=>n.key===e?{...n,uploadProgress:t}:n))},[]),s=n.useCallback((e,n,a)=>{r(r=>{let l=[...r];const i=l.findIndex(t=>t.key===e);if(-1===i)return r;if("completed"===n){const n={...l[i],...a};if("completed"!==l[i].uploadStatus){const e={key:n.key,title:n.title,tracks:n.tracks};console.log("Debug - calling onUploadComplete for:",e.key,e.title),t(e)}console.log("Debug - removing completed track from uploads:",e,n.title),l.splice(i,1)}else l[i]={...l[i],...a,uploadStatus:n};return l})},[t]),c=n.useCallback(async(t,n,r,i)=>{if(!e)return;const o=setInterval(async()=>{try{const e=await l.checkTranscodingStatus(n,!1);if(e.isComplete&&e.transcode){clearInterval(o);const n=e.transcode.transcodedInfo?.metadata?.title||e.transcode.uploadInfo?.metadata?.title||r.replace(/\.mp3$/i,""),a={uploadProgress:100,title:n,artist:e.transcode.transcodedInfo?.metadata?.artist||e.transcode.uploadInfo?.metadata?.artist,tracks:[{key:"01",title:n,trackUrl:`yoto:#${e.transcode.transcodedSha256}`,type:"audio",format:"mp3",duration:e.transcode.transcodedInfo?.duration||e.transcode.uploadInfo?.duration||0,fileSize:i}]};s(t,"completed",a)}else{if(e.isComplete)throw new Error("Transcoding finished but no data was returned.");s(t,"transcoding",{uploadProgress:75})}}catch(x){clearInterval(o),ze(`Error polling transcoding status for ${r}:`,x),s(t,"failed",{uploadError:"Transcoding failed"})}},2e3);setTimeout(()=>{clearInterval(o);const e=a.find(e=>e.key===t);e&&"transcoding"===e.uploadStatus&&s(t,"failed",{uploadError:"Transcoding timed out."})},3e5)},[e,l,s,a]),u=n.useCallback(async t=>{if(!e)return void ze("No auth token available for upload");const n=t.map((e,t)=>({key:`temp-${Date.now()}-${t}`,title:e.name.replace(/\.mp3$/i,""),uploadStatus:"uploading",uploadProgress:0,originalFile:e,tracks:[{key:"01",title:e.name.replace(/\.mp3$/i,""),trackUrl:"",type:"audio",format:"mp3",duration:0,fileSize:e.size}]}));r(e=>[...e,...n]);for(const e of n)try{const t=e.originalFile;o(e.key,10);const n=await l.uploadSong(t,!1,!1);if(o(e.key,50),n.isTranscodingComplete&&n.transcode){const a=n.transcode.transcodedInfo?.metadata?.title||n.transcode.uploadInfo?.metadata?.title||e.title,r={uploadProgress:100,title:a,artist:n.transcode.transcodedInfo?.metadata?.artist||n.transcode.uploadInfo?.metadata?.artist,tracks:[{key:"01",title:a,trackUrl:`yoto:#${n.transcode.transcodedSha256}`,type:"audio",format:"mp3",duration:n.transcode.transcodedInfo?.duration||n.transcode.uploadInfo?.duration||0,fileSize:t.size}]};s(e.key,"completed",r)}else{if(!n.uploadId)throw new Error("Upload did not return a valid state.");s(e.key,"transcoding",{uploadProgress:75}),c(e.key,n.uploadId,t.name,t.size)}}catch(x){ze(`Failed to upload ${e.originalFile?.name}:`,x),s(e.key,"failed",{uploadError:x instanceof Error?x.message:"Upload failed"})}},[e,l,o,s,c]),d=n.useCallback(e=>{r(t=>t.filter(t=>t.key!==e))},[]),f=n.useCallback(()=>{r([])},[]);return{tracks:a,uploadFiles:u,removeTrack:d,clearTracks:f,isUploading:i}})(s.yotoAuthToken,C),P=n.useCallback(async()=>{if(!c&&o){if(m(!0),S(null),e&&"create"!==e)try{const t=await r.getPlaylistById(e),n={...t.card,content:{...t.card.content,chapters:t.card.content?.chapters?.map(e=>({...e,playbackOption:ot(e)}))||[]}};d(n),p(n)}catch(ee){S(ee instanceof Error?ee.message:"Failed to fetch playlist."),ze("Failed to fetch playlist:",ee)}else{const e={cardId:"",title:"New Playlist",content:{chapters:[]},metadata:{cover:{imageL:lt()},description:""}};d(e),p(e)}m(!1)}},[e,s.yotoAuthToken,r,c,o]);n.useEffect(()=>{P()},[P]),n.useEffect(()=>{if(!i||!e||"create"===e)return;Te(`Setting up job completion listener for playlist ${e}`);const t=i.onJobCompleted(t=>{Te("Job completed event received:",{jobType:t.type,jobPayloadPlaylistId:t.payload?.playlistId,currentPlaylistId:e,shouldRefresh:"regenerate-icons"===t.type&&t.payload?.playlistId===e}),"regenerate-icons"===t.type&&t.payload?.playlistId===e&&(Te(`Icon regeneration completed for playlist ${e}, refreshing data...`),P())}),n=i.onTrackIconProcessing(t=>{Te("Track icon processing event received:",t),t.playlistId===e&&d(e=>{if(!e||!e.content?.chapters)return e;const n=e.content.chapters.map(e=>e.key===t.trackKey?{...e,aiProcessingStatus:"processing"}:e);return{...e,content:{...e.content,chapters:n}}})}),a=i.onTrackIconUpdated(t=>{Te("Track icon updated event received:",t),t.playlistId===e&&(d(e=>{if(!e||!e.content?.chapters)return e;const n=e.content.chapters.map(e=>e.key===t.trackKey?{...e,display:{...e.display,icon16x16:t.iconRef},aiProcessingStatus:"updating"}:e);return{...e,content:{...e.content,chapters:n}}}),setTimeout(()=>{d(e=>{if(!e||!e.content?.chapters)return e;const n=e.content.chapters.map(e=>{if(e.key===t.trackKey){const{aiProcessingStatus:t,...n}=e;return n}return e});return{...e,content:{...e.content,chapters:n}}})},1e3))});return()=>{Te(`Cleaning up job completion listener for playlist ${e}`),t(),n(),a()}},[i,e,P]);return{playlist:u,isLoading:h,isDeleting:g,isUploading:I,isRegenerating:v,isUploadingCover:k,error:x,tracksWithStatus:j,hasUnsavedChanges:(()=>{if(!u||!f)return!1;if(!u.cardId)return u.title!==f.title||j.length>0||(u.content?.chapters?.length||0)!==(f.content?.chapters?.length||0)||u.metadata?.cover?.imageL!==f.metadata?.cover?.imageL||u.metadata?.description!==f.metadata?.description;if(u.title!==f.title)return!0;if(u.metadata?.cover?.imageL!==f.metadata?.cover?.imageL)return!0;if(u.metadata?.description!==f.metadata?.description)return!0;const e=u.content?.chapters||[],t=f.content?.chapters||[];if(e.length!==t.length)return!0;if(j.length>0)return!0;for(let n=0;n<e.length;n++){const a=e[n],r=t[n];if(a.key!==r.key||a.title!==r.title)return!0;if(ot(a)!==ot(r))return!0;const l=a.display?.icon16x16,i=r.display?.icon16x16;if(l!==i)return!0}return!1})(),updateTitle:e=>{d(t=>t?{...t,title:e}:null)},updateDescription:e=>{d(t=>t?{...t,metadata:{...t.metadata,description:e}}:null)},addFilesToUploadQueue:e=>{N(e)},removeTrack:e=>{const t=j.some(t=>t.key===e);t?E(e):d(t=>t?{...t,content:{...t.content,chapters:(t.content?.chapters||[]).filter(t=>t.key!==e)}}:null)},reorderChapters:(e,t)=>{d(n=>{if(!n||!n.content?.chapters)return n;const a=[...n.content.chapters],[r]=a.splice(e,1);return a.splice(t,0,r),{...n,content:{...n.content,chapters:a}}})},updateTrackIcon:(e,t)=>{d(n=>{if(!n||!n.content?.chapters)return n;const a=n.content.chapters.map(n=>n.key===e?{...n,display:{...n.display,icon16x16:t},tracks:n.tracks?.map(e=>({...e,display:{...e.display,icon16x16:t}}))||[]}:n);return{...n,content:{...n.content,chapters:a}}})},updateTrackTitle:(e,t)=>{d(n=>{if(!n||!n.content?.chapters)return n;const a=n.content.chapters.map(n=>n.key===e?{...n,title:t}:n);return{...n,content:{...n.content,chapters:a}}})},updatePlaybackOption:(e,t)=>{d(n=>{if(!n||!n.content?.chapters)return n;const a=n.content.chapters.map(n=>{if(n.key===e){const e=n.tracks?.map(e=>({...e,events:"continue"===t?void 0:{onEnd:{cmd:"stop"===t?"stop":"repeat"}}}))||[];return{...n,tracks:e,playbackOption:t}}return n});return{...n,content:{...n.content,chapters:a}}})},savePlaylist:async()=>{if(!u)return void S("Playlist data is not available.");if(!s.yotoAuthToken)return void S("Yoto auth token not configured.");const e=!u.cardId,n=(u.content?.chapters?.length||0)>0,a=j.length>0;var l;if(n||a)if(a)S("Please wait for all uploads to complete before saving.");else try{const n=await r.savePlaylist({card:u});if(Te(`Successfully ${e?"created":"updated"} playlist: ${u.title}`),e&&n.data&&s.aiConfig?.apiKey){const e=(l=n.data).cardId||l.card?.cardId||l.id||null;if(e){Te(`Playlist created with ID: ${e}, queuing AI icon generation...`);try{i.addJob({type:"regenerate-icons",playlistId:e,playlistTitle:u.title},s.yotoAuthToken,s.aiConfig),Te("AI icon generation job queued successfully")}catch(o){ze("Failed to queue icon generation job:",o)}}}t("/")}catch(ee){const n=ee instanceof Error?ee.message:"An unknown error occurred.";return S(`Failed to ${e?"create":"update"} playlist: ${n}`),void ze(`Failed to ${e?"create":"update"} playlist:`,ee)}else S("No tracks to save. Please upload some audio files first.")},deletePlaylist:async()=>{if(!u?.cardId)return void S("Cannot delete playlist without a saved playlist ID.");if(!s.yotoAuthToken)return void S("Yoto auth token not configured.");if(window.confirm(`Are you sure you want to delete "${u.title}"? This action cannot be undone.`)){y(!0),S(null);try{await r.deletePlaylist(u.cardId),t("/")}catch(ee){const t=ee instanceof Error?ee.message:"An unknown error occurred.";S(`Failed to delete playlist: ${t}`),ze("Error deleting playlist:",ee)}finally{y(!1)}}},regenerateIcons:async()=>{if(u&&u.cardId&&s.yotoAuthToken){b(!0);try{i.addJob({type:"regenerate-icons",playlistId:u.cardId,playlistTitle:u.title},s.yotoAuthToken,s.aiConfig)}catch(ee){S(ee instanceof Error?ee.message:"Failed to queue icon regeneration."),ze("Error queueing icon regeneration:",ee)}finally{b(!1)}}else S("Cannot regenerate icons without a saved playlist and auth token.")},uploadCoverImage:async e=>{if(u)if(s.yotoAuthToken){w(!0),S(null);try{const t=await l.uploadCoverImage(e);Te("Successfully uploaded cover image:",t),d(e=>e?{...e,metadata:{...e.metadata,cover:{...e.metadata?.cover,imageL:t.mediaUrl}}}:null)}catch(ee){const t=ee instanceof Error?ee.message:"An unknown error occurred.";S(`Failed to upload cover image: ${t}`),ze("Error uploading cover image:",ee)}finally{w(!1)}}else S("Yoto auth token not configured.");else S("Playlist data is not available.")}}},ct=({type:e,children:t,action:n})=>b.jsxs("div",{className:`alert alert-${e}`,children:[b.jsx("span",{className:"alert-icon",children:(()=>{switch(e){case"error":case"warning":return"";case"success":return"";case"info":return"";default:return""}})()}),b.jsx("div",{className:"alert-content",children:t}),n&&b.jsx("div",{className:"alert-action",children:n})]}),ut=({className:e})=>{const t=a();return b.jsxs("button",{className:`back-button ${e||""}`,onClick:()=>{t("/")},children:[b.jsx("span",{className:"back-arrow",children:""}),"Back to Playlists"]})},dt=({coverUrl:e,title:t,onUploadCover:a,isUploadingCover:r})=>{const l=n.useMemo(()=>e??lt(),[e]),{authenticatedImageUrl:i}=Ke(e),o=i||l;return b.jsx("div",{className:"playlist-cover-section",children:b.jsxs("div",{className:"cover-container",children:[b.jsx("img",{src:o,alt:t,className:"playlist-cover",onError:e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJncmFkIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZmY2YjM1Ii8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjNGE5MGUyIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9InVybCgjZ3JhZCkiLz48Y2lyY2xlIGN4PSIxNTAiIGN5PSIxNTAiIHI9IjQwIiBmaWxsPSJ3aGl0ZSIgb3BhY2l0eT0iMC45Ii8+PHRleHQgeD0iMTUwIiB5PSIxNjUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iNTAiIGZpbGw9IndoaXRlIiBvcGFjaXR5PSIwLjkiPuOAveKZqeOAgTwvdGV4dD48L3N2Zz4K"}}),b.jsx("button",{className:"cover-upload-overlay",onClick:a,disabled:r,title:"Upload custom cover",children:r?b.jsx("div",{className:"upload-spinner",children:b.jsx("span",{className:"spinner"})}):b.jsx("span",{className:"upload-icon",children:""})})]})})},ft=({title:e,description:t,trackCount:n,duration:a,fileSize:r,onRegenerateIcons:l,isRegeneratingIcons:i,iconRegenerationStatus:o,formatDuration:s,formatFileSize:c,durationSeconds:u,fileSizeBytes:d,isCreateMode:f=!1,onTitleChange:p,onDescriptionChange:h,isEditable:m=!1,isEditingTitle:g=!1,onStartTitleEdit:y,onSaveTitle:v,onCancelTitleEdit:k,isSavingTitle:w=!1})=>b.jsxs("div",{className:"playlist-info-section",children:[m&&p?b.jsxs("div",{className:"title-edit-container",children:[b.jsxs("div",{className:"input-with-icon",children:[b.jsx("input",{type:"text",value:e,onChange:e=>p(e.target.value),className:"playlist-title-input",placeholder:"Enter playlist title"}),b.jsx("span",{className:"edit-icon",children:""})]}),!f&&g&&b.jsxs("div",{className:"title-edit-actions",children:[b.jsx("button",{className:"btn btn-sm btn-primary",onClick:v,disabled:w||!e.trim(),children:w?"Saving...":"Save"}),b.jsx("button",{className:"btn btn-sm btn-secondary",onClick:k,disabled:w,children:"Cancel"})]})]}):b.jsxs("div",{className:"title-display-container",children:[b.jsx("h1",{className:"playlist-title",children:e||"New Playlist"}),!f&&y&&b.jsx("button",{className:"btn btn-sm btn-ghost title-edit-btn",onClick:y,title:"Edit playlist title",children:""})]}),m&&h?b.jsx("div",{className:"description-edit-container",children:b.jsxs("div",{className:"input-with-icon",children:[b.jsx("textarea",{value:t||"",onChange:e=>h(e.target.value),className:"playlist-description-input",placeholder:"Enter playlist description (optional)",rows:3}),b.jsx("span",{className:"edit-icon",children:""})]})}):t&&b.jsx("div",{className:"description-display-container",children:b.jsx("p",{className:"playlist-description",children:t})}),b.jsxs("div",{className:"playlist-stats",children:[b.jsxs("div",{className:"stat",children:[b.jsx("span",{className:"stat-icon",children:""}),b.jsx("span",{className:"stat-value",children:n}),b.jsx("span",{className:"stat-label",children:"tracks"})]}),!f&&(a||u)&&b.jsxs("div",{className:"stat",children:[b.jsx("span",{className:"stat-icon",children:""}),b.jsx("span",{className:"stat-value",children:a||s(u||0)}),b.jsx("span",{className:"stat-label",children:"duration"})]}),!f&&(r||d)&&b.jsxs("div",{className:"stat",children:[b.jsx("span",{className:"stat-icon",children:""}),b.jsx("span",{className:"stat-value",children:r?`${r} MB`:c(d||0)}),b.jsx("span",{className:"stat-label",children:"size"})]})]}),!f&&l&&b.jsx("div",{className:"playlist-actions",children:b.jsx("button",{className:"btn btn-primary action-btn",onClick:l,disabled:i||!!o,children:o?"current"===o.type?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"spinner"}),o.job.progress.status]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),"Icon Regeneration Queued"]}):i?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"spinner"}),"Adding to Queue..."]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),"Queue AI Icon Regeneration"]})})})]}),pt=({display:e,isProcessing:t,isUpdating:a})=>{const r=n.useMemo(()=>(e=>{if(e)return e.startsWith("yoto:#")?`https://media-secure-v2.api.yotoplay.com/icons/${e.replace("yoto:#","")}`:e})(e?.icon16x16),[e]),{authenticatedImageUrl:l,loading:i}=Ke(r),[o,s]=n.useState(!1),c=l||r;n.useEffect(()=>{if(c&&!i&&!t){s(!0);const e=setTimeout(()=>s(!1),300);return()=>clearTimeout(e)}},[c,i,t]);return b.jsx("div",{className:(()=>{let e="track-icon";return t&&(e+=" processing"),a&&(e+=" updating"),o&&(e+=" icon-changed"),e})(),children:t?b.jsx("div",{className:"processing-icon",children:""}):a||i?b.jsx("div",{className:"loading-icon",children:""}):c?b.jsx("img",{src:c,alt:"Track icon",onError:e=>{e.target.style.display="none"}}):b.jsx("div",{className:"default-icon",children:""})})},ht=({icon:e,size:t="medium",variant:a="grid",isSelected:r=!1,highlighted:l=!1,showBadge:i=!0,showTitle:o=!0,showTags:s=!0,maxTags:c=2,onClick:u,onKeyDown:d,className:f="",tabIndex:p,role:h,"aria-label":m})=>{const g=n.useMemo(()=>e.isCustom&&e.imageUrl?e.imageUrl:`https://media-secure-v2.api.yotoplay.com/icons/${e.mediaId}`,[e]),{authenticatedImageUrl:y,loading:v}=Ke(e.isCustom?void 0:g),k=e.isCustom?g:y||g,w=["icon-display",`icon-display--${t}`,`icon-display--${a}`,r&&"icon-display--selected",l&&"icon-display--highlighted",u&&"icon-display--clickable",f].filter(Boolean).join(" ");return b.jsxs("div",{className:w,onClick:()=>{u&&u(e)},onKeyDown:t=>{d?d(t):"Enter"!==t.key&&" "!==t.key||!u||(t.preventDefault(),u(e))},tabIndex:p,role:h,"aria-label":m||`${e.title} icon`,children:[b.jsxs("div",{className:"icon-display__image-container",children:[v?b.jsx("div",{className:"icon-display__loading",children:""}):b.jsx("img",{src:k,alt:e.title,className:"icon-display__image",onError:e=>{const t=e.target;t.style.display="none";const n=t.parentElement;n&&(n.innerHTML='<div class="icon-display__error"></div>')}}),r&&b.jsx("div",{className:"icon-display__selected-overlay",children:b.jsx("span",{className:"icon-display__checkmark",children:""})}),e.isCustom&&i&&b.jsx("div",{className:"icon-display__custom-badge",title:"Custom icon",children:""})]}),(o||s)&&b.jsxs("div",{className:"icon-display__info",children:[o&&b.jsx("div",{className:"icon-display__title",title:e.title,children:e.title}),s&&e.tags&&e.tags.length>0&&b.jsxs("div",{className:"icon-display__tags",children:[e.tags.slice(0,c).map((e,t)=>b.jsx("span",{className:"icon-display__tag",children:e},`${e}-${t}`)),e.tags.length>c&&b.jsxs("span",{className:"icon-display__tag-more",title:e.tags.join(", "),children:["+",e.tags.length-c]})]})]})]})},mt=({icons:e,onIconSelect:t,currentIconRef:a})=>{const r=n.useMemo(()=>a?a.replace("yoto:#",""):null,[a]);return 0===e.length?b.jsx("div",{className:"icon-grid-empty",children:b.jsx("div",{className:"empty-message",children:"No icons available"})}):(console.log(e),b.jsx("div",{className:"icon-grid",children:e.map(e=>{const n={id:e.id,mediaId:e.mediaId,title:e.title,imageUrl:e.imageUrl,tags:e.tags,isCustom:e.isCustom};return b.jsx(ht,{icon:n,variant:"grid",size:"medium",isSelected:e.mediaId===r,highlighted:!1,onClick:n=>t(e),tabIndex:0,role:"button","aria-label":`Select ${e.title} icon`,maxTags:2},`${e.isCustom?"custom":"public"}-${e.mediaId}`)})}))},gt=({isOpen:e,onClose:t,onSelect:a,currentIconRef:r,trackTitle:l})=>{const{yotoIconService:i,customIconService:o}=tt(),[s,c]=n.useState([]),[u,d]=n.useState(!1),[f,p]=n.useState(null),[h,m]=n.useState(""),[g,y]=n.useState("all");n.useEffect(()=>(e?(document.body.classList.add("icon-modal-open"),0!==s.length||u||v()):document.body.classList.remove("icon-modal-open"),()=>{document.body.classList.remove("icon-modal-open")}),[e]);const v=async()=>{d(!0),p(null);try{const[e,t]=await Promise.all([i.getIcons(!1),o.getCustomIcons()]),n=e.map(e=>({id:e.mediaId,mediaId:e.mediaId,title:e.title,imageUrl:void 0,tags:e.publicTags||[],isCustom:!1})),a=t.map(e=>({id:`custom-${e.id}`,mediaId:e.mediaId,title:e.title,imageUrl:e.imageUrl,tags:e.tags||[],isCustom:!0})),r=new Map;a.forEach(e=>{r.set(e.mediaId,e)}),n.forEach(e=>{r.has(e.mediaId)||r.set(e.mediaId,e)});const l=Array.from(r.values());c(l)}catch(e){console.error("Failed to load icons:",e),p("Failed to load icons. Please try again.")}finally{d(!1)}},k=n.useMemo(()=>{let e=s;if(h.trim()){const t=h.toLowerCase();e=e.filter(e=>(e.title??"").toLowerCase().includes(t)||(e.tags??[]).some(e=>e.toLowerCase().includes(t)))}return"all"!==g&&(e="custom"===g?e.filter(e=>e.isCustom):"public"===g?e.filter(e=>!e.isCustom):e.filter(e=>e.tags.some(e=>e.toLowerCase()===g.toLowerCase()))),e},[s,h,g]),w=n.useMemo(()=>[{value:"all",label:"All Icons"},{value:"custom",label:"Custom Icons"},{value:"public",label:"Public Icons"}],[s]),x=()=>{m(""),y("all"),t()};return e?b.jsx("div",{className:"icon-picker-overlay",onClick:x,onKeyDown:e=>{"Escape"===e.key&&x()},tabIndex:-1,children:b.jsxs("div",{className:"icon-picker-modal",onClick:e=>e.stopPropagation(),children:[b.jsxs("div",{className:"icon-picker-header",children:[b.jsxs("h3",{children:["Choose Icon",l&&` for "${l}"`]}),b.jsx("button",{className:"close-button",onClick:x,title:"Close",children:""})]}),b.jsxs("div",{className:"icon-picker-controls",children:[b.jsx("div",{className:"search-container",children:b.jsx("input",{type:"text",placeholder:"Search icons...",value:h,onChange:e=>m(e.target.value),className:"search-input",autoFocus:!0})}),b.jsx("div",{className:"category-container",children:b.jsx("select",{value:g,onChange:e=>y(e.target.value),className:"category-select",children:w.map(e=>b.jsx("option",{value:e.value,children:e.label},e.value))})})]}),b.jsx("div",{className:"icon-picker-content",children:u?b.jsxs("div",{className:"loading-state",children:[b.jsx("div",{className:"loading-spinner",children:""}),b.jsx("p",{children:"Loading icons..."})]}):f?b.jsxs("div",{className:"error-state",children:[b.jsx("div",{className:"error-icon",children:""}),b.jsx("p",{children:f}),b.jsx("button",{onClick:v,className:"retry-button",children:"Retry"})]}):0===k.length?b.jsxs("div",{className:"empty-state",children:[b.jsx("div",{className:"empty-icon",children:""}),b.jsx("p",{children:"No icons found"}),h&&b.jsx("button",{onClick:()=>m(""),className:"clear-search-button",children:"Clear search"})]}):b.jsx(mt,{icons:k,onIconSelect:e=>{const t=`yoto:#${e.mediaId}`;a(t)},currentIconRef:r})}),b.jsxs("div",{className:"icon-picker-footer",children:[b.jsxs("div",{className:"icon-count",children:[k.length," icon",1!==k.length?"s":""," ","available"]}),b.jsx("button",{onClick:x,className:"cancel-button",children:"Cancel"})]})]})}):null},yt=({chapter:e,onIconChange:t,disabled:a=!1,size:r="medium",onModalStateChange:l,isProcessing:i=!1,isUpdating:o=!1})=>{const[s,c]=n.useState(!1);return b.jsxs("div",{className:`track-icon-selector ${r} ${a?"disabled":""}`,children:[b.jsxs("button",{type:"button",className:"icon-selector-button",onClick:()=>{a||(c(!0),l?.(!0))},disabled:a,title:a?"Cannot change icon":"Click to change icon",children:[b.jsx("div",{className:"current-icon",children:b.jsx(pt,{display:e.display,isProcessing:i,isUpdating:o})}),!a&&b.jsx("div",{className:"change-icon-overlay",children:b.jsx("span",{className:"change-icon-text",children:""})})]}),s&&b.jsx(gt,{isOpen:s,onClose:()=>{c(!1),l?.(!1)},onSelect:n=>{t(e.key,n),c(!1),l?.(!1)},currentIconRef:e.display?.icon16x16,trackTitle:e.title})]})},vt=({progress:e=0,showText:t=!0,size:n="medium",variant:a="primary",className:r="",error:l})=>{const i=Math.min(Math.max(e,0),100);return b.jsxs("div",{className:`progress-bar-wrapper ${n} ${r}`.trim(),children:[b.jsx("div",{className:"progress-bar-track",children:b.jsx("div",{className:`progress-bar-fill ${a}`,style:{width:`${i}%`}})}),t&&b.jsxs("span",{className:"progress-bar-text",children:[Math.round(i),"%"]}),l&&b.jsx("span",{className:"progress-bar-error",children:l})]})},bt=[{value:"continue",label:"Continue to next track",description:"Play the next track automatically (default)"},{value:"stop",label:"Pause, wait for button press",description:"Pause playback when this track ends",eventCmd:"stop"},{value:"repeat",label:"Repeat this track",description:"Loop this track continuously",eventCmd:"repeat"}],kt=({status:e})=>{const t={uploading:{emoji:"",text:"Uploading..."},transcoding:{emoji:"",text:"Processing..."},completed:{emoji:"",text:"Complete"},failed:{emoji:"",text:"Failed"}}[e];return t?b.jsxs("span",{className:`upload-status status-${e}`,children:[t.emoji," ",t.text]}):null},wt=({status:e})=>{const t={processing:{emoji:"",text:"AI Picking Icon...",className:"ai-processing"},updating:{emoji:"",text:"Updating Icon...",className:"ai-updating"}}[e];return t?b.jsxs("span",{className:`ai-status ${t.className}`,children:[t.emoji," ",t.text]}):null},xt=({progress:e,error:t})=>b.jsx(vt,{progress:e,showText:!0,size:"small",variant:"primary",className:"upload-progress",error:t}),St=({currentOption:e="continue",chapterKey:t,onChange:n,disabled:a})=>{const r=bt.find(t=>t.value===e)||bt[0],l=e=>{switch(e){case"continue":default:return"";case"stop":return"";case"repeat":return""}};return b.jsxs("div",{className:"playback-option-selector",children:[b.jsx("label",{className:"playback-option-label",children:"After track ends:"}),b.jsx("select",{value:e,onChange:e=>n?.(t,e.target.value),disabled:a,className:"playback-option-select",title:r.description,children:bt.map(e=>b.jsxs("option",{value:e.value,children:[l(e.value)," ",e.label]},e.value))})]})},Ct=({chapter:e,index:t,isDragging:a,isDraggedOver:r,onRemove:l,onDragStart:i,onDragOver:o,onDragEnd:s,onDragLeave:c,onIconChange:u,onTitleChange:d,onPlaybackOptionChange:f,formatDuration:p,formatFileSize:h})=>{const[m,g]=n.useState(!1),[y,v]=n.useState(!1),[k,w]=n.useState(e.title),x=e.tracks?.[0],S=e.uploadStatus&&"completed"!==e.uploadStatus,C=e.artist?{artist:e.artist,cleanTitle:e.title}:(e=>{const t=[" - ","  ","  "," | "];for(const n of t){const t=e.indexOf(n);if(t>0&&t<e.length-n.length){const a=e.substring(0,t).trim(),r=e.substring(t+n.length).trim();if(a.length>0&&a.length<100&&r.length>0)return{artist:a,cleanTitle:r}}}return{cleanTitle:e}})(e.title),j=()=>{d&&k.trim()&&d(e.key,k.trim()),v(!1)},N=()=>{w(e.title),v(!1)},E=`track-item${a?" dragging":""}${r?" drag-over":""}${m?" modal-open":""}`,I=y||m;return b.jsxs("div",{className:E,draggable:!1,onDragOver:e=>{o?.(e,t)},onDragLeave:()=>{c?.()},children:[b.jsx("div",{className:"track-drag-handle",title:"Drag to reorder",draggable:!I,onDragStart:e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget.outerHTML),i?.(t)},onDragEnd:()=>{s?.()},style:{cursor:I?"not-allowed":"grab"},children:""}),b.jsx("div",{className:"track-number",children:b.jsx("span",{children:t+1})}),u?b.jsx(yt,{chapter:e,onIconChange:u,disabled:S,size:"medium",onModalStateChange:g,isProcessing:"processing"===e.aiProcessingStatus,isUpdating:"updating"===e.aiProcessingStatus}):b.jsx(pt,{display:e.display,isProcessing:"processing"===e.aiProcessingStatus,isUpdating:"updating"===e.aiProcessingStatus}),b.jsxs("div",{className:"track-info",children:[b.jsxs("div",{className:"track-title-container",children:[y&&d?b.jsxs("div",{className:"track-title-edit",children:[b.jsxs("div",{className:"input-with-icon",children:[b.jsx("input",{type:"text",value:k,onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),j()):"Escape"===e.key&&N()},className:"track-title-input",placeholder:"Enter track title",autoFocus:!0}),b.jsx("span",{className:"edit-icon",children:""})]}),b.jsxs("div",{className:"title-edit-actions",children:[b.jsx("button",{className:"btn btn-sm btn-primary",onClick:j,disabled:!k.trim(),children:""}),b.jsx("button",{className:"btn btn-sm btn-secondary",onClick:N,children:""})]})]}):b.jsxs("div",{className:"track-title-display",children:[b.jsx("h3",{className:"track-title",children:C.cleanTitle}),d&&!S&&b.jsx("button",{className:"btn btn-sm btn-ghost track-title-edit-btn",onClick:()=>{v(!0),w(e.title)},title:"Edit track title",children:""})]}),C.artist&&b.jsx("div",{className:"track-artist",children:C.artist})]}),b.jsxs("div",{className:"track-meta",children:[b.jsxs("span",{className:"track-duration",children:[" ",p(x?.duration||0)]}),b.jsxs("span",{className:"track-size",children:[" ",h(x?.fileSize||0)]}),e.uploadStatus&&b.jsx(kt,{status:e.uploadStatus}),e.aiProcessingStatus&&b.jsx(wt,{status:e.aiProcessingStatus})]}),S&&b.jsx(xt,{progress:e.uploadProgress,error:e.uploadError}),f&&!S&&b.jsx(St,{currentOption:e.playbackOption,chapterKey:e.key,onChange:f,disabled:S})]}),b.jsx("div",{className:"track-actions",children:b.jsxs("button",{className:"btn btn-secondary btn-sm remove-track-btn",onClick:()=>l(e.key),title:"Remove track",children:[b.jsx("span",{children:""}),"Remove"]})})]})},jt=({playlist:e,chapters:t,onRemoveChapter:a,onReorderChapters:r,onIconChange:l,onTitleChange:i,onPlaybackOptionChange:o,formatDuration:s,formatFileSize:c})=>{const u=t||e?.content?.chapters||[],[d,f]=n.useState(null),[p,h]=n.useState(null),m=e=>{f(e)},g=(e,t)=>{e.preventDefault(),h(t)},y=()=>{null!==d&&null!==p&&d!==p&&r&&r(d,p),f(null),h(null)},v=()=>{h(null)};return b.jsx("div",{className:"tracks-list",children:0===u.length?b.jsxs("div",{className:"empty-tracks",children:[b.jsx("div",{className:"empty-icon",children:""}),b.jsx("h3",{children:"No tracks yet"}),b.jsx("p",{children:"Upload some audio files to get started."})]}):b.jsx("div",{children:u.map((e,t)=>b.jsx(Ct,{chapter:e,index:t,isDragging:d===t,isDraggedOver:p===t,onRemove:a||(()=>{}),onDragStart:m,onDragOver:g,onDragEnd:y,onDragLeave:v,onIconChange:l,onTitleChange:i,onPlaybackOptionChange:o,formatDuration:s||(e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`),formatFileSize:c||(e=>`${(e/1048576).toFixed(1)} MB`)},e.key))})})},Nt=({onSave:e,onDelete:t,isSaving:n,isDeleting:a,hasChanges:r,isCreateMode:l,files:i,playlistTitle:o,isSubmitting:s,hasAuthToken:c,hasAnyTracks:u,onCreatePlaylist:d})=>{if(l){const e=o&&c&&u;return b.jsxs("div",{className:"playlist-actions",children:[b.jsx("div",{className:"action-group primary-actions",children:b.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:s||!e,children:s?"Creating...":"Create Playlist"})}),b.jsxs("div",{className:"playlist-status",children:[!c&&b.jsx("div",{className:"status-warning",children:" Configure your Yoto auth token in Settings"}),!o&&b.jsx("div",{className:"status-warning",children:" Enter a playlist title"}),!u&&b.jsx("div",{className:"status-warning",children:" Add audio files to create playlist"})]})]})}return b.jsxs("div",{className:"playlist-actions",children:[b.jsxs("div",{className:"action-group primary-actions",children:[b.jsx("button",{type:"button",className:"btn btn-primary",onClick:e,disabled:n||a||!r,children:n?"Saving...":"Save Changes"}),b.jsx("button",{type:"button",className:"btn btn-delete",onClick:t,disabled:n||a,children:a?"Deleting...":" Delete"})]}),b.jsx("div",{className:"playlist-status",children:r&&b.jsx("div",{className:"status-info",children:" You have unsaved changes"})})]})},Et=()=>{const{playlistId:e}=i(),{settings:t}=Je(),{showError:n}=Qe(),{playlist:a,isLoading:r,isDeleting:l,isUploading:o,isRegenerating:s,isUploadingCover:c,error:u,tracksWithStatus:d,hasUnsavedChanges:f,updateTitle:p,updateDescription:h,addFilesToUploadQueue:m,removeTrack:g,reorderChapters:y,updateTrackIcon:v,updateTrackTitle:k,updatePlaybackOption:w,savePlaylist:x,deletePlaylist:S,regenerateIcons:C,uploadCoverImage:j}=st(e),N=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,E=e=>`${(e/1048576).toFixed(1)} MB`;if(r)return b.jsx("div",{className:"playlist-edit-page",children:b.jsx("div",{className:"loading",children:"Loading playlist..."})});if(u)return n(u),b.jsxs("div",{className:"playlist-edit-page",children:[b.jsx(ut,{className:"page-back-button"}),b.jsxs("div",{className:"error-container",children:[b.jsx(ct,{type:"error",children:u}),b.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Reload Page"})]})]});if(!a)return b.jsxs("div",{className:"playlist-edit-page",children:[b.jsx(ut,{className:"page-back-button"}),b.jsx(ct,{type:"warning",children:"Playlist not found."})]});const I=!a.cardId,P=d.filter(e=>"completed"!==e.uploadStatus),T=[...a.content?.chapters||[],...P];return b.jsxs("div",{className:"playlist-edit-page",children:[b.jsx(ut,{className:"page-back-button"}),b.jsxs("div",{className:"playlist-content",children:[b.jsx(dt,{coverUrl:a.metadata?.cover?.imageL,title:a.title,onUploadCover:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!1,e.onchange=e=>{const t=e.target,n=t.files?.[0];n&&j(n)},e.click()},isUploadingCover:c}),b.jsx(ft,{title:a.title,description:a.metadata?.description,trackCount:T.length,isCreateMode:I,isEditable:!0,onTitleChange:p,onDescriptionChange:h,formatDuration:N,formatFileSize:E,durationSeconds:a.metadata?.media?.duration,fileSizeBytes:a.metadata?.media?.fileSize,onRegenerateIcons:I?void 0:C,isRegeneratingIcons:s})]}),b.jsx("div",{children:b.jsx("button",{className:"add-music-btn",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".mp3,.m4a,.m4b,.aac",e.multiple=!0,e.onchange=e=>{const t=e.target.files;if(t&&t.length>0){const e=Array.from(t);m(e)}},e.click()},children:"Add MP3s"})}),b.jsx(jt,{chapters:T,onRemoveChapter:g,onReorderChapters:y,onIconChange:v,onTitleChange:k,onPlaybackOptionChange:w,formatDuration:N,formatFileSize:E}),b.jsxs("div",{className:"tracks-section",children:[!t.yotoAuthToken&&b.jsx(ct,{type:"warning",children:b.jsxs("span",{children:["Configure your Yoto auth token in"," ",b.jsx("a",{href:"#/settings",children:"Settings"})," first."]})}),b.jsx(Nt,{onSave:x,onDelete:S,isSaving:o,isDeleting:l,hasChanges:f,isCreateMode:I,playlistTitle:a?.title,isSubmitting:l||o,hasAuthToken:!!t.yotoAuthToken,files:d.length>0?d.map(e=>e.originalFile).filter(Boolean):[],hasAnyTracks:T.length>0,onCreatePlaylist:async()=>x()})]})]})},It=[];for(let Gn=0;Gn<256;++Gn)It.push((Gn+256).toString(16).slice(1));let Pt;const Tt=new Uint8Array(16);const At={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function zt(e,t,n){if(At.randomUUID&&!e)return At.randomUUID();const a=(e=e||{}).random??e.rng?.()??function(){if(!Pt){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pt=crypto.getRandomValues.bind(crypto)}return Pt(Tt)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=15&a[6]|64,a[8]=63&a[8]|128,function(e,t=0){return(It[e[t+0]]+It[e[t+1]]+It[e[t+2]]+It[e[t+3]]+"-"+It[e[t+4]]+It[e[t+5]]+"-"+It[e[t+6]]+It[e[t+7]]+"-"+It[e[t+8]]+It[e[t+9]]+"-"+It[e[t+10]]+It[e[t+11]]+It[e[t+12]]+It[e[t+13]]+It[e[t+14]]+It[e[t+15]]).toLowerCase()}(a)}class Lt{CACHE_KEY="yoto-icons-cache";METADATA_KEY="yoto-cache-metadata";CACHE_VERSION="1.0.0";CACHE_EXPIRY_HOURS=24;constructor(){this.initializeCache()}initializeCache(){try{const e=localStorage.getItem(this.METADATA_KEY),t=e?JSON.parse(e):null;if(!t||t.version!==this.CACHE_VERSION){this.clearCache();const e={lastCleared:Date.now(),version:this.CACHE_VERSION};localStorage.setItem(this.METADATA_KEY,JSON.stringify(e))}}catch(e){Ae("Error initializing cache:",e),this.clearCache()}}generateIconHash(e){const t={mediaId:e.mediaId,title:e.title,publicTags:e.publicTags};return btoa(JSON.stringify(t))}generateIconHashes(e){return e.map(e=>this.generateIconHash(e))}isCacheValid(e){return Date.now()-e.lastFetched<60*this.CACHE_EXPIRY_HOURS*60*1e3}hasIconsChanged(e,t){const n=this.generateIconHashes(e);return n.length!==t.length||!n.every((e,n)=>e===t[n])}getCachedIcons(){try{const e=localStorage.getItem(this.CACHE_KEY);if(!e)return Te("No cached icon data found"),null;const t=JSON.parse(e);return this.isCacheValid(t)?(Te(`Loaded ${t.icons.length} icons from cache`),{icons:t.icons,embeddings:t.embeddings}):(Te("Cached icon data is expired"),null)}catch(e){return Ae("Error getting cached icons:",e),null}}setCachedIcons(e,t){if(e.length!==t.length)throw new Error("Icons and embeddings arrays must have the same length");try{const n=this.generateIconHashes(e),a={icons:e,embeddings:t,lastFetched:Date.now(),iconHashes:n};localStorage.setItem(this.CACHE_KEY,JSON.stringify(a)),Te(`Cached ${e.length} icons with embeddings`)}catch(n){throw ze("Error caching icons:",n),n instanceof Error&&"QuotaExceededError"===n.name&&(this.clearCache(),Ae("Cleared cache due to storage quota exceeded")),n}}shouldRefreshCache(e){try{const t=localStorage.getItem(this.CACHE_KEY);if(!t)return!0;const n=JSON.parse(t);return!this.isCacheValid(n)||!(!e||!this.hasIconsChanged(e,n.iconHashes))&&(Te("Icons have changed, cache refresh needed"),!0)}catch(t){return Ae("Error checking cache refresh:",t),!0}}clearCache(){try{localStorage.removeItem(this.CACHE_KEY),Te("Icon cache cleared")}catch(e){Ae("Error clearing cache:",e)}}getCacheStats(){try{const e=localStorage.getItem(this.CACHE_KEY);if(!e)return{hasCache:!1};const t=JSON.parse(e);return{hasCache:!0,lastFetched:new Date(t.lastFetched),iconCount:t.icons.length,isExpired:!this.isCacheValid(t)}}catch(e){return Ae("Error getting cache stats:",e),{hasCache:!1}}}getCachedEmbeddingsForIcons(e){const t=this.getCachedIcons();if(!t)return null;const n=new Map;t.icons.forEach((e,a)=>{n.set(e.mediaId,{icon:e,embedding:t.embeddings[a],index:a})});const a=[],r=[],l=[];return e.forEach(e=>{const t=n.get(e.mediaId);t?(a.push(t.icon),r.push(t.embedding)):l.push(e)}),{icons:a,embeddings:r,missingIcons:l}}}class Dt{constructor(e){this.httpClient=e}async fetchIcons(e){Te(`Fetching icons from ${e}...`);try{const t=await this.httpClient.get(e,{headers:{"Content-Type":"application/json"}}),n=t?.displayIcons||[];return Te(`Successfully fetched ${n.length} icons from ${e}`),n}catch(t){if(ze(`Error fetching icons from ${e}:`,t),t instanceof Error)throw new Error(`Failed to fetch icons: ${t.message}`);throw new Error("Failed to fetch icons due to an unknown error.")}}}class Ft{constructor(e){this.yotoClient=e,this.iconFetcher=new Dt(e)}iconFetcher;getIconsRoute="/media/displayIcons/user/me";METADATA_STORAGE_KEY="yoto-custom-icon-metadata";getMetadataStorageKey(){return this.METADATA_STORAGE_KEY}loadMetadata(){try{const e=localStorage.getItem(this.getMetadataStorageKey());if(e){const t=JSON.parse(e);return new Map(t.map(e=>[e.id,e]))}}catch(e){Ae("Error loading custom icon metadata:",e)}return new Map}saveMetadata(e){try{const t=Array.from(e.values());localStorage.setItem(this.getMetadataStorageKey(),JSON.stringify(t))}catch(t){ze("Error saving custom icon metadata:",t)}}async getCustomIcons(){try{const e=await this.iconFetcher.fetchIcons(this.getIconsRoute),t=this.loadMetadata();return e.map(e=>{const n=t.get(e.displayIconId);return{id:e.displayIconId,mediaId:e.mediaId,title:n?.title||`Icon ${e.displayIconId}`,imageUrl:e.url,uploadedAt:e.createdAt,tags:n?.tags||[]}}).sort((e,t)=>new Date(t.uploadedAt).getTime()-new Date(e.uploadedAt).getTime())}catch(e){return ze("Failed to fetch custom icons:",e),[]}}async uploadCustomIcon(e,t){const n=t||e.name.replace(/\.[^/.]+$/,""),a=`/media/displayIcons/user/me/upload?filename=${encodeURIComponent(n)}&autoConvert=true`;try{const t=(await this.yotoClient.post(a,e,{bodyType:"binary",headers:{"Content-Type":e.type}})).displayIcon,r={id:t.displayIconId,title:n,tags:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},l=this.loadMetadata();return l.set(t.displayIconId,r),this.saveMetadata(l),{id:t.displayIconId,mediaId:t.mediaId,title:n,imageUrl:t.url,uploadedAt:t.createdAt||(new Date).toISOString(),tags:[]}}catch(r){throw ze("Failed to upload custom icon:",r),new Error("Failed to upload custom icon.")}}async updateCustomIcon(e,t){try{const n=this.loadMetadata();let a=n.get(e.id);a||(a={id:e.id,title:e.title,tags:e.tags||[],createdAt:e.uploadedAt,updatedAt:(new Date).toISOString()}),void 0!==t.title&&(a.title=t.title),void 0!==t.tags&&(a.tags=t.tags),a.updatedAt=(new Date).toISOString(),n.set(e.id,a),this.saveMetadata(n),Te(`Updating custom icon ${e.id} with title: ${a.title} and tags: ${a.tags.join(", ")}`);const r={...e,...t};return Te(`Successfully updated custom icon ${e.id} locally`),r}catch(n){return ze(`Failed to update custom icon ${e.id}:`,n),null}}async deleteCustomIcon(e){return ze(`Delete operation not supported: The Yoto API doesn't provide a delete endpoint for custom icons (${e})`),!1}async getCustomIconsAsYotoIcons(){return(await this.getCustomIcons()).map(e=>({mediaId:e.mediaId,title:e.title,imageUrl:e.imageUrl,tags:e.tags}))}}class $t{embeddingModel="mixedbread-ai/mxbai-embed-xsmall-v1";chatModel="openai/gpt-oss-20b";batchSize=50;config;cacheService;yotoClient;constructor(e,t){this.yotoClient=e,this.config=t||{},this.embeddingModel=t?.embeddingModel||this.embeddingModel,this.chatModel=t?.chatModel||this.chatModel,this.batchSize=t?.batchSize||this.batchSize,this.cacheService=new Lt}async combineIconsWithCustom(e){const t=new Ft(this.yotoClient);return[...(await t.getCustomIconsAsYotoIcons()).map(e=>({mediaId:e.mediaId,title:e.title,publicTags:e.tags||[]})),...e]}validateForMapping(){if(!this.config.baseUrl)throw new Error("AI configuration (baseUrl) is required for icon mapping. Please configure it in Settings.");if(!this.config.apiKey)throw new Error("AI API key is required for icon mapping. Please configure it in Settings.")}async testApiConnection(){try{const e=new AbortController,t=setTimeout(()=>e.abort(),1e4),n=await fetch(`${this.config.baseUrl}/models`,{method:"GET",headers:{Authorization:`Bearer ${this.config.apiKey}`},signal:e.signal});if(clearTimeout(t),!n.ok)throw new Error(`API endpoint test failed: ${n.status} ${n.statusText}`);Te("AI API connection test successful")}catch(e){throw ze("AI API connection test failed:",e),new Error(`AI API is not available. Please check your connection and try again. Error: ${e.message}`)}}cleanTrackTitle(e){return e.includes(" - ")?e.split(" - ")[1].trim():e}cosineSimilarity(e,t){if(!e||!t||e.length!==t.length)return-1;const n=e.reduce((e,n,a)=>e+n*t[a],0),a=Math.sqrt(e.reduce((e,t)=>e+t*t,0)),r=Math.sqrt(t.reduce((e,t)=>e+t*t,0));return 0===a||0===r?-1:n/(a*r)}createIconText(e){const t=e.publicTags?e.publicTags.join(" "):"";return`${e.title} ${t}`.trim()}async createEmbeddingsInBatches(e,t){Te(`Creating embeddings for ${e.length} ${t}...`);const n=[];for(let a=0;a<e.length;a+=this.batchSize){const t=e.slice(a,a+this.batchSize);Te(`Processing batch ${Math.floor(a/this.batchSize)+1}/${Math.ceil(e.length/this.batchSize)}`,this.config.baseUrl);const r=await fetch(`${this.config.baseUrl}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify({model:this.embeddingModel,input:t})});if(!r.ok)throw ze(`API Error Response: ${r.status} ${r.statusText}. Base URL: ${this.config.baseUrl}`),new Error(`Embedding API error: ${r.status} ${r.statusText}`);const l=(await r.json()).data.map(e=>e.embedding);n.push(...l)}return n}async mapIcons(e,t,n=100,a,r){this.validateForMapping(),a?.({status:"Testing AI API connection...",current:void 0,total:void 0}),await this.testApiConnection();const l=await this.combineIconsWithCustom(t),i=e.card.content.chapters.map(e=>({...e,title:this.cleanTrackTitle(e.title)})),o=l.map(e=>this.createIconText(e)),s=i.map(e=>e.title);let c;if(this.cacheService.shouldRefreshCache(l))Te("Creating new icon embeddings..."),c=await this.createEmbeddingsInBatches(o,"icons"),this.cacheService.setCachedIcons(l,c);else{Te("Using cached icon embeddings...");const e=this.cacheService.getCachedIcons();e&&e.icons.length===l.length?c=e.embeddings:(Te("Cache mismatch, creating new embeddings..."),c=await this.createEmbeddingsInBatches(o,"icons"),this.cacheService.setCachedIcons(l,c))}const u=await this.createEmbeddingsInBatches(s,"track titles"),d=[];let f=0;for(let m=0;m<i.length;m++){const t=i[m],o=u[m];a?.({status:`Mapping icons: processing track ${m+1} of ${i.length}`,current:m+1,total:i.length,fileName:`"${t.title}"`});const s=[...c.map((e,t)=>({icon:l[t],similarity:this.cosineSimilarity(o,e)}))].sort((e,t)=>t.similarity-e.similarity).slice(0,n);try{const n=await this.selectBestIcon(t.title,s.map(e=>e.icon));if(d.push({...t,mediaId:n.mediaId}),r)try{const a=await this.updateCardIcons(e,d),l={chapterKey:t.key,iconRef:`yoto:#${n.mediaId}`};await r(a,l),Te(`Playlist saved after mapping icon for track "${t.title}"`)}catch(p){ze(`Failed to save playlist after mapping icon for "${t.title}":`,p)}m<i.length-1&&await new Promise(e=>setTimeout(e,500))}catch(h){ze(`Failed to map icon for chapter "${t.title}":`,h),f++;const n={...t,mediaId:s[0].icon.mediaId};if(d.push(n),r)try{const n=await this.updateCardIcons(e,d),a={chapterKey:t.key,iconRef:`yoto:#${s[0].icon.mediaId}`};await r(n,a),Te(`Playlist saved after fallback icon assignment for track "${t.title}"`)}catch(p){ze(`Failed to save playlist after fallback icon for "${t.title}":`,p)}}}if(f>0){const e=`Warning: ${f} out of ${i.length} icon mappings failed and used fallback icons.`;Ae(e),a?.({status:e,current:i.length,total:i.length,warning:!0})}return await this.updateCardIcons(e,d)}async selectBestIcon(e,t){const n=t.map(e=>({title:e.title,tags:e.publicTags||[]})),a=`Song title: "${e}"\nIcons: ${JSON.stringify(n,null,2)}\nResponse:`;try{const e=await fetch(`${this.config.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify({model:this.chatModel,messages:[{role:"system",content:"**Task**: Icon Matching for Song Titles\n\nYou will be given:\n1. A song title\n2. A list of icon candidates showing the title and tags of each icon\n\n**Your job**: Return the exact 'title' of the icon that best matches the song title.\n\n**Instructions**:\n- Analyze the song title for key themes, objects, emotions, or concepts\n- Compare against both the 'title' and 'tags' of each icon\n- Look for direct matches first (e.g., \"bus\" in song title  icon with \"bus\" tag)\n- Consider metaphorical or thematic connections (e.g., love songs  heart icons)\n- Prioritize icons that match multiple aspects of the song\n- If multiple icons seem equally relevant, choose the most specific/direct match\n\n**Response format**: Return only the exact icon 'title' string, nothing else.\n\n**If no suitable match exists**: Return the 'title' of the most generic or closest thematically related icon from the available options."},{role:"user",content:a}]})});if(!e.ok)throw ze(`API Error Response: ${e.status} ${e.statusText}. Base URL: ${this.config.baseUrl}`),new Error(`Chat API error: ${e.status} ${e.statusText}`);const n=(await e.json()).choices[0].message.content.trim().replaceAll('"',"").replaceAll("'","").trim(),r=t.find(e=>e.title===n);return r||(Te(` AI returned invalid title: "${n}", using highest similarity as fallback`),t[0])}catch(r){if(ze(`Error with AI selection for "${e}":`,r),r instanceof Error){if(r.message.includes("404"))throw new Error("AI API endpoint not found (404). Check your AI configuration in Settings.");if(r.message.includes("401"))throw new Error("AI API authentication failed (401). Check your API key in Settings.");if(r.message.includes("timeout"))throw new Error("AI API request timed out. The service may be overloaded.")}throw r}}async updateCardIcons(e,t){const n=new Map(t.map(e=>[e.key,e.mediaId]));return e.card.content.chapters.forEach(e=>{const t=n.get(e.key);if(t){const n=`yoto:#${t}`;e.display={...e.display,icon16x16:n},e.tracks.forEach(e=>{e.display={...e.display,icon16x16:n}})}}),e}}class Mt{createJob(e,t,n){if("regenerate-icons"!==e.type)throw new Error("Invalid job type for RegenerateIconsJobFactory");return{type:"regenerate-icons",id:zt(),playlistTitle:e.playlistTitle,payload:{authToken:t,playlistTitle:e.playlistTitle,playlistId:e.playlistId,aiConfig:n||{apiKey:"",baseUrl:""}},status:"queued",progress:{status:"Queued"},createdAt:Date.now()}}}class _t{createJob(e,t,n){if("create-playlist"!==e.type)throw new Error("Invalid job type for CreatePlaylistJobFactory");return{type:"create-playlist",id:zt(),playlistTitle:e.playlistTitle,payload:{authToken:t,playlistTitle:e.playlistTitle,sources:[],topXIcons:100,aiConfig:n||{apiKey:"",baseUrl:""},coverImagePath:void 0,files:e.files},status:"queued",progress:{status:"Queued"},createdAt:Date.now()}}}class Rt{createJob(e,t,n){if("update-playlist"!==e.type)throw new Error("Invalid job type for UpdatePlaylistJobFactory");return{type:"update-playlist",id:zt(),playlistTitle:e.playlistTitle,payload:{authToken:t,playlistTitle:e.playlistTitle,sources:[],topXIcons:100,aiConfig:n||{apiKey:"",baseUrl:""},coverImagePath:void 0,files:e.files,cardId:e.cardId},status:"queued",progress:{status:"Queued"},createdAt:Date.now()}}}class Ut{getIconsRoute="media/displayIcons/user/yoto";cacheService;iconFetcher;constructor(e){this.iconFetcher=new Dt(e),this.cacheService=new Lt}async getIcons(e=!1){if(!e){const e=this.cacheService.getCachedIcons();if(e)return Te(`Using cached icons (${e.icons.length} icons)`),e.icons}const t=await this.iconFetcher.fetchIcons(this.getIconsRoute);return Te(`Successfully fetched ${t.length} icons from API`),t}getCacheStats(){return this.cacheService.getCacheStats()}clearCache(){this.cacheService.clearCache()}}class Ot{httpClient;constructor(e){this.httpClient=e}get yotoClient(){return this.httpClient}async getPlaylistById(e){if(!e)throw new Error("Playlist ID is required");Te(`Fetching playlist from Yoto API: ${e}`);try{const t=await this.httpClient.get(`content/${e}`,{headers:{"Content-Type":"application/json"}});return Te("Successfully fetched playlist from Yoto API"),Te("Fetched playlist data:",JSON.stringify(t,null,2)),t}catch(t){if(ze(`Error fetching playlist ${e} from Yoto API:`,t),t instanceof Error)throw new Error(`Failed to fetch playlist: ${t.message}`);throw new Error("Failed to fetch playlist due to an unknown error.")}}validatePlaylistId(e){if(!e||"string"!=typeof e||0===e.trim().length)throw new Error("Invalid playlist ID");return e.trim()}async getPlaylists(){Te("Fetching playlists from Yoto API");try{const e=await this.httpClient.get("content/mine");return Te("Successfully fetched playlists from Yoto API"),e.cards}catch(e){if(ze("Error fetching playlists from Yoto API:",e),e instanceof Error)throw new Error(`Failed to fetch playlists: ${e.message}`);throw new Error("Failed to fetch playlists due to an unknown error.")}}async savePlaylist(e){const t=e.card,n=!!t.cardId;Te(`${n?"Updating":"Creating"} playlist${n?": "+t.cardId:""}`);const a=JSON.parse(JSON.stringify(t));if(a.content&&a.content.chapters)for(const l of a.content.chapters)if(null===l.display&&(l.display={}),l.tracks)for(const e of l.tracks)null===e.display&&(e.display={});try{Te("Sending playlist data to API:",JSON.stringify(a,null,2));const e=await this.httpClient.post("content",a);return Te(`Successfully ${n?"updated":"created"} playlist`),Te("API response:",JSON.stringify(e,null,2)),{success:!0,data:e,isUpdate:n,uploadedAt:(new Date).toISOString()}}catch(r){if(ze(`Error ${n?"updating":"creating"} playlist:`,r),r instanceof Error)throw new Error(`Failed to ${n?"update":"create"} playlist: ${r.message}`);throw new Error(`Failed to ${n?"update":"create"} playlist due to an unknown error.`)}}async deletePlaylist(e){if(!e)throw new Error("Playlist ID is required");Te(`Deleting playlist: ${e}`);try{await this.httpClient.delete(`content/${e}`),Te("Successfully deleted playlist")}catch(t){if(ze(`Error deleting playlist ${e}:`,t),t instanceof Error)throw new Error(`Failed to delete playlist: ${t.message}`);throw new Error("Failed to delete playlist due to an unknown error.")}}}class qt{httpClient;constructor(e){this.httpClient=e}async calculateSHA256(e){const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t),a=Array.from(new Uint8Array(n));return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async getUploadUrl(e){const t=e.name,n=await this.calculateSHA256(e),a=`media/transcode/audio/uploadUrl?sha256=${encodeURIComponent(n)}&filename=${encodeURIComponent(t)}`;Te(`Getting upload URL for: ${t}`);try{const e=await this.httpClient.get(a,{});if(!e?.upload?.uploadId)throw new Error("API response missing upload ID");return e.upload.uploadUrl?{uploadId:e.upload.uploadId,uploadUrl:e.upload.uploadUrl,fileName:t,sha256Hash:n,alreadyExists:!1}:(Te(`File already exists in Yoto system: ${t}`),{uploadId:e.upload.uploadId,uploadUrl:null,fileName:t,sha256Hash:n,alreadyExists:!0})}catch(r){if(ze(`Error getting upload URL for ${t}:`,r),r instanceof Error)throw new Error(`Failed to get upload URL: ${r.message}`);throw new Error("Failed to get upload URL due to an unknown error.")}}async uploadFileToS3(e,t){if(!t)throw new Error("Upload URL is required but was null or undefined");Te(`Uploading file to S3: ${e.name} (${e.size} bytes)`);try{const n=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e});if(!n.ok){const e=await n.text();throw new Error(`HTTP error! status: ${n.status} ${n.statusText} - ${e}`)}return!0}catch(n){if(ze(`Error uploading file ${e.name}:`,n),n instanceof Error)throw new Error(`Failed to upload file: ${n.message}`);throw new Error("Failed to upload file due to an unknown error.")}}async checkTranscodingStatus(e,t=!1){Te(`Checking transcoding status for upload: ${e}`);try{const n=await this.httpClient.get(`media/upload/${e}/transcoded?loudnorm=${t}`,{});return{isComplete:void 0!==n.transcode?.transcodedAt,transcode:n.transcode}}catch(n){if(ze(`Error checking transcoding status for ${e}:`,n),n instanceof Error)throw new Error(`Failed to check transcoding status: ${n.message}`);throw new Error("Failed to check transcoding status due to an unknown error.")}}async waitForTranscoding(e,t=!1,n=3e5,a=5e3){const r=Date.now();for(;Date.now()-r<n;){const n=await this.checkTranscodingStatus(e,t);if(n.isComplete)return Te(`Transcoding completed for upload: ${e}`),n.transcode;Te(`Transcoding still in progress for ${e}, waiting ${a}ms...`),await new Promise(e=>setTimeout(e,a))}throw new Error(`Transcoding timeout after ${n}ms for upload: ${e}`)}async uploadSong(e,t=!1,n=!0){Te(`Starting complete song upload process for: ${e.name}`);try{const a=await this.getUploadUrl(e);let r;if(a.alreadyExists?Te("Skipping file upload - file already exists in Yoto system"):await this.uploadFileToS3(e,a.uploadUrl),n)r=await this.waitForTranscoding(a.uploadId,t);else{r=(await this.checkTranscodingStatus(a.uploadId,t)).transcode}return{success:!0,uploadId:a.uploadId,fileName:a.fileName,sha256Hash:a.sha256Hash,transcode:r,isTranscodingComplete:void 0!==r?.transcodedAt,alreadyExists:a.alreadyExists,message:a.alreadyExists?"File already exists in Yoto system":"File uploaded successfully"}}catch(a){throw ze("Error in complete upload process:",a),a}}}const Ht=new class{baseUrl="https://api.yotoplay.com";settingsProvider;authFailureCallback;setSettingsProvider(e){this.settingsProvider=e}setAuthFailureCallback(e){this.authFailureCallback=e}getAuthToken(){if(this.settingsProvider){const e=this.settingsProvider.getSettings();if(e.yotoAuthToken)return e.yotoAuthToken}return null}getDefaultHeaders(e){return{...{Authorization:e.startsWith("Bearer ")?e:`Bearer ${e}`},Accept:"application/json"}}async makeRequest(e,t,n={}){const a=this.getAuthToken();if(!a)throw this.authFailureCallback&&this.authFailureCallback(),new Error("No authentication token available");const r=e.startsWith("http")?e:`${this.baseUrl}/${e.replace(/^\//,"")}`,{headers:l={},body:i,bodyType:o="json"}=n,s={...this.getDefaultHeaders(a),...l},c={method:t,headers:s};if(i)switch(o){case"json":s["Content-Type"]="application/json;charset=utf-8",c.body=JSON.stringify(i);break;case"binary":case"form":c.body=i}const u=await fetch(r,c);if(!u.ok){const e=await u.text();throw 401!==u.status&&403!==u.status||(Ae(`Auth failure detected: ${u.status} ${u.statusText}`),this.authFailureCallback&&this.authFailureCallback()),new Error(`HTTP error! status: ${u.status} ${u.statusText} - ${e}`)}return u.json()}async get(e,t){return this.makeRequest(e,"GET",t)}async post(e,t,n){return this.makeRequest(e,"POST",{...n,body:t})}async put(e,t,n){return this.makeRequest(e,"PUT",{...n,body:t})}async delete(e,t){return this.makeRequest(e,"DELETE",t)}getBaseUrl(){return this.baseUrl}},Jt=new Ot(Ht),Bt=new Ut(Ht),Vt=new qt(Ht),Qt=new class{queue=[];history=[];isProcessing=!1;currentJob=null;yotoIconService;yotoPlaylistService;yotoSongUploadService;jobFactories=new Map;listeners=new Map;constructor(e,t,n){this.yotoIconService=e,this.yotoPlaylistService=t,this.yotoSongUploadService=n,this.initializeJobFactories(),this.loadState()}initializeJobFactories(){this.jobFactories.set("regenerate-icons",new Mt),this.jobFactories.set("create-playlist",new _t),this.jobFactories.set("update-playlist",new Rt)}emit(e,...t){const n=this.listeners.get(e)||[];Te(`JobQueueService emitting '${e}' to ${n.length} listeners`,"job-completed"===e?{job:t[0]}:void 0);for(const a of n)a(...t)}on(e,t){const n=this.listeners.get(e)||[];return n.push(t),this.listeners.set(e,n),Te(`JobQueueService: Added listener for '${e}', total listeners: ${n.length}`),()=>{const n=this.listeners.get(e)||[],a=n.indexOf(t);a>-1&&(n.splice(a,1),Te(`JobQueueService: Removed listener for '${e}', remaining listeners: ${n.length}`))}}saveState(){try{localStorage.setItem("jobQueue-history",JSON.stringify(this.history))}catch(e){ze(`Failed to save job queue state: ${e}`)}}loadState(){try{const e=localStorage.getItem("jobQueue-history");e&&(this.history=JSON.parse(e))}catch(e){ze(`Failed to load job queue state: ${e}`)}}addJob(e,t,n){const a=this.jobFactories.get(e.type);if(!a)throw new Error(`Unsupported job type: ${e.type}`);const r=a.createJob(e,t,n);return this.queue.push(r),Te(`Job added to queue: ${r.id}`),Te("Queue length after adding job:",this.queue.length),this.emit("queue-status",this.getStatus()),this.processQueue(),r}async processQueue(){if(!this.isProcessing&&0!==this.queue.length){this.isProcessing=!0,this.currentJob=this.queue.shift(),this.currentJob.status="processing",Te(`Processing job: ${this.currentJob.id}`),Te("Job moved to currentJob, queue length now:",this.queue.length),this.emit("queue-status",this.getStatus()),await new Promise(e=>setTimeout(e,100)),this.emit("job-progress",{jobId:this.currentJob.id,progress:{status:"Starting job..."}});try{if("regenerate-icons"===this.currentJob.type){const e=this.currentJob.payload,{playlistId:t,playlistTitle:n,aiConfig:a}=e;this.emit("job-progress",{jobId:this.currentJob.id,progress:{status:`Regenerating icons for ${n}...`}});const r=await this.yotoIconService.getIcons(),l=await this.yotoPlaylistService.getPlaylistById(t),i=new $t(this.yotoPlaylistService.yotoClient,a),o=await i.mapIcons(l,r,100,e=>{this.currentJob&&(this.currentJob.progress=e,this.emit("job-progress",{jobId:this.currentJob.id,progress:e}),e.fileName&&e.current&&this.emit("track-icon-processing",{jobId:this.currentJob.id,playlistId:t,trackKey:String(e.current-1).padStart(2,"0"),trackTitle:e.fileName.replace(/"/g,"")}))},async(e,n)=>{await this.yotoPlaylistService.savePlaylist(e),this.currentJob&&n&&this.emit("track-icon-updated",{jobId:this.currentJob.id,playlistId:t,trackKey:n.chapterKey,iconRef:n.iconRef}),this.currentJob&&this.emit("playlist-updated",{jobId:this.currentJob.id,playlistId:t,jobType:this.currentJob.type})});await this.yotoPlaylistService.savePlaylist(o),this.currentJob.result={success:!0}}else{if("create-playlist"!==this.currentJob.type&&"update-playlist"!==this.currentJob.type)throw new Error("Unsupported job type in process queue");await this.processPlaylistJob(this.currentJob)}this.currentJob.status="completed",Te(`Job completed: ${this.currentJob.id}`,{type:this.currentJob.type,payload:this.currentJob.payload}),this.emit("job-completed",this.currentJob)}catch(e){this.currentJob&&(this.currentJob.status="failed",this.currentJob.error=e instanceof Error?e.message:String(e),this.emit("job-failed",this.currentJob),ze(`Job failed: ${this.currentJob.id} - ${e}`))}this.currentJob&&(this.history.unshift(this.currentJob),this.history.length>50&&this.history.pop()),this.currentJob=null,this.isProcessing=!1,this.saveState(),Te("Job completed, currentJob set to null, isProcessing:",this.isProcessing),this.emit("queue-status",this.getStatus()),this.processQueue()}}async processPlaylistJob(e){const t=e.payload,{files:n,playlistTitle:a}=t;this.emitJobProgress(e.id,`Processing ${a}...`,0,n.length+1);const r=await this.uploadFilesToChapters(e.id,n),l=await this.savePlaylistWithChapters(e,r);"create-playlist"===e.type&&await this.queueIconGenerationIfNeeded(l,t),e.result={success:!0,data:l}}async uploadFilesToChapters(e,t){const n=[];for(let a=0;a<t.length;a++){const r=t[a];this.emitJobProgress(e,`Uploading ${r.name}...`,a+1,t.length+1,r.name);const l=await this.uploadSingleFileToChapter(r,a);Te(`Created chapter ${a+1}:`,JSON.stringify(l,null,2)),n.push(l)}return Te(`Total uploaded chapters: ${n.length}`),n}async uploadSingleFileToChapter(e,t){try{const n=await this.yotoSongUploadService.uploadSong(e,!1,!0);if(!n.isTranscodingComplete||!n.transcode)throw new Error(`Failed to transcode ${e.name}`);return this.createChapterFromUpload(e,n,t)}catch(n){throw new Error(`Failed to upload ${e.name}: ${n instanceof Error?n.message:"Unknown error"}`)}}createChapterFromUpload(e,t,n){const a=t.transcode.metadata?.title||e.name.replace(/\.mp3$/i,"");return{key:String(n).padStart(2,"0"),title:a,tracks:[{key:"01",title:a,trackUrl:`yoto:#${t.transcode.transcodedSha256}`,type:"audio",format:"mp3",duration:t.transcode.metadata?.duration||0,fileSize:e.size}]}}async savePlaylistWithChapters(e,t){const n=e.payload,a="create-playlist"===e.type?"Creating playlist...":"Updating playlist...";this.emitJobProgress(e.id,a,n.files.length+1,n.files.length+1);const r=this.buildPlaylistCard(e,t);return await this.yotoPlaylistService.savePlaylist({card:r})}buildPlaylistCard(e,t){const n=e.payload,a={cardId:"update-playlist"===e.type?n.cardId:void 0,title:n.playlistTitle,content:{chapters:t},metadata:{cover:{imageL:n.coverImagePath||"https://picsum.photos/400/400"}}};return Te(`Building playlist card with ${t.length} chapters:`,JSON.stringify(a,null,2)),a}async queueIconGenerationIfNeeded(e,t){if(e.isUpdate||!e.data)return;const n=this.extractCardIdFromResult(e.data);if(n&&t.aiConfig){Te(`Playlist created with ID: ${n}, queuing AI icon generation...`);try{this.addJob({type:"regenerate-icons",playlistId:n,playlistTitle:t.playlistTitle},t.authToken,t.aiConfig),Te("AI icon generation job queued successfully")}catch(a){ze("Failed to queue icon generation job:",a)}}}extractCardIdFromResult(e){return e.cardId||e.card?.cardId||e.id||null}emitJobProgress(e,t,n,a,r){this.emit("job-progress",{jobId:e,progress:{status:t,current:n,total:a,fileName:r}})}getStatus(){const e={isProcessing:this.isProcessing,queueLength:this.queue.length,currentJob:this.currentJob};return Te("JobQueueService.getStatus() called:",e),e}getJobHistory(){return this.history}clearJobHistory(){this.history=[],this.saveState()}getQueue(){return this.queue}cancelJob(e){const t=this.queue.findIndex(t=>t.id===e);return t>-1&&(this.queue.splice(t,1),this.emit("queue-status",this.getStatus()),Te(`Job canceled from queue: ${e}`),!0)}onQueueStatus(e){return this.on("queue-status",e)}onJobProgress(e){return this.on("job-progress",e)}onJobCompleted(e){return this.on("job-completed",e)}onJobFailed(e){return this.on("job-failed",e)}onPlaylistUpdated(e){return this.on("playlist-updated",e)}onTrackIconProcessing(e){return this.on("track-icon-processing",e)}onTrackIconUpdated(e){return this.on("track-icon-updated",e)}}(Bt,Jt,Vt);let Yt=Qt.getStatus();const Wt=new Set,Kt={subscribe:e=>(Wt.add(e),()=>Wt.delete(e)),getSnapshot:()=>Yt};function Gt(){return n.useSyncExternalStore(Kt.subscribe,Kt.getSnapshot)}Qt.onQueueStatus(e=>{Yt=e,Wt.forEach(e=>e())}),Qt.onJobProgress(e=>{if(Yt.currentJob?.id===e.jobId){const t={...Yt.currentJob,progress:e.progress};Yt={...Yt,currentJob:t},Wt.forEach(e=>e())}}),Qt.onJobCompleted(e=>{Yt=Qt.getStatus(),Wt.forEach(e=>e())}),Qt.onJobFailed(e=>{Yt=Qt.getStatus(),Wt.forEach(e=>e())});const Xt=({job:e,onCancelJob:t,variant:n="pending",queuePosition:a})=>{const r="current"===n,l=r?"":"",i="regenerate-icons"===e.type?" AI Icon Picking":" Create";return b.jsxs("div",{className:"job-queue-item "+(r?"current-job":""),children:[b.jsxs("div",{className:"job-header",children:[b.jsxs("div",{className:"job-title",children:[b.jsx("span",{className:"job-status-icon",children:l}),b.jsx("span",{className:"job-name",title:e.playlistTitle,children:e.playlistTitle}),b.jsx("span",{className:"job-type-badge",children:i})]}),!r&&void 0!==a&&b.jsxs("div",{className:"job-position",children:["#",a," in queue"]})]}),r&&e.progress&&b.jsxs("div",{className:"job-progress",children:[b.jsx("div",{className:"job-item-progress-text",children:e.progress.status}),e.progress.total&&void 0!==e.progress.current&&b.jsx(vt,{progress:e.progress.current/e.progress.total*100,showText:!1,size:"medium",variant:"primary",className:"job-progress"}),e.progress.total&&void 0!==e.progress.current&&b.jsxs("div",{className:"job-item-progress-text",children:[e.progress.current," / ",e.progress.total]})]}),b.jsx("div",{className:"job-actions",children:b.jsx("button",{className:"cancel-job-button",onClick:()=>t(e.id),disabled:r&&e.progress?.done,children:r&&e.progress?.done?"Completed":"Cancel"})})]})},Zt=({currentJob:e,onCancelJob:t})=>e?.progress?b.jsxs("div",{className:"current-job-section",children:[b.jsx("h3",{children:"Currently Processing"}),b.jsx(Xt,{job:e,onCancelJob:t,variant:"current"})]}):null,en=({pendingJobs:e,onCancelJob:t})=>0===e.length?b.jsxs("div",{className:"empty-state",children:[b.jsx("div",{className:"empty-icon",children:""}),b.jsx("h3",{children:"No Pending Jobs"}),b.jsx("p",{children:"Playlist creation and icon regeneration jobs will appear here when added to the queue."})]}):b.jsx("div",{className:"job-queue-list",children:e.map((e,n)=>b.jsx(Xt,{job:e,onCancelJob:t,variant:"pending",queuePosition:n+1},e.id))}),tn=({jobHistory:e,onClearHistory:t})=>{const n=e=>{switch(e){case"completed":return"";case"failed":return"";case"cancelled":return"";default:return""}},a=e=>{switch(e){case"completed":return"status-completed";case"failed":return"status-failed";case"cancelled":return"status-cancelled";default:return""}};return b.jsxs("div",{className:"history-section",children:[b.jsx("div",{className:"job-history-controls",children:b.jsx("button",{className:"clear-history-button",onClick:t,disabled:0===e.length,children:"Clear History"})}),0===e.length?b.jsxs("div",{className:"empty-state",children:[b.jsx("div",{className:"empty-icon",children:""}),b.jsx("h3",{children:"No Job History"}),b.jsx("p",{children:"Playlist creation jobs will appear here after they complete."})]}):b.jsx("div",{className:"job-history-list",children:e.map(e=>{return b.jsxs("div",{className:`job-history-item ${a(e.status)}`,children:[b.jsxs("div",{className:"job-header",children:[b.jsxs("div",{className:"job-title",children:[b.jsx("span",{className:"job-status-icon",children:n(e.status)}),b.jsx("span",{className:"job-name",title:e.playlistTitle,children:e.playlistTitle})]}),b.jsx("div",{className:"job-timestamp",children:(t=e.timestamp,new Date(t).toLocaleString())})]}),b.jsxs("div",{className:"job-details",children:[b.jsxs("div",{className:"job-status",children:[b.jsx("span",{className:"status-label",children:"Status:"}),b.jsx("span",{className:"status-value",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),e.error&&b.jsxs("div",{className:"job-error",children:[b.jsx("span",{className:"error-label",children:"Error:"}),b.jsx("span",{className:"error-message",children:e.error})]})]})]},e.id);var t})})]})},nn=({activeTab:e,pendingCount:t,historyCount:n,onTabChange:a})=>b.jsxs("div",{className:"tabs",children:[b.jsxs("button",{className:"tab "+("pending"===e?"active":""),onClick:()=>a("pending"),children:["Pending (",t,")"]}),b.jsxs("button",{className:"tab "+("history"===e?"active":""),onClick:()=>a("history"),children:["History (",n,")"]})]}),an=()=>{const{jobQueueService:e}=tt(),t=Gt(),[a,r]=n.useState("pending"),l=t.currentJob,i=e.getQueue(),o=e.getJobHistory(),s=t=>{e.cancelJob(t)},c=l,u=i,d=o.map(e=>({id:e.id,playlistTitle:e.playlistTitle,timestamp:e.createdAt,status:e.status,error:e.error,type:e.type}));return b.jsxs("div",{className:"job-queue-page",children:[b.jsx(Re,{title:"Job Queue & History",description:"View your playlist creation queue and history"}),b.jsx(nn,{activeTab:a,onTabChange:e=>{r(e)},pendingCount:i.length+(l?1:0),historyCount:o.length}),b.jsxs("div",{className:"tab-content",children:["pending"===a&&b.jsxs("div",{className:"pending-section",children:[c&&b.jsx(Zt,{currentJob:c,onCancelJob:s}),i.length>0?b.jsx(en,{pendingJobs:u,onCancelJob:s}):!l&&b.jsxs("div",{className:"empty-state",children:[b.jsx("div",{className:"empty-icon",children:""}),b.jsx("h3",{children:"No Pending Jobs"}),b.jsx("p",{children:"Playlist creation jobs will appear here when added to the queue."})]})]}),"history"===a&&b.jsx(tn,{jobHistory:d,onClearHistory:()=>{e.clearJobHistory()}})]})]})};class rn{authUrl="https://login.yotoplay.com/authorize";tokenUrl="https://login.yotoplay.com/oauth/token";config={clientId:"6Sywk5v92ETrGmHf2nv7VOf88XHZwNP1",redirectUri:"http://localhost:3000/auth/callback",scope:"offline_access",audience:"https://api.yotoplay.com"};async generatePKCE(){const e=this.base64URLEncode(crypto.getRandomValues(new Uint8Array(32))),t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return{codeChallenge:this.base64URLEncode(new Uint8Array(n)),codeVerifier:e,codeChallengeMethod:"S256"}}base64URLEncode(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}generateState(){return this.base64URLEncode(crypto.getRandomValues(new Uint8Array(32)))}async buildAuthUrl(){const e=await this.generatePKCE(),t=this.generateState(),n=new URLSearchParams({audience:this.config.audience,scope:this.config.scope,response_type:"code",client_id:this.config.clientId,redirect_uri:this.config.redirectUri,state:t,code_challenge:e.codeChallenge,code_challenge_method:e.codeChallengeMethod}),a=`${this.authUrl}?${n.toString()}`;return Te("Built authorization URL",{url:a,clientId:this.config.clientId,redirectUri:this.config.redirectUri,scope:this.config.scope}),{url:a,state:t,codeVerifier:e.codeVerifier}}async exchangeCodeForToken(e,t,n,a){if(n!==a)throw new Error("Invalid state parameter - possible CSRF attack");const r=new URLSearchParams({grant_type:"authorization_code",client_id:this.config.clientId,code:e,redirect_uri:this.config.redirectUri,code_verifier:t});Te("Exchanging authorization code for token");const l=await fetch(this.tokenUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:r.toString()});if(!l.ok){const e=await l.text();throw ze("Token exchange failed",{status:l.status,statusText:l.statusText,error:e}),new Error(`Token exchange failed: ${l.status} ${l.statusText} - ${e}`)}const i=await l.json();return Te("Token exchange successful",{hasAccessToken:!!i.access_token,hasRefreshToken:!!i.refresh_token,expiresIn:i.expires_in}),i}async refreshToken(e){const t=new URLSearchParams({grant_type:"refresh_token",client_id:this.config.clientId,refresh_token:e});Te("Refreshing access token");const n=await fetch(this.tokenUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:t.toString()});if(!n.ok){const e=await n.text();throw ze("Token refresh failed",{status:n.status,statusText:n.statusText,error:e}),new Error(`Token refresh failed: ${n.status} ${n.statusText} - ${e}`)}const a=await n.json();return Te("Token refresh successful",{hasAccessToken:!!a.access_token,hasRefreshToken:!!a.refresh_token,expiresIn:a.expires_in}),a}async startAuthFlow(){const{url:e,state:t,codeVerifier:n}=await this.buildAuthUrl();Te("Opening authorization URL in browser",{url:e});try{window.open(e,"_blank"),Te("Successfully opened browser tab")}catch(a){throw ze("Failed to open browser",a),new Error(`Failed to open browser: ${a}`)}return{state:t,codeVerifier:n}}parseCallbackUrl(e){try{const t=new URL(e),n=t.searchParams.get("code"),a=t.searchParams.get("state"),r=t.searchParams.get("error");if(r){const e=t.searchParams.get("error_description");throw ze("OAuth callback error",{error:r,errorDescription:e}),new Error(`OAuth error: ${r} - ${e}`)}return n&&a?{code:n,state:a}:(ze("Missing code or state in callback URL"),null)}catch(t){return ze("Failed to parse callback URL",t),null}}getConfig(){return{...this.config}}}const ln=()=>{const{login:e,authState:t}=Fe(),{showError:a}=Qe(),[r,l]=n.useState(!1),[i]=n.useState(()=>new rn);n.useEffect(()=>{window.location.pathname.includes("/auth/callback")&&(async()=>{const t=new URLSearchParams(window.location.search),n=t.get("code"),r=t.get("state"),o=t.get("error");if(o){const e=t.get("error_description");return void a(`Authentication error: ${o} - ${e}`)}if(n&&r){l(!0);try{const t=localStorage.getItem("yoto-auth-state"),a=localStorage.getItem("yoto-auth-verifier");if(!t||!a)throw new Error("Missing stored authentication data");const l=await i.exchangeCodeForToken(n,a,t,r);localStorage.removeItem("yoto-auth-state"),localStorage.removeItem("yoto-auth-verifier"),await e(l.access_token,l.refresh_token,l.expires_in),Te("Login successful"),window.location.href="/"}catch(s){const e=s instanceof Error?s.message:"Unknown error occurred";a(`Login failed: ${e}`),ze("Login failed",s)}finally{l(!1)}}})()},[i,e,a]);return t.isAuthenticated?b.jsx("div",{className:"login-page authenticated",children:b.jsxs("div",{className:"login-container",children:[b.jsx("h1",{children:"Already Logged In"}),b.jsx("p",{children:"You are already authenticated with Yoto."}),b.jsx("div",{className:"login-actions",children:b.jsx("button",{type:"button",onClick:()=>window.location.href="/",className:"btn btn-primary",children:"Go to Dashboard"})})]})}):b.jsx("div",{className:"login-page",children:b.jsxs("div",{className:"login-container",children:[b.jsxs("div",{className:"login-header",children:[b.jsx("h1",{children:"Welcome to Yoto Playlist Creator"}),b.jsx("p",{children:"Create custom audio playlists for your Yoto Player"}),b.jsxs("div",{className:"app-features",children:[b.jsxs("div",{className:"feature",children:[b.jsx("span",{className:"feature-icon",children:""}),b.jsx("span",{children:"Random playlist generation; create a random playlist from your existing tracks!"})]}),b.jsxs("div",{className:"feature",children:[b.jsx("span",{className:"feature-icon",children:""}),b.jsx("span",{children:"Playlist searching + sorting functionality"})]}),b.jsxs("div",{className:"feature",children:[b.jsx("span",{className:"feature-icon",children:""}),b.jsx("span",{children:"Use AI to pick icons for your tracks; no need to do it manually for loads of songs!"})]}),b.jsxs("div",{className:"feature",children:[b.jsx("span",{className:"feature-icon",children:""}),b.jsx("span",{children:"Syncs directly to your Yoto library"})]})]}),b.jsx("p",{className:"login-subtitle",children:"Sign in to your Yoto account to get started"})]}),b.jsx("div",{className:"login-form",children:b.jsx("div",{className:"login-actions",children:b.jsx("button",{type:"button",onClick:async()=>{l(!0);try{const{url:e,state:t,codeVerifier:n}=await i.buildAuthUrl();localStorage.setItem("yoto-auth-state",t),localStorage.setItem("yoto-auth-verifier",n),Te("Navigating to Yoto login page"),window.location.href=e}catch(e){const t=e instanceof Error?e.message:"Unknown error occurred";a(`Failed to start authentication: ${t}`),ze("Failed to start auth flow",e),l(!1)}},disabled:r,className:"btn btn-primary btn-large",children:r?"Redirecting to Yoto...":"Sign In with Yoto"})})}),b.jsx("div",{className:"login-footer",children:b.jsxs("p",{children:["Need a Yoto account?"," ",b.jsx("a",{href:"https://my.yotoplay.com",target:"_blank",rel:"noopener noreferrer",children:"Sign up at yotoplay.com"})]})})]})})},on=({icon:e,isEditing:t,editTitle:n,editTags:a,onEditStart:r,onEditSave:l,onEditCancel:i,onTitleChange:o,onTagsChange:s})=>{const c={id:e.id,mediaId:e.mediaId,title:e.title,imageUrl:e.imageUrl,tags:e.tags,isCustom:!0};return b.jsxs("div",{className:"icon-card",children:[b.jsx(ht,{icon:c,variant:"card",size:"medium",showBadge:!1,showTitle:!1,showTags:!1}),b.jsx("div",{className:"icon-details",children:t?b.jsxs("div",{className:"edit-form",children:[b.jsx("input",{type:"text",value:n,onChange:e=>o(e.target.value),className:"edit-title-input",placeholder:"Icon title...",onKeyDown:t=>{"Enter"===t.key?l(e):"Escape"===t.key&&i()}}),b.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),className:"edit-tags-input",placeholder:"Tags (comma separated)..."}),b.jsxs("div",{className:"edit-actions",children:[b.jsx("button",{onClick:()=>l(e),className:"btn btn-primary btn-sm",children:" Save"}),b.jsx("button",{onClick:i,className:"btn btn-ghost btn-sm",children:" Cancel"})]})]}):b.jsxs(b.Fragment,{children:[b.jsx("h4",{className:"icon-title",children:e.title}),b.jsx("div",{className:"icon-tags",children:e.tags?.map(e=>b.jsx("span",{className:"tag",children:e},e))}),b.jsx("div",{className:"icon-meta",children:b.jsx("span",{children:(u=e.uploadedAt,new Date(u).toLocaleDateString())})}),b.jsx("div",{className:"icon-actions",children:b.jsx("button",{onClick:()=>r(e),className:"btn btn-ghost btn-sm",title:"Edit icon",children:" Edit"})})]})})]});var u},sn=()=>{const[e,t]=n.useState([]),[a,r]=n.useState(!1),[l,i]=n.useState(null),[o,s]=n.useState(""),[c,u]=n.useState(""),[d,f]=n.useState("newest"),{showError:p}=Qe(),{customIconService:h,isReady:m}=tt(),g=n.useMemo(()=>{const t=[...e];switch(d){case"newest":default:return t;case"oldest":return t.sort((e,t)=>new Date(e.uploadedAt).getTime()-new Date(t.uploadedAt).getTime());case"name":return t.sort((e,t)=>e.title.localeCompare(t.title))}},[e,d]);n.useEffect(()=>{m&&y()},[m]);const y=async()=>{r(!0);try{const e=await h.getCustomIcons();t(e)}catch(e){p(e instanceof Error?e.message:"Failed to load custom icons")}finally{r(!1)}},v=e=>{i(e.id),s(e.title),u(e.tags?e.tags.join(", "):"")},k=async e=>{try{const t=c.split(",").map(e=>e.trim()).filter(e=>e.length>0);await h.updateCustomIcon(e,{title:o.trim(),tags:t})?(await y(),w()):p("Failed to update icon")}catch(t){p(t instanceof Error?t.message:"Failed to update icon")}},w=()=>{i(null),s(""),u("")};return b.jsxs("div",{className:"custom-icons-page",children:[b.jsx(Re,{title:"Custom Icons",description:"Upload and manage your own custom icons for playlist chapters",children:b.jsxs("div",{className:"hero-inner",children:[b.jsx("div",{className:"hero-actions",children:b.jsxs(qe,{variant:"primary",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!1,e.onchange=e=>{(async e=>{const t=e.target.files?.[0];if(t){r(!0);try{await h.uploadCustomIcon(t),await y()}catch(n){p(n instanceof Error?n.message:"Failed to upload icon")}finally{r(!1),e.target.value=""}}})(e)},e.click()},loading:a,loadingChildren:"Uploading...",children:[b.jsx("span",{className:"btn-icon",children:""}),"Upload Icon"]})}),b.jsx("div",{children:b.jsxs("h5",{children:["For additional icons, try awesome sites such as"," ",b.jsx("a",{href:"https://www.yotoicons.com/",target:"_blank",rel:"noopener noreferrer",children:"Yotoicons"}),"!"]})})]})}),b.jsx("div",{className:"parent-info",children:b.jsx("div",{className:"info-section",children:b.jsxs(ct,{type:"info",children:[b.jsx("strong",{children:"Tips for Custom Icons:"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Square images work best (1:1 aspect ratio)"}),b.jsx("li",{children:"High contrast images are easier to see on Yoto cards"}),b.jsx("li",{children:"Simple, recognizable shapes work better than detailed images"})]})]})})}),0===e.length?b.jsxs("div",{className:"empty-state",children:[b.jsx("div",{className:"empty-icon",children:""}),b.jsx("h3",{children:"No Custom Icons Yet"}),b.jsx("p",{children:"Upload your first custom icon to get started!"}),b.jsx("p",{className:"empty-subtitle",children:"Supported formats: PNG, JPG, GIF  Max size: 5MB"})]}):b.jsxs("div",{className:"icons-section",children:[b.jsx("div",{className:"section-header",children:b.jsxs("div",{className:"section-header-content",children:[b.jsxs("h2",{children:["Your Custom Icons (",e.length,")"]}),b.jsxs("div",{className:"sort-controls",children:[b.jsx("label",{htmlFor:"sort-icons",children:"Sort by:"}),b.jsxs("select",{id:"sort-icons",value:d,onChange:e=>f(e.target.value),className:"sort-dropdown",children:[b.jsx("option",{value:"newest",children:"Newest First"}),b.jsx("option",{value:"oldest",children:"Oldest First"}),b.jsx("option",{value:"name",children:"Name (A-Z)"})]})]})]})}),b.jsx("div",{className:"icons-grid",children:g.map(e=>b.jsx(on,{icon:e,isEditing:l===e.id,editTitle:o,editTags:c,onEditStart:v,onEditSave:k,onEditCancel:w,onTitleChange:s,onTagsChange:u},e.id))})]})]})},cn=()=>b.jsxs("div",{className:"help-page",children:[b.jsx("h1",{children:"Help"}),b.jsxs("section",{children:[b.jsx("h2",{children:"App Functionality"}),b.jsx("p",{children:"This application allows you to create and manage Yoto playlists. You can add tracks, reorder them, and set a custom icon for each track."}),b.jsx("h3",{children:"AI Icon Picking"}),b.jsx("p",{children:"One of the key features of this app is the ability to have an AI pick the icons icons for your playlist tracks. When you create or edit a playlist, if you have configured the AI settings on the settings page then the AI will automatically pick the icons for you! The app will send a request to an AI service with the track title and a prompt to generate an icon. The generated icon will then be displayed next to the track."})]}),b.jsxs("section",{children:[b.jsx("h2",{children:"Getting an OpenAI Compatible API Key"}),b.jsx("p",{children:"To use the AI icon generation feature, you need an API key from an OpenAI compatible service. Here are a few options:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"OpenAI:"})," You can get an API key directly from"," ",b.jsx("a",{href:"https://www.openai.com",target:"_blank",rel:"noopener noreferrer",children:"OpenAI"}),". You will need to create an account and add a payment method."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"OpenRouter:"})," ",b.jsx("a",{href:"https://openrouter.ai",target:"_blank",rel:"noopener noreferrer",children:"OpenRouter"})," ","is a service that gives you access to a variety of AI models, including some free ones. You can get an API key from them and use it in this app. OpenRouter offers a certain number of free requests daily."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Self-hosted (Ollama):"})," If you prefer to run your own AI model locally, you can use a tool like"," ",b.jsx("a",{href:"https://ollama.com",target:"_blank",rel:"noopener noreferrer",children:"Ollama"}),". Ollama allows you to run powerful open-source models on your own computer. You would then use your computer's IP address and port as the API endpoint in this app's settings."]})]})]}),b.jsxs("section",{children:[b.jsx("h2",{children:"Random Playlist Feature"}),b.jsx("p",{children:'On the homepage, you\'ll find a "Random Playlist" button. This feature is a quick way to discover new content. When you click it, the app will create a new playlist with a random selection of tracks from your library.'})]})]}),un=({currentJob:e,isMinimized:t,isJobCompleted:n,queueLength:a,onToggleMinimize:r,onDismiss:l})=>{const i=!1===e?.progress.success;return b.jsxs("div",{className:"toast-header "+(i?"error":""),children:[b.jsx("h4",{children:"regenerate-icons"===e?.type?"Icon Regeneration":"Playlist Creation"}),b.jsxs("div",{className:"toast-controls",children:[b.jsx("button",{onClick:r,className:"minimize-btn",title:t?"Expand":"Minimize",children:t?"":""}),n&&0===a&&b.jsx("button",{onClick:l,className:"dismiss-btn",title:"Close",children:""})]})]})},dn=({job:e})=>{const t=e.progress.total&&e.progress.current?Math.round(e.progress.current/e.progress.total*100):0,n=e.progress.total&&(e.progress.fileName||void 0!==e.progress.current),a=!0===e.progress.done,r=e.progress.success?"":"";return b.jsxs("div",{className:"current-job-status",children:[b.jsxs("div",{className:"job-title",children:[b.jsx("span",{className:"job-icon",children:e.progress.done?r:""}),b.jsx("span",{className:"job-name",title:e.playlistTitle,children:e.playlistTitle})]}),b.jsx("p",{className:"job-progress-status",children:e.progress.status}),n&&!a&&b.jsxs("div",{className:"detailed-progress",children:[e.progress.fileName&&b.jsxs("p",{className:"current-file",children:["File: ",e.progress.fileName]}),b.jsx(vt,{progress:t})]}),e.progress.total&&!n&&!a&&b.jsxs("div",{className:"progress-bar-container",children:[b.jsx("div",{className:"progress-bar "+(100===t?"completed":""),style:{width:`${t}%`}}),b.jsxs("span",{className:"progress-text",children:[t,"%"]})]})]})},fn=({queueLength:e})=>b.jsx("div",{className:"queue-info",children:b.jsxs("p",{children:[e," other playlist",e>1?"s":""," in queue."]})}),pn=({queueLength:e})=>b.jsx("div",{className:"toast-footer",children:b.jsx("p",{className:"info-text",children:e>0?"This job is complete. Remaining jobs will process automatically.":"Upload complete! You can now close this notification."})}),hn=({currentJob:e,queueLength:t,isJobCompleted:n})=>e?b.jsxs("div",{className:"toast-body",children:[b.jsx(dn,{job:e}),t>0&&b.jsx(fn,{queueLength:t}),n&&b.jsx(pn,{queueLength:t})]}):null,mn=({queueStatus:e,onDismiss:t})=>{const{isProcessing:a,queueLength:r,currentJob:l}=e,[i,o]=n.useState(!1),s=!0===l?.progress?.done||"completed"===l?.status||"failed"===l?.status;if(n.useEffect(()=>{if(Pe("CreationStatusToast: isJobCompleted:",s,"queueLength:",r,"isProcessing:",a),s&&0===r&&!a){Pe("CreationStatusToast: Setting 5-second auto-dismiss timer");const e=setTimeout(()=>{Pe("CreationStatusToast: Auto-dismissing toast"),t()},5e3);return()=>clearTimeout(e)}},[s,r,a,t]),!a&&0===r&&!l)return null;const c=!1===l?.progress?.success;return b.jsxs("div",{className:`creation-status-toast ${c?"error":""} ${i?"minimized":""}`,children:[b.jsx(un,{currentJob:l||void 0,isMinimized:i,isJobCompleted:s,queueLength:r,onToggleMinimize:()=>{o(!i)},onDismiss:()=>{(s&&0===r||!a&&0===r&&!l)&&t()}}),!i&&b.jsx(hn,{currentJob:l||void 0,queueLength:r,isJobCompleted:s})]})},gn=({children:e})=>{const[t,a]=n.useState({yotoAuthToken:"",aiConfig:{apiKey:"",baseUrl:"",embeddingModel:"",chatModel:""}}),[r,l]=n.useState(!0),i=Ie(),{authState:o}=Fe(),s=n.useCallback(async()=>{try{l(!0);const[e,t,n,r,o]=await Promise.all([Promise.resolve(i.appStorage.get("yoto-access-token")||i.appStorage.get("yoto-auth-token")),Promise.resolve(i.appStorage.get("ai-api-key")),Promise.resolve(i.appStorage.get("ai-base-url")),Promise.resolve(i.appStorage.get("ai-embedding-model")),Promise.resolve(i.appStorage.get("ai-chat-model"))]);a({yotoAuthToken:e||"",aiConfig:{apiKey:t||"",baseUrl:n||"",embeddingModel:r||"",chatModel:o||""}})}finally{l(!1)}},[i.appStorage,o]);n.useEffect(()=>{s()},[]),n.useEffect(()=>{s()},[o.isAuthenticated,s]);const c=n.useCallback(async e=>{const n={...t,...e,aiConfig:{...t.aiConfig,...e.aiConfig}};i.appStorage.set("yoto-access-token",n.yotoAuthToken),i.appStorage.set("yoto-auth-token",n.yotoAuthToken),i.appStorage.set("ai-api-key",n.aiConfig.apiKey),i.appStorage.set("ai-base-url",n.aiConfig.baseUrl),i.appStorage.set("ai-embedding-model",n.aiConfig.embeddingModel||""),i.appStorage.set("ai-chat-model",n.aiConfig.chatModel||""),a(n)},[t,i.appStorage]),u=n.useCallback(async()=>{await s()},[s]),d=n.useMemo(()=>({settings:t,isLoading:r,saveSettings:c,refreshSettings:u}),[t,r,c,u]);return b.jsx(He.Provider,{value:d,children:e})};class yn{httpClient;constructor(e){this.httpClient=e}async uploadCoverImage(e){if(!e)throw new Error("Image file is required");let t=e.type||"image/jpeg";if(!t.startsWith("image/")){switch(e.name.toLowerCase().split(".").pop()){case"png":t="image/png";break;case"gif":t="image/gif";break;default:t="image/jpeg"}}Te(`Uploading cover image: ${e.name}`);try{const n=await e.arrayBuffer(),a=new Uint8Array(n),r=await this.httpClient.post("media/coverImage/user/me/upload?coverType=default",a,{bodyType:"binary",headers:{"Content-Type":t}});return Te("Successfully uploaded cover image"),{mediaId:r.coverImage.mediaId,mediaUrl:r.coverImage.mediaUrl}}catch(n){if(ze("Error uploading cover image:",n),n instanceof Error)throw new Error(`Failed to upload cover image: ${n.message}`);throw new Error("Failed to upload cover image due to an unknown error.")}}}const vn=(e,t)=>t.some(t=>e instanceof t);let bn,kn;const wn=new WeakMap,xn=new WeakMap,Sn=new WeakMap;let Cn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function jn(e){Cn=e(Cn)}function Nn(e){return(kn||(kn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Pn(this),t),In(this.request)}:function(...t){return In(e.apply(Pn(this),t))}}function En(e){return"function"==typeof e?Nn(e):(e instanceof IDBTransaction&&function(e){if(wn.has(e))return;const t=new Promise((t,n)=>{const a=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",l),e.removeEventListener("abort",l)},r=()=>{t(),a()},l=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",r),e.addEventListener("error",l),e.addEventListener("abort",l)});wn.set(e,t)}(e),vn(e,bn||(bn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Cn):e)}function In(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const a=()=>{e.removeEventListener("success",r),e.removeEventListener("error",l)},r=()=>{t(In(e.result)),a()},l=()=>{n(e.error),a()};e.addEventListener("success",r),e.addEventListener("error",l)});return Sn.set(t,e),t}(e);if(xn.has(e))return xn.get(e);const t=En(e);return t!==e&&(xn.set(e,t),Sn.set(t,e)),t}const Pn=e=>Sn.get(e);const Tn=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],zn=new Map;function Ln(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(zn.get(t))return zn.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,r=An.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!r&&!Tn.includes(n))return;const l=async function(e,...t){const l=this.transaction(e,r?"readwrite":"readonly");let i=l.store;return a&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),r&&l.done]))[0]};return zn.set(t,l),l}jn(e=>({...e,get:(t,n,a)=>Ln(t,n)||e.get(t,n,a),has:(t,n)=>!!Ln(t,n)||e.has(t,n)}));const Dn=["continue","continuePrimaryKey","advance"],Fn={},$n=new WeakMap,Mn=new WeakMap,_n={get(e,t){if(!Dn.includes(t))return e[t];let n=Fn[t];return n||(n=Fn[t]=function(...e){$n.set(this,Mn.get(this)[t](...e))}),n}};async function*Rn(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,_n);for(Mn.set(n,t),Sn.set(n,Pn(t));t;)yield n,t=await($n.get(n)||t.continue()),$n.delete(n)}function Un(e,t){return t===Symbol.asyncIterator&&vn(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&vn(e,[IDBIndex,IDBObjectStore])}jn(e=>({...e,get:(t,n,a)=>Un(t,n)?Rn:e.get(t,n,a),has:(t,n)=>Un(t,n)||e.has(t,n)}));let On=null;async function qn(){return On||(On=await function(e,t,{blocked:n,upgrade:a,blocking:r,terminated:l}={}){const i=indexedDB.open(e,t),o=In(i);return a&&i.addEventListener("upgradeneeded",e=>{a(In(i.result),e.oldVersion,e.newVersion,In(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{l&&e.addEventListener("close",()=>l()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("yoto-app-db",1,{upgrade(e){e.objectStoreNames.contains("playlist-index")||e.createObjectStore("playlist-index"),e.objectStoreNames.contains("playlist-details")||e.createObjectStore("playlist-details",{keyPath:"cardId"})}}),On)}class Hn{httpClient;listeners=new Map;isSyncing=!1;constructor(e){this.httpClient=e}emit(e,...t){const n=this.listeners.get(e)||[];Te(`YotoDataSyncService emitting '${e}' to ${n.length} listeners`);for(const a of n)a(...t)}on(e,t){const n=this.listeners.get(e)||[];return n.push(t),this.listeners.set(e,n),Te(`YotoDataSyncService: Added listener for '${e}', total listeners: ${n.length}`),()=>{const n=this.listeners.get(e)||[],a=n.indexOf(t);a>-1&&(n.splice(a,1),this.listeners.set(e,n),Te(`YotoDataSyncService: Removed listener for '${e}', remaining listeners: ${n.length}`))}}async getPlaylistIndex(){try{const e=await qn();return await e.get("playlist-index","main")||null}catch(e){return ze("Error getting playlist index from database:",e),null}}async setPlaylistIndex(e){try{const t=await qn(),n={cards:e,lastSynced:(new Date).toISOString()};await t.put("playlist-index",n,"main"),Te("Playlist index saved to database")}catch(t){throw ze("Error saving playlist index to database:",t),t}}async setPlaylistDetails(e){if(!e.cardId)throw ze("Cannot save playlist details: cardId is missing",e),new Error("Playlist cardId is required for saving");try{const t=await qn();await t.put("playlist-details",e),Te(`Playlist details saved for ${e.cardId}`)}catch(t){throw ze(`Error saving playlist details for ${e.cardId}:`,t),t}}async removePlaylistDetails(e){try{const t=await qn();await t.delete("playlist-details",e),Te(`Playlist details removed for ${e}`)}catch(t){throw ze(`Error removing playlist details for ${e}:`,t),t}}async getAllPlaylistDetails(){try{const e=await qn();return await e.getAll("playlist-details")}catch(e){return ze("Error getting all playlist details:",e),[]}}async syncPlaylists(){if(this.isSyncing)Te("Sync already in progress, skipping");else{this.isSyncing=!0,this.emit("sync-started");try{Te("Starting playlist sync");const e=(await this.httpClient.get("content/mine")).cards,t=await this.getPlaylistIndex(),n=t?.cards||[],{newPlaylists:a,updatedPlaylists:r,deletedPlaylists:l}=this.compareIndexes(e,n);Te(`Sync analysis: ${a.length} new, ${r.length} updated, ${l.length} deleted`);const i=[...a,...r].map(async e=>{try{const t=await this.httpClient.get(`content/${e.cardId}`);let n;return Te(`Raw API response for ${e.cardId}:`,t),n=t&&"object"==typeof t&&"card"in t?t.card:t,n.cardId||(n.cardId=e.cardId),Te(`Processed playlist details for ${e.cardId}, cardId: ${n.cardId}`),{success:!0,cardId:e.cardId,data:n}}catch(t){return ze(`Failed to fetch details for playlist ${e.cardId}:`,t),{success:!1,cardId:e.cardId,error:t}}}),o=await Promise.allSettled(i);for(const c of o)"fulfilled"===c.status&&c.value.success&&c.value.data&&await this.setPlaylistDetails(c.value.data);for(const c of l)await this.removePlaylistDetails(c.cardId);await this.setPlaylistIndex(e);const s=await this.getAllPlaylistDetails();this.emit("sync-complete",s),Te(`Sync completed successfully. Total playlists: ${s.length}`)}catch(e){throw ze("Sync failed:",e),this.emit("sync-error",e instanceof Error?e:new Error("Unknown sync error")),e}finally{this.isSyncing=!1}}}compareIndexes(e,t){const n=new Map(t.map(e=>[e.cardId,e])),a=new Map(e.map(e=>[e.cardId,e])),r=[],l=[];for(const i of e){const e=n.get(i.cardId);e?i.updatedAt!==e.updatedAt&&l.push(i):r.push(i)}return{newPlaylists:r,updatedPlaylists:l,deletedPlaylists:t.filter(e=>!a.has(e.cardId))}}async clearCache(){try{const e=await qn();await e.delete("playlist-index","main");const t=await e.getAllKeys("playlist-details");for(const n of t)await e.delete("playlist-details",n);Te("Cache cleared successfully")}catch(e){throw ze("Error clearing cache:",e),e}}get isCurrentlySyncing(){return this.isSyncing}}const Jn=({children:e})=>{const{settings:t,isLoading:a}=Je(),{handleAuthFailure:r}=Fe(),[l,i]=o.useState(!1),s=n.useMemo(()=>({jobQueueService:Qt,yotoHttpClient:Ht,yotoPlaylistService:new Ot(Ht),yotoIconService:new Ut(Ht),yotoCoverImageService:new yn(Ht),yotoAuthService:new rn,yotoSongUploadService:new qt(Ht),customIconService:new Ft(Ht),yotoDataSyncService:new Hn(Ht)}),[]);n.useEffect(()=>{a?i(!1):(Ht.setSettingsProvider({getSettings:()=>t}),Ht.setAuthFailureCallback(r),i(!0))},[t,r,a]);const c=n.useMemo(()=>({...s,isReady:l}),[s,l]);return b.jsx(et.Provider,{value:c,children:e})};class Bn{storagePrefix="yoto-playlist-creator-";get(e){return localStorage.getItem(this.storagePrefix+e)}set(e,t){localStorage.setItem(this.storagePrefix+e,t)}delete(e){localStorage.removeItem(this.storagePrefix+e)}clear(){Object.keys(localStorage).forEach(e=>{e.startsWith(this.storagePrefix)&&localStorage.removeItem(e)})}}class Vn{async selectFiles(e={}){return new Promise(t=>{const n=document.createElement("input");n.type="file",n.multiple=e.multiple??!1,n.accept=e.accept??"*/*",n.onchange=e=>{const n=e.target.files;t(n?Array.from(n):[])},n.oncancel=()=>t([]),n.click()})}async selectDirectory(){if(!("showDirectoryPicker"in window)){const t=document.createElement("input");return t.type="file",t.multiple=!0,t.webkitdirectory=!0,new Promise(e=>{t.onchange=t=>{const n=t.target;e(n.files)},t.oncancel=()=>e(null),t.click()})}try{const n=await window.showDirectoryPicker(),a=[];async function r(e,t=""){if("file"===e.kind){const n=await e.getFile();a.push(new File([n],t+n.name,{type:n.type}))}else if("directory"===e.kind)for await(const[n,a]of e.entries())await r(a,t+n+"/")}return await r(n),a}catch(e){return ze("Directory selection failed:",e),null}}async readFile(e){return new Promise((t,n)=>{const a=new FileReader;a.onload=()=>t(a.result),a.onerror=()=>n(a.error),a.readAsArrayBuffer(e)})}}const Qn=({children:e})=>{const t={appStorage:new Bn,fileOperations:new Vn,platform:"web",isWeb:!0};return b.jsx(Ee.Provider,{value:t,children:e})},Yn=({children:e})=>b.jsx(Ve,{children:b.jsx(Qn,{children:b.jsx(De,{children:b.jsx(gn,{children:b.jsx(Jn,{children:e})})})})}),Wn=()=>{const e=Gt(),[t,a]=n.useState(!1);return n.useEffect(()=>{e&&(e.isProcessing||e.queueLength>0)&&a(!1)},[e]),b.jsxs("div",{className:"app",children:[b.jsx($e,{}),b.jsx("main",{className:"app-main",children:b.jsxs(c,{children:[b.jsx(u,{path:"/login",element:b.jsx(ln,{})}),b.jsx(u,{path:"/auth/callback",element:b.jsx(ln,{})}),b.jsxs(u,{element:b.jsx(_e,{}),children:[b.jsx(u,{path:"/",element:b.jsx(it,{})}),b.jsx(u,{path:"/playlist/create",element:b.jsx(Et,{})}),b.jsx(u,{path:"/playlists/:playlistId",element:b.jsx(Et,{})}),b.jsx(u,{path:"/settings",element:b.jsx(Ye,{})}),b.jsx(u,{path:"/job-queue",element:b.jsx(an,{})}),b.jsx(u,{path:"/custom-icons",element:b.jsx(sn,{})}),b.jsx(u,{path:"/help",element:b.jsx(cn,{})})]})]})}),b.jsx(Ne,{}),!t&&e&&(e.isProcessing||e.queueLength>0||e.currentJob)&&b.jsx(mn,{queueStatus:e,onDismiss:()=>{a(!0)}})]})},Kn=()=>b.jsx(s,{children:b.jsx(Yn,{children:b.jsx(Wn,{})})});N.createRoot(document.getElementById("root")).render(b.jsx(n.StrictMode,{children:b.jsx(Kn,{})}));
